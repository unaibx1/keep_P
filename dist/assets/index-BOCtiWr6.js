(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&l(v)}).observe(document,{childList:!0,subtree:!0});function o(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?p.credentials="include":c.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function l(c){if(c.ep)return;c.ep=!0;const p=o(c);fetch(c.href,p)}})();var sp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function El(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function op(f){if(Object.prototype.hasOwnProperty.call(f,"__esModule"))return f;var r=f.default;if(typeof r=="function"){var o=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(f).forEach(function(l){var c=Object.getOwnPropertyDescriptor(f,l);Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:function(){return f[l]}})}),o}var Wu={exports:{}},Wo={},Vu={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function ap(){if(uf)return Fe;uf=1;var f=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),N=Symbol.iterator;function q(U){return U===null||typeof U!="object"?null:(U=N&&U[N]||U["@@iterator"],typeof U=="function"?U:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ae={};function te(U,G,Le){this.props=U,this.context=G,this.refs=ae,this.updater=Le||Z}te.prototype.isReactComponent={},te.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},te.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function De(){}De.prototype=te.prototype;function Me(U,G,Le){this.props=U,this.context=G,this.refs=ae,this.updater=Le||Z}var ye=Me.prototype=new De;ye.constructor=Me,ie(ye,te.prototype),ye.isPureReactComponent=!0;var be=Array.isArray,ze=Object.prototype.hasOwnProperty,ce={current:null},Ee={key:!0,ref:!0,__self:!0,__source:!0};function wt(U,G,Le){var Ue,Ke={},Be=null,tt=null;if(G!=null)for(Ue in G.ref!==void 0&&(tt=G.ref),G.key!==void 0&&(Be=""+G.key),G)ze.call(G,Ue)&&!Ee.hasOwnProperty(Ue)&&(Ke[Ue]=G[Ue]);var Ye=arguments.length-2;if(Ye===1)Ke.children=Le;else if(1<Ye){for(var fe=Array(Ye),Kt=0;Kt<Ye;Kt++)fe[Kt]=arguments[Kt+2];Ke.children=fe}if(U&&U.defaultProps)for(Ue in Ye=U.defaultProps,Ye)Ke[Ue]===void 0&&(Ke[Ue]=Ye[Ue]);return{$$typeof:f,type:U,key:Be,ref:tt,props:Ke,_owner:ce.current}}function bt(U,G){return{$$typeof:f,type:U.type,key:G,ref:U.ref,props:U.props,_owner:U._owner}}function ut(U){return typeof U=="object"&&U!==null&&U.$$typeof===f}function nn(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Le){return G[Le]})}var xe=/\/+/g;function Te(U,G){return typeof U=="object"&&U!==null&&U.key!=null?nn(""+U.key):G.toString(36)}function et(U,G,Le,Ue,Ke){var Be=typeof U;(Be==="undefined"||Be==="boolean")&&(U=null);var tt=!1;if(U===null)tt=!0;else switch(Be){case"string":case"number":tt=!0;break;case"object":switch(U.$$typeof){case f:case r:tt=!0}}if(tt)return tt=U,Ke=Ke(tt),U=Ue===""?"."+Te(tt,0):Ue,be(Ke)?(Le="",U!=null&&(Le=U.replace(xe,"$&/")+"/"),et(Ke,G,Le,"",function(Kt){return Kt})):Ke!=null&&(ut(Ke)&&(Ke=bt(Ke,Le+(!Ke.key||tt&&tt.key===Ke.key?"":(""+Ke.key).replace(xe,"$&/")+"/")+U)),G.push(Ke)),1;if(tt=0,Ue=Ue===""?".":Ue+":",be(U))for(var Ye=0;Ye<U.length;Ye++){Be=U[Ye];var fe=Ue+Te(Be,Ye);tt+=et(Be,G,Le,fe,Ke)}else if(fe=q(U),typeof fe=="function")for(U=fe.call(U),Ye=0;!(Be=U.next()).done;)Be=Be.value,fe=Ue+Te(Be,Ye++),tt+=et(Be,G,Le,fe,Ke);else if(Be==="object")throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return tt}function xt(U,G,Le){if(U==null)return U;var Ue=[],Ke=0;return et(U,Ue,"","",function(Be){return G.call(Le,Be,Ke++)}),Ue}function At(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(Le){(U._status===0||U._status===-1)&&(U._status=1,U._result=Le)},function(Le){(U._status===0||U._status===-1)&&(U._status=2,U._result=Le)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var ct={current:null},de={transition:null},Ce={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:de,ReactCurrentOwner:ce};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:xt,forEach:function(U,G,Le){xt(U,function(){G.apply(this,arguments)},Le)},count:function(U){var G=0;return xt(U,function(){G++}),G},toArray:function(U){return xt(U,function(G){return G})||[]},only:function(U){if(!ut(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Fe.Component=te,Fe.Fragment=o,Fe.Profiler=c,Fe.PureComponent=Me,Fe.StrictMode=l,Fe.Suspense=k,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ce,Fe.act=pe,Fe.cloneElement=function(U,G,Le){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ue=ie({},U.props),Ke=U.key,Be=U.ref,tt=U._owner;if(G!=null){if(G.ref!==void 0&&(Be=G.ref,tt=ce.current),G.key!==void 0&&(Ke=""+G.key),U.type&&U.type.defaultProps)var Ye=U.type.defaultProps;for(fe in G)ze.call(G,fe)&&!Ee.hasOwnProperty(fe)&&(Ue[fe]=G[fe]===void 0&&Ye!==void 0?Ye[fe]:G[fe])}var fe=arguments.length-2;if(fe===1)Ue.children=Le;else if(1<fe){Ye=Array(fe);for(var Kt=0;Kt<fe;Kt++)Ye[Kt]=arguments[Kt+2];Ue.children=Ye}return{$$typeof:f,type:U.type,key:Ke,ref:Be,props:Ue,_owner:tt}},Fe.createContext=function(U){return U={$$typeof:v,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:p,_context:U},U.Consumer=U},Fe.createElement=wt,Fe.createFactory=function(U){var G=wt.bind(null,U);return G.type=U,G},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(U){return{$$typeof:_,render:U}},Fe.isValidElement=ut,Fe.lazy=function(U){return{$$typeof:j,_payload:{_status:-1,_result:U},_init:At}},Fe.memo=function(U,G){return{$$typeof:E,type:U,compare:G===void 0?null:G}},Fe.startTransition=function(U){var G=de.transition;de.transition={};try{U()}finally{de.transition=G}},Fe.unstable_act=pe,Fe.useCallback=function(U,G){return ct.current.useCallback(U,G)},Fe.useContext=function(U){return ct.current.useContext(U)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(U){return ct.current.useDeferredValue(U)},Fe.useEffect=function(U,G){return ct.current.useEffect(U,G)},Fe.useId=function(){return ct.current.useId()},Fe.useImperativeHandle=function(U,G,Le){return ct.current.useImperativeHandle(U,G,Le)},Fe.useInsertionEffect=function(U,G){return ct.current.useInsertionEffect(U,G)},Fe.useLayoutEffect=function(U,G){return ct.current.useLayoutEffect(U,G)},Fe.useMemo=function(U,G){return ct.current.useMemo(U,G)},Fe.useReducer=function(U,G,Le){return ct.current.useReducer(U,G,Le)},Fe.useRef=function(U){return ct.current.useRef(U)},Fe.useState=function(U){return ct.current.useState(U)},Fe.useSyncExternalStore=function(U,G,Le){return ct.current.useSyncExternalStore(U,G,Le)},Fe.useTransition=function(){return ct.current.useTransition()},Fe.version="18.3.1",Fe}var cf;function yc(){return cf||(cf=1,Vu.exports=ap()),Vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function lp(){if(df)return Wo;df=1;var f=yc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function v(_,k,E){var j,N={},q=null,Z=null;E!==void 0&&(q=""+E),k.key!==void 0&&(q=""+k.key),k.ref!==void 0&&(Z=k.ref);for(j in k)l.call(k,j)&&!p.hasOwnProperty(j)&&(N[j]=k[j]);if(_&&_.defaultProps)for(j in k=_.defaultProps,k)N[j]===void 0&&(N[j]=k[j]);return{$$typeof:r,type:_,key:q,ref:Z,props:N,_owner:c.current}}return Wo.Fragment=o,Wo.jsx=v,Wo.jsxs=v,Wo}var ff;function up(){return ff||(ff=1,Wu.exports=lp()),Wu.exports}var z=up(),Ve=yc();const cp=El(Ve);var hl={},Hu={exports:{}},fn={},Qu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function dp(){return hf||(hf=1,(function(f){function r(de,Ce){var pe=de.length;de.push(Ce);e:for(;0<pe;){var U=pe-1>>>1,G=de[U];if(0<c(G,Ce))de[U]=Ce,de[pe]=G,pe=U;else break e}}function o(de){return de.length===0?null:de[0]}function l(de){if(de.length===0)return null;var Ce=de[0],pe=de.pop();if(pe!==Ce){de[0]=pe;e:for(var U=0,G=de.length,Le=G>>>1;U<Le;){var Ue=2*(U+1)-1,Ke=de[Ue],Be=Ue+1,tt=de[Be];if(0>c(Ke,pe))Be<G&&0>c(tt,Ke)?(de[U]=tt,de[Be]=pe,U=Be):(de[U]=Ke,de[Ue]=pe,U=Ue);else if(Be<G&&0>c(tt,pe))de[U]=tt,de[Be]=pe,U=Be;else break e}}return Ce}function c(de,Ce){var pe=de.sortIndex-Ce.sortIndex;return pe!==0?pe:de.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;f.unstable_now=function(){return p.now()}}else{var v=Date,_=v.now();f.unstable_now=function(){return v.now()-_}}var k=[],E=[],j=1,N=null,q=3,Z=!1,ie=!1,ae=!1,te=typeof setTimeout=="function"?setTimeout:null,De=typeof clearTimeout=="function"?clearTimeout:null,Me=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(de){for(var Ce=o(E);Ce!==null;){if(Ce.callback===null)l(E);else if(Ce.startTime<=de)l(E),Ce.sortIndex=Ce.expirationTime,r(k,Ce);else break;Ce=o(E)}}function be(de){if(ae=!1,ye(de),!ie)if(o(k)!==null)ie=!0,At(ze);else{var Ce=o(E);Ce!==null&&ct(be,Ce.startTime-de)}}function ze(de,Ce){ie=!1,ae&&(ae=!1,De(wt),wt=-1),Z=!0;var pe=q;try{for(ye(Ce),N=o(k);N!==null&&(!(N.expirationTime>Ce)||de&&!nn());){var U=N.callback;if(typeof U=="function"){N.callback=null,q=N.priorityLevel;var G=U(N.expirationTime<=Ce);Ce=f.unstable_now(),typeof G=="function"?N.callback=G:N===o(k)&&l(k),ye(Ce)}else l(k);N=o(k)}if(N!==null)var Le=!0;else{var Ue=o(E);Ue!==null&&ct(be,Ue.startTime-Ce),Le=!1}return Le}finally{N=null,q=pe,Z=!1}}var ce=!1,Ee=null,wt=-1,bt=5,ut=-1;function nn(){return!(f.unstable_now()-ut<bt)}function xe(){if(Ee!==null){var de=f.unstable_now();ut=de;var Ce=!0;try{Ce=Ee(!0,de)}finally{Ce?Te():(ce=!1,Ee=null)}}else ce=!1}var Te;if(typeof Me=="function")Te=function(){Me(xe)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,xt=et.port2;et.port1.onmessage=xe,Te=function(){xt.postMessage(null)}}else Te=function(){te(xe,0)};function At(de){Ee=de,ce||(ce=!0,Te())}function ct(de,Ce){wt=te(function(){de(f.unstable_now())},Ce)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(de){de.callback=null},f.unstable_continueExecution=function(){ie||Z||(ie=!0,At(ze))},f.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<de?Math.floor(1e3/de):5},f.unstable_getCurrentPriorityLevel=function(){return q},f.unstable_getFirstCallbackNode=function(){return o(k)},f.unstable_next=function(de){switch(q){case 1:case 2:case 3:var Ce=3;break;default:Ce=q}var pe=q;q=Ce;try{return de()}finally{q=pe}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(de,Ce){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var pe=q;q=de;try{return Ce()}finally{q=pe}},f.unstable_scheduleCallback=function(de,Ce,pe){var U=f.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?U+pe:U):pe=U,de){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=pe+G,de={id:j++,callback:Ce,priorityLevel:de,startTime:pe,expirationTime:G,sortIndex:-1},pe>U?(de.sortIndex=pe,r(E,de),o(k)===null&&de===o(E)&&(ae?(De(wt),wt=-1):ae=!0,ct(be,pe-U))):(de.sortIndex=G,r(k,de),ie||Z||(ie=!0,At(ze))),de},f.unstable_shouldYield=nn,f.unstable_wrapCallback=function(de){var Ce=q;return function(){var pe=q;q=Ce;try{return de.apply(this,arguments)}finally{q=pe}}}})(Gu)),Gu}var pf;function fp(){return pf||(pf=1,Qu.exports=dp()),Qu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function hp(){if(mf)return fn;mf=1;var f=yc(),r=fp();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function p(e,t){v(e,t),v(e+"Capture",t)}function v(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j={},N={};function q(e){return k.call(N,e)?!0:k.call(j,e)?!1:E.test(e)?N[e]=!0:(j[e]=!0,!1)}function Z(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ie(e,t,n,s){if(t===null||typeof t>"u"||Z(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ae(e,t,n,s,u,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){te[e]=new ae(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];te[t]=new ae(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){te[e]=new ae(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){te[e]=new ae(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){te[e]=new ae(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){te[e]=new ae(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){te[e]=new ae(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){te[e]=new ae(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){te[e]=new ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var De=/[\-:]([a-z])/g;function Me(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(De,Me);te[t]=new ae(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(De,Me);te[t]=new ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(De,Me);te[t]=new ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){te[e]=new ae(e,1,!1,e.toLowerCase(),null,!1,!1)}),te.xlinkHref=new ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){te[e]=new ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function ye(e,t,n,s){var u=te.hasOwnProperty(t)?te[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ie(t,n,u,s)&&(n=null),s||u===null?q(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):u.mustUseProperty?e[u.propertyName]=n===null?u.type===3?!1:"":n:(t=u.attributeName,s=u.attributeNamespace,n===null?e.removeAttribute(t):(u=u.type,n=u===3||u===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var be=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ze=Symbol.for("react.element"),ce=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),wt=Symbol.for("react.strict_mode"),bt=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),nn=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),ct=Symbol.for("react.offscreen"),de=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,U;function G(e){if(U===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return`
`+U+e}var Le=!1;function Ue(e,t){if(!e||Le)return"";Le=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(W){var s=W}Reflect.construct(e,[],t)}else{try{t.call()}catch(W){s=W}e.call(t.prototype)}else{try{throw Error()}catch(W){s=W}e()}}catch(W){if(W&&s&&typeof W.stack=="string"){for(var u=W.stack.split(`
`),h=s.stack.split(`
`),g=u.length-1,x=h.length-1;1<=g&&0<=x&&u[g]!==h[x];)x--;for(;1<=g&&0<=x;g--,x--)if(u[g]!==h[x]){if(g!==1||x!==1)do if(g--,x--,0>x||u[g]!==h[x]){var P=`
`+u[g].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=g&&0<=x);break}}}finally{Le=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function Ke(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=Ue(e.type,!1),e;case 11:return e=Ue(e.type.render,!1),e;case 1:return e=Ue(e.type,!0),e;default:return""}}function Be(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ee:return"Fragment";case ce:return"Portal";case bt:return"Profiler";case wt:return"StrictMode";case Te:return"Suspense";case et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nn:return(e.displayName||"Context")+".Consumer";case ut:return(e._context.displayName||"Context")+".Provider";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xt:return t=e.displayName||null,t!==null?t:Be(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return Be(e(t))}catch{}}return null}function tt(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(t);case 8:return t===wt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kt(e){var t=fe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ur(e){e._valueTracker||(e._valueTracker=Kt(e))}function Xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=fe(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Fn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function no(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zn(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ye(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zo(e,t){t=t.checked,t!=null&&ye(e,"checked",t,!1)}function ro(e,t){Zo(e,t);var n=Ye(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?io(e,t.type,n):t.hasOwnProperty("defaultValue")&&io(e,t.type,Ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ea(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function io(e,t,n){(t!=="number"||Fn(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cr=Array.isArray;function Ut(e,t,n,s){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ye(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function rs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ur(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(cr(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ye(n)}}function so(e,t){var n=Ye(t.value),s=Ye(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Br(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function En(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fr,zr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(e){fr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qn[t]=qn[e]})});function ki(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qn.hasOwnProperty(e)&&qn[e]?(""+t).trim():t+"px"}function is(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,u=ki(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,u):e[n]=u}}var Wn=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Wn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function hr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cn=null;function Kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var he=null,Vn=null,pr=null;function ss(e){if(e=Oo(e)){if(typeof he!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Pa(t),he(e.stateNode,e.type,t))}}function oo(e){Vn?pr?pr.push(e):pr=[e]:Vn=e}function os(){if(Vn){var e=Vn,t=pr;if(pr=Vn=null,ss(e),t)for(e=0;e<t.length;e++)ss(t[e])}}function ta(e,t){return e(t)}function na(){}var Hn=!1;function mr(e,t,n){if(Hn)return e(t,n);Hn=!0;try{return ta(e,t,n)}finally{Hn=!1,(Vn!==null||pr!==null)&&(na(),os())}}function vr(e,t){var n=e.stateNode;if(n===null)return null;var s=Pa(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var qr=!1;if(_)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){qr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{qr=!1}function _t(e,t,n,s,u,h,g,x,P){var W=Array.prototype.slice.call(arguments,3);try{t.apply(n,W)}catch(X){this.onError(X)}}var bi=!1,yr=null,gr=!1,Wr=null,jl={onError:function(e){bi=!0,yr=e}};function Qn(e,t,n,s,u,h,g,x,P){bi=!1,yr=null,_t.apply(jl,arguments)}function Vr(e,t,n,s,u,h,g,x,P){if(Qn.apply(this,arguments),bi){if(bi){var W=yr;bi=!1,yr=null}else throw Error(o(198));gr||(gr=!0,Wr=W)}}function qt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ra(e){if(qt(e)!==e)throw Error(o(188))}function Gn(e){var t=e.alternate;if(!t){if(t=qt(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var u=n.return;if(u===null)break;var h=u.alternate;if(h===null){if(s=u.return,s!==null){n=s;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===n)return ra(u),e;if(h===s)return ra(u),t;h=h.sibling}throw Error(o(188))}if(n.return!==s.return)n=u,s=h;else{for(var g=!1,x=u.child;x;){if(x===n){g=!0,n=u,s=h;break}if(x===s){g=!0,s=u,n=h;break}x=x.sibling}if(!g){for(x=h.child;x;){if(x===n){g=!0,n=h,s=u;break}if(x===s){g=!0,s=h,n=u;break}x=x.sibling}if(!g)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function ao(e){return e=Gn(e),e!==null?Jn(e):null}function Jn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jn(e);if(t!==null)return t;e=e.sibling}return null}var lo=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,ht=r.unstable_shouldYield,wr=r.unstable_requestPaint,Ze=r.unstable_now,ia=r.unstable_getCurrentPriorityLevel,Yn=r.unstable_ImmediatePriority,Si=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,uo=r.unstable_LowPriority,Xn=r.unstable_IdlePriority,Ei=null,Xt=null;function sa(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ei,e,void 0,(e.current.flags&128)===128)}catch{}}var Ne=Math.clz32?Math.clz32:ls,oa=Math.log,aa=Math.LN2;function ls(e){return e>>>=0,e===0?32:31-(oa(e)/aa|0)|0}var Ci=64,rt=4194304;function jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zn(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,u=e.suspendedLanes,h=e.pingedLanes,g=n&268435455;if(g!==0){var x=g&~u;x!==0?s=jn(x):(h&=g,h!==0&&(s=jn(h)))}else g=n&~u,g!==0?s=jn(g):h!==0&&(s=jn(h));if(s===0)return 0;if(t!==0&&t!==s&&(t&u)===0&&(u=s&-s,h=t&-t,u>=h||u===16&&(h&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ne(t),u=1<<n,s|=e[n],t&=~u;return s}function Qr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-Ne(h),x=1<<g,P=u[g];P===-1?((x&n)===0||(x&s)!==0)&&(u[g]=Qr(x,t)):P<=t&&(e.expiredLanes|=x),h&=~x}}function ji(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pi(){var e=Ci;return Ci<<=1,(Ci&4194240)===0&&(Ci=64),e}function us(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function er(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ne(t),e[t]=n}function la(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var u=31-Ne(n),h=1<<u;t[u]=0,s[u]=-1,e[u]=-1,n&=~h}}function _r(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ne(n),u=1<<s;u&t|e[s]&t&&(e[s]|=t),n&=~u}}var Ge=0;function ua(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var He,cs,ca,da,Wt,tr=!1,kr=[],Bt=null,Pn=null,Tn=null,dt=new Map,Vt=new Map,rn=[],Ti="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ds(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vt.delete(t.pointerId)}}function sn(e,t,n,s,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Oo(t),t!==null&&cs(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Pl(e,t,n,s,u){switch(t){case"focusin":return Bt=sn(Bt,e,t,n,s,u),!0;case"dragenter":return Pn=sn(Pn,e,t,n,s,u),!0;case"mouseover":return Tn=sn(Tn,e,t,n,s,u),!0;case"pointerover":var h=u.pointerId;return dt.set(h,sn(dt.get(h)||null,e,t,n,s,u)),!0;case"gotpointercapture":return h=u.pointerId,Vt.set(h,sn(Vt.get(h)||null,e,t,n,s,u)),!0}return!1}function hn(e){var t=Ui(e.target);if(t!==null){var n=qt(t);if(n!==null){if(t=n.tag,t===13){if(t=xi(n),t!==null){e.blockedOn=t,Wt(e.priority,function(){ca(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Cn=s,n.target.dispatchEvent(s),Cn=null}else return t=Oo(n),t!==null&&cs(t),e.blockedOn=n,!1;t.shift()}return!0}function fo(e,t,n){Gr(e)&&n.delete(t)}function ho(){tr=!1,Bt!==null&&Gr(Bt)&&(Bt=null),Pn!==null&&Gr(Pn)&&(Pn=null),Tn!==null&&Gr(Tn)&&(Tn=null),dt.forEach(fo),Vt.forEach(fo)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,tr||(tr=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ho)))}function br(e){function t(u){return On(u,e)}if(0<kr.length){On(kr[0],e);for(var n=1;n<kr.length;n++){var s=kr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Bt!==null&&On(Bt,e),Pn!==null&&On(Pn,e),Tn!==null&&On(Tn,e),dt.forEach(t),Vt.forEach(t),n=0;n<rn.length;n++)s=rn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)hn(n),n.blockedOn===null&&rn.shift()}var xr=be.ReactCurrentBatchConfig,fs=!0;function Oi(e,t,n,s){var u=Ge,h=xr.transition;xr.transition=null;try{Ge=1,po(e,t,n,s)}finally{Ge=u,xr.transition=h}}function Tl(e,t,n,s){var u=Ge,h=xr.transition;xr.transition=null;try{Ge=4,po(e,t,n,s)}finally{Ge=u,xr.transition=h}}function po(e,t,n,s){if(fs){var u=Jr(e,t,n,s);if(u===null)Ll(e,t,s,Sr,n),ds(e,s);else if(Pl(u,e,t,n,s))s.stopPropagation();else if(ds(e,s),t&4&&-1<Ti.indexOf(e)){for(;u!==null;){var h=Oo(u);if(h!==null&&He(h),h=Jr(e,t,n,s),h===null&&Ll(e,t,s,Sr,n),h===u)break;u=h}u!==null&&s.stopPropagation()}else Ll(e,t,s,null,n)}}var Sr=null;function Jr(e,t,n,s){if(Sr=null,e=Kr(s),e=Ui(e),e!==null)if(t=qt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sr=e,null}function hs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ia()){case Yn:return 1;case Si:return 4;case Hr:case uo:return 16;case Xn:return 536870912;default:return 16}default:return 16}}var nr=null,mo=null,ps=null;function ms(){if(ps)return ps;var e,t=mo,n=t.length,s,u="value"in nr?nr.value:nr.textContent,h=u.length;for(e=0;e<n&&t[e]===u[e];e++);var g=n-e;for(s=1;s<=g&&t[n-s]===u[h-s];s++);return ps=u.slice(e,1<s?1-s:void 0)}function Yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Ri(){return!1}function It(e){function t(n,s,u,h,g){this._reactName=n,this._targetInst=u,this.type=s,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ni:Ri,this.isPropagationStopped=Ri,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=It(Nn),Ai=pe({},Nn,{view:0,detail:0}),Xr=It(Ai),Ii,Li,Er,Zr=pe({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Ii=e.screenX-Er.screenX,Li=e.screenY-Er.screenY):Li=Ii=0,Er=e),Ii)},movementY:function(e){return"movementY"in e?e.movementY:Li}}),St=It(Zr),Di=pe({},Zr,{dataTransfer:0}),$i=It(Di),fa=pe({},Ai,{relatedTarget:0}),ei=It(fa),ha=pe({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=It(ha),ys=pe({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vo=It(ys),Cr=pe({},Nn,{data:0}),gs=It(Cr),yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ma(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=go[e])?!!t[e]:!1}function wo(){return ma}var _o=pe({},Ai,{key:function(e){if(e.key){var t=yo[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ws[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_s=It(_o),Ol=pe({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ks=It(Ol),ko=pe({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),Nl=It(ko),va=pe({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rl=It(va),ya=pe({},Zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=It(ya),Al=[9,13,27,32],bs=_&&"CompositionEvent"in window,jr=null;_&&"documentMode"in document&&(jr=document.documentMode);var wa=_&&"TextEvent"in window&&!jr,bo=_&&(!bs||jr&&8<jr&&11>=jr),_a=" ",ka=!1;function ba(e,t){switch(e){case"keyup":return Al.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ht=!1;function pt(e,t){switch(e){case"compositionend":return Mi(t);case"keypress":return t.which!==32?null:(ka=!0,_a);case"textInput":return e=t.data,e===_a&&ka?null:e;default:return null}}function xs(e,t){if(Ht)return e==="compositionend"||!bs&&ba(e,t)?(e=ms(),ps=mo=nr=null,Ht=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bo&&t.locale!=="ko"?null:t.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!on[e.type]:t==="textarea"}function Ss(e,t,n,s){oo(s),t=Ea(t,"onChange"),0<t.length&&(n=new vs("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ti=null,pn=null;function xo(e){Sc(e,0)}function Rn(e){var t=js(e);if(Xe(t))return e}function rr(e,t){if(e==="change")return t}var So=!1;if(_){var i;if(_){var a="oninput"in document;if(!a){var d=document.createElement("div");d.setAttribute("oninput","return;"),a=typeof d.oninput=="function"}i=a}else i=!1;So=i&&(!document.documentMode||9<document.documentMode)}function m(){ti&&(ti.detachEvent("onpropertychange",y),pn=ti=null)}function y(e){if(e.propertyName==="value"&&Rn(pn)){var t=[];Ss(t,pn,e,Kr(e)),mr(xo,t)}}function w(e,t,n){e==="focusin"?(m(),ti=t,pn=n,ti.attachEvent("onpropertychange",y)):e==="focusout"&&m()}function b(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rn(pn)}function S(e,t){if(e==="click")return Rn(t)}function T(e,t){if(e==="input"||e==="change")return Rn(t)}function R(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I=typeof Object.is=="function"?Object.is:R;function C(e,t){if(I(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var u=n[s];if(!k.call(t,u)||!I(e[u],t[u]))return!1}return!0}function M(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O(e,t){var n=M(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M(n)}}function L(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $(){for(var e=window,t=Fn();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fn(e.document)}return t}function D(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B(e){var t=$(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&L(n.ownerDocument.documentElement,n)){if(s!==null&&D(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=n.textContent.length,h=Math.min(s.start,u);s=s.end===void 0?h:Math.min(s.end,u),!e.extend&&h>s&&(u=s,s=h,h=u),u=O(n,h);var g=O(n,s);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),h>s?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V=_&&"documentMode"in document&&11>=document.documentMode,H=null,Q=null,Y=null,oe=!1;function ne(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oe||H==null||H!==Fn(s)||(s=H,"selectionStart"in s&&D(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Y&&C(Y,s)||(Y=s,s=Ea(Q,"onSelect"),0<s.length&&(t=new vs("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=H)))}function re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var le={animationend:re("Animation","AnimationEnd"),animationiteration:re("Animation","AnimationIteration"),animationstart:re("Animation","AnimationStart"),transitionend:re("Transition","TransitionEnd")},ue={},me={};_&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete le.animationend.animation,delete le.animationiteration.animation,delete le.animationstart.animation),"TransitionEvent"in window||delete le.transitionend.transition);function Re(e){if(ue[e])return ue[e];if(!le[e])return e;var t=le[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in me)return ue[e]=t[n];return e}var qe=Re("animationend"),Ae=Re("animationiteration"),ot=Re("animationstart"),Oe=Re("transitionend"),Et=new Map,Ct="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(e,t){Et.set(e,t),p(t,[e])}for(var jt=0;jt<Ct.length;jt++){var An=Ct[jt],Eo=An.toLowerCase(),mh=An[0].toUpperCase()+An.slice(1);mn(Eo,"on"+mh)}mn(qe,"onAnimationEnd"),mn(Ae,"onAnimationIteration"),mn(ot,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Oe,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function xc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Vr(s,t,void 0,e),e.currentTarget=null}function Sc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],u=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var g=s.length-1;0<=g;g--){var x=s[g],P=x.instance,W=x.currentTarget;if(x=x.listener,P!==h&&u.isPropagationStopped())break e;xc(u,x,W),h=P}else for(g=0;g<s.length;g++){if(x=s[g],P=x.instance,W=x.currentTarget,x=x.listener,P!==h&&u.isPropagationStopped())break e;xc(u,x,W),h=P}}}if(gr)throw e=Wr,gr=!1,Wr=null,e}function at(e,t){var n=t[Fl];n===void 0&&(n=t[Fl]=new Set);var s=e+"__bubble";n.has(s)||(Ec(t,e,2,!1),n.add(s))}function Il(e,t,n){var s=0;t&&(s|=4),Ec(n,e,s,t)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[Sa]){e[Sa]=!0,l.forEach(function(n){n!=="selectionchange"&&(vh.has(n)||Il(n,!1,e),Il(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sa]||(t[Sa]=!0,Il("selectionchange",!1,t))}}function Ec(e,t,n,s){switch(hs(t)){case 1:var u=Oi;break;case 4:u=Tl;break;default:u=po}n=u.bind(null,t,n,e),u=void 0,!qr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Ll(e,t,n,s,u){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var x=s.stateNode.containerInfo;if(x===u||x.nodeType===8&&x.parentNode===u)break;if(g===4)for(g=s.return;g!==null;){var P=g.tag;if((P===3||P===4)&&(P=g.stateNode.containerInfo,P===u||P.nodeType===8&&P.parentNode===u))return;g=g.return}for(;x!==null;){if(g=Ui(x),g===null)return;if(P=g.tag,P===5||P===6){s=h=g;continue e}x=x.parentNode}}s=s.return}mr(function(){var W=h,X=Kr(n),ee=[];e:{var J=Et.get(e);if(J!==void 0){var ve=vs,we=e;switch(e){case"keypress":if(Yr(n)===0)break e;case"keydown":case"keyup":ve=_s;break;case"focusin":we="focus",ve=ei;break;case"focusout":we="blur",ve=ei;break;case"beforeblur":case"afterblur":ve=ei;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=St;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=$i;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Nl;break;case qe:case Ae:case ot:ve=pa;break;case Oe:ve=Rl;break;case"scroll":ve=Xr;break;case"wheel":ve=ga;break;case"copy":case"cut":case"paste":ve=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=ks}var ke=(t&4)!==0,gt=!ke&&e==="scroll",F=ke?J!==null?J+"Capture":null:J;ke=[];for(var A=W,K;A!==null;){K=A;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,F!==null&&(se=vr(A,F),se!=null&&ke.push(Po(A,se,K)))),gt)break;A=A.return}0<ke.length&&(J=new ve(J,we,null,n,X),ee.push({event:J,listeners:ke}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",J&&n!==Cn&&(we=n.relatedTarget||n.fromElement)&&(Ui(we)||we[Pr]))break e;if((ve||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,ve?(we=n.relatedTarget||n.toElement,ve=W,we=we?Ui(we):null,we!==null&&(gt=qt(we),we!==gt||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=W),ve!==we)){if(ke=St,se="onMouseLeave",F="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ke=ks,se="onPointerLeave",F="onPointerEnter",A="pointer"),gt=ve==null?J:js(ve),K=we==null?J:js(we),J=new ke(se,A+"leave",ve,n,X),J.target=gt,J.relatedTarget=K,se=null,Ui(X)===W&&(ke=new ke(F,A+"enter",we,n,X),ke.target=K,ke.relatedTarget=gt,se=ke),gt=se,ve&&we)t:{for(ke=ve,F=we,A=0,K=ke;K;K=Es(K))A++;for(K=0,se=F;se;se=Es(se))K++;for(;0<A-K;)ke=Es(ke),A--;for(;0<K-A;)F=Es(F),K--;for(;A--;){if(ke===F||F!==null&&ke===F.alternate)break t;ke=Es(ke),F=Es(F)}ke=null}else ke=null;ve!==null&&Cc(ee,J,ve,ke,!1),we!==null&&gt!==null&&Cc(ee,gt,we,ke,!0)}}e:{if(J=W?js(W):window,ve=J.nodeName&&J.nodeName.toLowerCase(),ve==="select"||ve==="input"&&J.type==="file")var Se=rr;else if(xa(J))if(So)Se=T;else{Se=b;var je=w}else(ve=J.nodeName)&&ve.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(Se=S);if(Se&&(Se=Se(e,W))){Ss(ee,Se,n,X);break e}je&&je(e,J,W),e==="focusout"&&(je=J._wrapperState)&&je.controlled&&J.type==="number"&&io(J,"number",J.value)}switch(je=W?js(W):window,e){case"focusin":(xa(je)||je.contentEditable==="true")&&(H=je,Q=W,Y=null);break;case"focusout":Y=Q=H=null;break;case"mousedown":oe=!0;break;case"contextmenu":case"mouseup":case"dragend":oe=!1,ne(ee,n,X);break;case"selectionchange":if(V)break;case"keydown":case"keyup":ne(ee,n,X)}var Pe;if(bs)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ht?ba(e,n)&&(Ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ie="onCompositionStart");Ie&&(bo&&n.locale!=="ko"&&(Ht||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ht&&(Pe=ms()):(nr=X,mo="value"in nr?nr.value:nr.textContent,Ht=!0)),je=Ea(W,Ie),0<je.length&&(Ie=new gs(Ie,e,null,n,X),ee.push({event:Ie,listeners:je}),Pe?Ie.data=Pe:(Pe=Mi(n),Pe!==null&&(Ie.data=Pe)))),(Pe=wa?pt(e,n):xs(e,n))&&(W=Ea(W,"onBeforeInput"),0<W.length&&(X=new gs("onBeforeInput","beforeinput",null,n,X),ee.push({event:X,listeners:W}),X.data=Pe))}Sc(ee,t)})}function Po(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ea(e,t){for(var n=t+"Capture",s=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=vr(e,n),h!=null&&s.unshift(Po(e,h,u)),h=vr(e,t),h!=null&&s.push(Po(e,h,u))),e=e.return}return s}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cc(e,t,n,s,u){for(var h=t._reactName,g=[];n!==null&&n!==s;){var x=n,P=x.alternate,W=x.stateNode;if(P!==null&&P===s)break;x.tag===5&&W!==null&&(x=W,u?(P=vr(n,h),P!=null&&g.unshift(Po(n,P,x))):u||(P=vr(n,h),P!=null&&g.push(Po(n,P,x)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var yh=/\r\n?/g,gh=/\u0000|\uFFFD/g;function jc(e){return(typeof e=="string"?e:""+e).replace(yh,`
`).replace(gh,"")}function Ca(e,t,n){if(t=jc(t),jc(e)!==t&&n)throw Error(o(425))}function ja(){}var Dl=null,$l=null;function Ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,wh=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,_h=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(e){return Pc.resolve(null).then(e).catch(kh)}:Ul;function kh(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,s=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(s===0){e.removeChild(u),br(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=u}while(n);br(t)}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),ir="__reactFiber$"+Cs,To="__reactProps$"+Cs,Pr="__reactContainer$"+Cs,Fl="__reactEvents$"+Cs,bh="__reactListeners$"+Cs,xh="__reactHandles$"+Cs;function Ui(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pr]||n[ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tc(e);e!==null;){if(n=e[ir])return n;e=Tc(e)}return t}e=n,n=e.parentNode}return null}function Oo(e){return e=e[ir]||e[Pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Pa(e){return e[To]||null}var zl=[],Ps=-1;function ri(e){return{current:e}}function lt(e){0>Ps||(e.current=zl[Ps],zl[Ps]=null,Ps--)}function it(e,t){Ps++,zl[Ps]=e.current,e.current=t}var ii={},Qt=ri(ii),an=ri(!1),Bi=ii;function Ts(e,t){var n=e.type.contextTypes;if(!n)return ii;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in n)u[h]=t[h];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function ln(e){return e=e.childContextTypes,e!=null}function Ta(){lt(an),lt(Qt)}function Oc(e,t,n){if(Qt.current!==ii)throw Error(o(168));it(Qt,t),it(an,n)}function Nc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(o(108,tt(e)||"Unknown",u));return pe({},n,s)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ii,Bi=Qt.current,it(Qt,e),it(an,an.current),!0}function Rc(e,t,n){var s=e.stateNode;if(!s)throw Error(o(169));n?(e=Nc(e,t,Bi),s.__reactInternalMemoizedMergedChildContext=e,lt(an),lt(Qt),it(Qt,e)):lt(an),it(an,n)}var Tr=null,Na=!1,Kl=!1;function Ac(e){Tr===null?Tr=[e]:Tr.push(e)}function Sh(e){Na=!0,Ac(e)}function si(){if(!Kl&&Tr!==null){Kl=!0;var e=0,t=Ge;try{var n=Tr;for(Ge=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Tr=null,Na=!1}catch(u){throw Tr!==null&&(Tr=Tr.slice(e+1)),lo(Yn,si),u}finally{Ge=t,Kl=!1}}return null}var Os=[],Ns=0,Ra=null,Aa=0,wn=[],_n=0,Fi=null,Or=1,Nr="";function zi(e,t){Os[Ns++]=Aa,Os[Ns++]=Ra,Ra=e,Aa=t}function Ic(e,t,n){wn[_n++]=Or,wn[_n++]=Nr,wn[_n++]=Fi,Fi=e;var s=Or;e=Nr;var u=32-Ne(s)-1;s&=~(1<<u),n+=1;var h=32-Ne(t)+u;if(30<h){var g=u-u%5;h=(s&(1<<g)-1).toString(32),s>>=g,u-=g,Or=1<<32-Ne(t)+u|n<<u|s,Nr=h+e}else Or=1<<h|n<<u|s,Nr=e}function ql(e){e.return!==null&&(zi(e,1),Ic(e,1,0))}function Wl(e){for(;e===Ra;)Ra=Os[--Ns],Os[Ns]=null,Aa=Os[--Ns],Os[Ns]=null;for(;e===Fi;)Fi=wn[--_n],wn[_n]=null,Nr=wn[--_n],wn[_n]=null,Or=wn[--_n],wn[_n]=null}var vn=null,yn=null,ft=!1,In=null;function Lc(e,t){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,yn=ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fi!==null?{id:Or,overflow:Nr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vn=e,yn=null,!0):!1;default:return!1}}function Vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(ft){var t=yn;if(t){var n=t;if(!Dc(e,t)){if(Vl(e))throw Error(o(418));t=ni(n.nextSibling);var s=vn;t&&Dc(e,t)?Lc(s,n):(e.flags=e.flags&-4097|2,ft=!1,vn=e)}}else{if(Vl(e))throw Error(o(418));e.flags=e.flags&-4097|2,ft=!1,vn=e}}}function $c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function Ia(e){if(e!==vn)return!1;if(!ft)return $c(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ml(e.type,e.memoizedProps)),t&&(t=yn)){if(Vl(e))throw Mc(),Error(o(418));for(;t;)Lc(e,t),t=ni(t.nextSibling)}if($c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yn=ni(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=vn?ni(e.stateNode.nextSibling):null;return!0}function Mc(){for(var e=yn;e;)e=ni(e.nextSibling)}function Rs(){yn=vn=null,ft=!1}function Ql(e){In===null?In=[e]:In.push(e)}var Eh=be.ReactCurrentBatchConfig;function No(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var s=n.stateNode}if(!s)throw Error(o(147,e));var u=s,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var x=u.refs;g===null?delete x[h]:x[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function Bc(e){function t(F,A){if(e){var K=F.deletions;K===null?(F.deletions=[A],F.flags|=16):K.push(A)}}function n(F,A){if(!e)return null;for(;A!==null;)t(F,A),A=A.sibling;return null}function s(F,A){for(F=new Map;A!==null;)A.key!==null?F.set(A.key,A):F.set(A.index,A),A=A.sibling;return F}function u(F,A){return F=hi(F,A),F.index=0,F.sibling=null,F}function h(F,A,K){return F.index=K,e?(K=F.alternate,K!==null?(K=K.index,K<A?(F.flags|=2,A):K):(F.flags|=2,A)):(F.flags|=1048576,A)}function g(F){return e&&F.alternate===null&&(F.flags|=2),F}function x(F,A,K,se){return A===null||A.tag!==6?(A=Uu(K,F.mode,se),A.return=F,A):(A=u(A,K),A.return=F,A)}function P(F,A,K,se){var Se=K.type;return Se===Ee?X(F,A,K.props.children,se,K.key):A!==null&&(A.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===At&&Uc(Se)===A.type)?(se=u(A,K.props),se.ref=No(F,A,K),se.return=F,se):(se=sl(K.type,K.key,K.props,null,F.mode,se),se.ref=No(F,A,K),se.return=F,se)}function W(F,A,K,se){return A===null||A.tag!==4||A.stateNode.containerInfo!==K.containerInfo||A.stateNode.implementation!==K.implementation?(A=Bu(K,F.mode,se),A.return=F,A):(A=u(A,K.children||[]),A.return=F,A)}function X(F,A,K,se,Se){return A===null||A.tag!==7?(A=Ji(K,F.mode,se,Se),A.return=F,A):(A=u(A,K),A.return=F,A)}function ee(F,A,K){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Uu(""+A,F.mode,K),A.return=F,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ze:return K=sl(A.type,A.key,A.props,null,F.mode,K),K.ref=No(F,null,A),K.return=F,K;case ce:return A=Bu(A,F.mode,K),A.return=F,A;case At:var se=A._init;return ee(F,se(A._payload),K)}if(cr(A)||Ce(A))return A=Ji(A,F.mode,K,null),A.return=F,A;La(F,A)}return null}function J(F,A,K,se){var Se=A!==null?A.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Se!==null?null:x(F,A,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ze:return K.key===Se?P(F,A,K,se):null;case ce:return K.key===Se?W(F,A,K,se):null;case At:return Se=K._init,J(F,A,Se(K._payload),se)}if(cr(K)||Ce(K))return Se!==null?null:X(F,A,K,se,null);La(F,K)}return null}function ve(F,A,K,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number")return F=F.get(K)||null,x(A,F,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ze:return F=F.get(se.key===null?K:se.key)||null,P(A,F,se,Se);case ce:return F=F.get(se.key===null?K:se.key)||null,W(A,F,se,Se);case At:var je=se._init;return ve(F,A,K,je(se._payload),Se)}if(cr(se)||Ce(se))return F=F.get(K)||null,X(A,F,se,Se,null);La(A,se)}return null}function we(F,A,K,se){for(var Se=null,je=null,Pe=A,Ie=A=0,$t=null;Pe!==null&&Ie<K.length;Ie++){Pe.index>Ie?($t=Pe,Pe=null):$t=Pe.sibling;var Je=J(F,Pe,K[Ie],se);if(Je===null){Pe===null&&(Pe=$t);break}e&&Pe&&Je.alternate===null&&t(F,Pe),A=h(Je,A,Ie),je===null?Se=Je:je.sibling=Je,je=Je,Pe=$t}if(Ie===K.length)return n(F,Pe),ft&&zi(F,Ie),Se;if(Pe===null){for(;Ie<K.length;Ie++)Pe=ee(F,K[Ie],se),Pe!==null&&(A=h(Pe,A,Ie),je===null?Se=Pe:je.sibling=Pe,je=Pe);return ft&&zi(F,Ie),Se}for(Pe=s(F,Pe);Ie<K.length;Ie++)$t=ve(Pe,F,Ie,K[Ie],se),$t!==null&&(e&&$t.alternate!==null&&Pe.delete($t.key===null?Ie:$t.key),A=h($t,A,Ie),je===null?Se=$t:je.sibling=$t,je=$t);return e&&Pe.forEach(function(pi){return t(F,pi)}),ft&&zi(F,Ie),Se}function ke(F,A,K,se){var Se=Ce(K);if(typeof Se!="function")throw Error(o(150));if(K=Se.call(K),K==null)throw Error(o(151));for(var je=Se=null,Pe=A,Ie=A=0,$t=null,Je=K.next();Pe!==null&&!Je.done;Ie++,Je=K.next()){Pe.index>Ie?($t=Pe,Pe=null):$t=Pe.sibling;var pi=J(F,Pe,Je.value,se);if(pi===null){Pe===null&&(Pe=$t);break}e&&Pe&&pi.alternate===null&&t(F,Pe),A=h(pi,A,Ie),je===null?Se=pi:je.sibling=pi,je=pi,Pe=$t}if(Je.done)return n(F,Pe),ft&&zi(F,Ie),Se;if(Pe===null){for(;!Je.done;Ie++,Je=K.next())Je=ee(F,Je.value,se),Je!==null&&(A=h(Je,A,Ie),je===null?Se=Je:je.sibling=Je,je=Je);return ft&&zi(F,Ie),Se}for(Pe=s(F,Pe);!Je.done;Ie++,Je=K.next())Je=ve(Pe,F,Ie,Je.value,se),Je!==null&&(e&&Je.alternate!==null&&Pe.delete(Je.key===null?Ie:Je.key),A=h(Je,A,Ie),je===null?Se=Je:je.sibling=Je,je=Je);return e&&Pe.forEach(function(ip){return t(F,ip)}),ft&&zi(F,Ie),Se}function gt(F,A,K,se){if(typeof K=="object"&&K!==null&&K.type===Ee&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case ze:e:{for(var Se=K.key,je=A;je!==null;){if(je.key===Se){if(Se=K.type,Se===Ee){if(je.tag===7){n(F,je.sibling),A=u(je,K.props.children),A.return=F,F=A;break e}}else if(je.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===At&&Uc(Se)===je.type){n(F,je.sibling),A=u(je,K.props),A.ref=No(F,je,K),A.return=F,F=A;break e}n(F,je);break}else t(F,je);je=je.sibling}K.type===Ee?(A=Ji(K.props.children,F.mode,se,K.key),A.return=F,F=A):(se=sl(K.type,K.key,K.props,null,F.mode,se),se.ref=No(F,A,K),se.return=F,F=se)}return g(F);case ce:e:{for(je=K.key;A!==null;){if(A.key===je)if(A.tag===4&&A.stateNode.containerInfo===K.containerInfo&&A.stateNode.implementation===K.implementation){n(F,A.sibling),A=u(A,K.children||[]),A.return=F,F=A;break e}else{n(F,A);break}else t(F,A);A=A.sibling}A=Bu(K,F.mode,se),A.return=F,F=A}return g(F);case At:return je=K._init,gt(F,A,je(K._payload),se)}if(cr(K))return we(F,A,K,se);if(Ce(K))return ke(F,A,K,se);La(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,A!==null&&A.tag===6?(n(F,A.sibling),A=u(A,K),A.return=F,F=A):(n(F,A),A=Uu(K,F.mode,se),A.return=F,F=A),g(F)):n(F,A)}return gt}var As=Bc(!0),Fc=Bc(!1),Da=ri(null),$a=null,Is=null,Gl=null;function Jl(){Gl=Is=$a=null}function Yl(e){var t=Da.current;lt(Da),e._currentValue=t}function Xl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ls(e,t){$a=e,Gl=Is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(un=!0),e.firstContext=null)}function kn(e){var t=e._currentValue;if(Gl!==e)if(e={context:e,memoizedValue:t,next:null},Is===null){if($a===null)throw Error(o(308));Is=e,$a.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var Ki=null;function Zl(e){Ki===null?Ki=[e]:Ki.push(e)}function zc(e,t,n,s){var u=t.interleaved;return u===null?(n.next=n,Zl(t)):(n.next=u.next,u.next=n),t.interleaved=n,Rr(e,s)}function Rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var oi=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Qe&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,Rr(e,n)}return u=s.interleaved,u===null?(t.next=t,Zl(s)):(t.next=u.next,u.next=t),s.interleaved=t,Rr(e,n)}function Ma(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,_r(e,n)}}function qc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var u=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?u=h=g:h=h.next=g,n=n.next}while(n!==null);h===null?u=h=t:h=h.next=t}else u=h=t;n={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,s){var u=e.updateQueue;oi=!1;var h=u.firstBaseUpdate,g=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var P=x,W=P.next;P.next=null,g===null?h=W:g.next=W,g=P;var X=e.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==g&&(x===null?X.firstBaseUpdate=W:x.next=W,X.lastBaseUpdate=P))}if(h!==null){var ee=u.baseState;g=0,X=W=P=null,x=h;do{var J=x.lane,ve=x.eventTime;if((s&J)===J){X!==null&&(X=X.next={eventTime:ve,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var we=e,ke=x;switch(J=t,ve=n,ke.tag){case 1:if(we=ke.payload,typeof we=="function"){ee=we.call(ve,ee,J);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ke.payload,J=typeof we=="function"?we.call(ve,ee,J):we,J==null)break e;ee=pe({},ee,J);break e;case 2:oi=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,J=u.effects,J===null?u.effects=[x]:J.push(x))}else ve={eventTime:ve,lane:J,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(W=X=ve,P=ee):X=X.next=ve,g|=J;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;J=x,x=J.next,J.next=null,u.lastBaseUpdate=J,u.shared.pending=null}}while(!0);if(X===null&&(P=ee),u.baseState=P,u.firstBaseUpdate=W,u.lastBaseUpdate=X,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else h===null&&(u.shared.lanes=0);Vi|=g,e.lanes=g,e.memoizedState=ee}}function Wc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=n,typeof u!="function")throw Error(o(191,u));u.call(s)}}}var Ro={},sr=ri(Ro),Ao=ri(Ro),Io=ri(Ro);function qi(e){if(e===Ro)throw Error(o(174));return e}function tu(e,t){switch(it(Io,t),it(Ao,e),it(sr,Ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:En(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=En(t,e)}lt(sr),it(sr,t)}function Ds(){lt(sr),lt(Ao),lt(Io)}function Vc(e){qi(Io.current);var t=qi(sr.current),n=En(t,e.type);t!==n&&(it(Ao,e),it(sr,n))}function nu(e){Ao.current===e&&(lt(sr),lt(Ao))}var mt=ri(0);function Ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ru=[];function iu(){for(var e=0;e<ru.length;e++)ru[e]._workInProgressVersionPrimary=null;ru.length=0}var Fa=be.ReactCurrentDispatcher,su=be.ReactCurrentBatchConfig,Wi=0,vt=null,Pt=null,Lt=null,za=!1,Lo=!1,Do=0,Ch=0;function Gt(){throw Error(o(321))}function ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!I(e[n],t[n]))return!1;return!0}function au(e,t,n,s,u,h){if(Wi=h,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fa.current=e===null||e.memoizedState===null?Oh:Nh,e=n(s,u),Lo){h=0;do{if(Lo=!1,Do=0,25<=h)throw Error(o(301));h+=1,Lt=Pt=null,t.updateQueue=null,Fa.current=Rh,e=n(s,u)}while(Lo)}if(Fa.current=Wa,t=Pt!==null&&Pt.next!==null,Wi=0,Lt=Pt=vt=null,za=!1,t)throw Error(o(300));return e}function lu(){var e=Do!==0;return Do=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?vt.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function bn(){if(Pt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Lt===null?vt.memoizedState:Lt.next;if(t!==null)Lt=t,Pt=e;else{if(e===null)throw Error(o(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Lt===null?vt.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function $o(e,t){return typeof t=="function"?t(e):t}function uu(e){var t=bn(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=Pt,u=s.baseQueue,h=n.pending;if(h!==null){if(u!==null){var g=u.next;u.next=h.next,h.next=g}s.baseQueue=u=h,n.pending=null}if(u!==null){h=u.next,s=s.baseState;var x=g=null,P=null,W=h;do{var X=W.lane;if((Wi&X)===X)P!==null&&(P=P.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),s=W.hasEagerState?W.eagerState:e(s,W.action);else{var ee={lane:X,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};P===null?(x=P=ee,g=s):P=P.next=ee,vt.lanes|=X,Vi|=X}W=W.next}while(W!==null&&W!==h);P===null?g=s:P.next=x,I(s,t.memoizedState)||(un=!0),t.memoizedState=s,t.baseState=g,t.baseQueue=P,n.lastRenderedState=s}if(e=n.interleaved,e!==null){u=e;do h=u.lane,vt.lanes|=h,Vi|=h,u=u.next;while(u!==e)}else u===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cu(e){var t=bn(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,u=n.pending,h=t.memoizedState;if(u!==null){n.pending=null;var g=u=u.next;do h=e(h,g.action),g=g.next;while(g!==u);I(h,t.memoizedState)||(un=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,s]}function Hc(){}function Qc(e,t){var n=vt,s=bn(),u=t(),h=!I(s.memoizedState,u);if(h&&(s.memoizedState=u,un=!0),s=s.queue,du(Yc.bind(null,n,s,e),[e]),s.getSnapshot!==t||h||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,Mo(9,Jc.bind(null,n,s,u,t),void 0,null),Dt===null)throw Error(o(349));(Wi&30)!==0||Gc(n,t,u)}return u}function Gc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jc(e,t,n,s){t.value=n,t.getSnapshot=s,Xc(t)&&Zc(e)}function Yc(e,t,n){return n(function(){Xc(t)&&Zc(e)})}function Xc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!I(e,n)}catch{return!0}}function Zc(e){var t=Rr(e,1);t!==null&&Mn(t,e,1,-1)}function ed(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e},t.queue=e,e=e.dispatch=Th.bind(null,vt,e),[t.memoizedState,e]}function Mo(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function td(){return bn().memoizedState}function Ka(e,t,n,s){var u=or();vt.flags|=e,u.memoizedState=Mo(1|t,n,void 0,s===void 0?null:s)}function qa(e,t,n,s){var u=bn();s=s===void 0?null:s;var h=void 0;if(Pt!==null){var g=Pt.memoizedState;if(h=g.destroy,s!==null&&ou(s,g.deps)){u.memoizedState=Mo(t,n,h,s);return}}vt.flags|=e,u.memoizedState=Mo(1|t,n,h,s)}function nd(e,t){return Ka(8390656,8,e,t)}function du(e,t){return qa(2048,8,e,t)}function rd(e,t){return qa(4,2,e,t)}function id(e,t){return qa(4,4,e,t)}function sd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function od(e,t,n){return n=n!=null?n.concat([e]):null,qa(4,4,sd.bind(null,t,e),n)}function fu(){}function ad(e,t){var n=bn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ou(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ld(e,t){var n=bn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ou(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ud(e,t,n){return(Wi&21)===0?(e.baseState&&(e.baseState=!1,un=!0),e.memoizedState=n):(I(n,t)||(n=Pi(),vt.lanes|=n,Vi|=n,e.baseState=!0),t)}function jh(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var s=su.transition;su.transition={};try{e(!1),t()}finally{Ge=n,su.transition=s}}function cd(){return bn().memoizedState}function Ph(e,t,n){var s=di(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},dd(e))fd(t,n);else if(n=zc(e,t,n,s),n!==null){var u=en();Mn(n,e,s,u),hd(n,t,s)}}function Th(e,t,n){var s=di(e),u={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(dd(e))fd(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,x=h(g,n);if(u.hasEagerState=!0,u.eagerState=x,I(x,g)){var P=t.interleaved;P===null?(u.next=u,Zl(t)):(u.next=P.next,P.next=u),t.interleaved=u;return}}catch{}finally{}n=zc(e,t,u,s),n!==null&&(u=en(),Mn(n,e,s,u),hd(n,t,s))}}function dd(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function fd(e,t){Lo=za=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hd(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,_r(e,n)}}var Wa={readContext:kn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},Oh={readContext:kn,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:kn,useEffect:nd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ka(4194308,4,sd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=or();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ph.bind(null,vt,e),[s.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:ed,useDebugValue:fu,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=ed(!1),t=e[0];return e=jh.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=vt,u=or();if(ft){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Dt===null)throw Error(o(349));(Wi&30)!==0||Gc(s,t,n)}u.memoizedState=n;var h={value:n,getSnapshot:t};return u.queue=h,nd(Yc.bind(null,s,h,e),[e]),s.flags|=2048,Mo(9,Jc.bind(null,s,h,n,t),void 0,null),n},useId:function(){var e=or(),t=Dt.identifierPrefix;if(ft){var n=Nr,s=Or;n=(s&~(1<<32-Ne(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Do++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ch++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nh={readContext:kn,useCallback:ad,useContext:kn,useEffect:du,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:id,useMemo:ld,useReducer:uu,useRef:td,useState:function(){return uu($o)},useDebugValue:fu,useDeferredValue:function(e){var t=bn();return ud(t,Pt.memoizedState,e)},useTransition:function(){var e=uu($o)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Qc,useId:cd,unstable_isNewReconciler:!1},Rh={readContext:kn,useCallback:ad,useContext:kn,useEffect:du,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:id,useMemo:ld,useReducer:cu,useRef:td,useState:function(){return cu($o)},useDebugValue:fu,useDeferredValue:function(e){var t=bn();return Pt===null?t.memoizedState=e:ud(t,Pt.memoizedState,e)},useTransition:function(){var e=cu($o)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Qc,useId:cd,unstable_isNewReconciler:!1};function Ln(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return(e=e._reactInternals)?qt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=en(),u=di(e),h=Ar(s,u);h.payload=t,n!=null&&(h.callback=n),t=ai(e,h,u),t!==null&&(Mn(t,e,u,s),Ma(t,e,u))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=en(),u=di(e),h=Ar(s,u);h.tag=1,h.payload=t,n!=null&&(h.callback=n),t=ai(e,h,u),t!==null&&(Mn(t,e,u,s),Ma(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),s=di(e),u=Ar(n,s);u.tag=2,t!=null&&(u.callback=t),t=ai(e,u,s),t!==null&&(Mn(t,e,s,n),Ma(t,e,s))}};function pd(e,t,n,s,u,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,g):t.prototype&&t.prototype.isPureReactComponent?!C(n,s)||!C(u,h):!0}function md(e,t,n){var s=!1,u=ii,h=t.contextType;return typeof h=="object"&&h!==null?h=kn(h):(u=ln(t)?Bi:Qt.current,s=t.contextTypes,h=(s=s!=null)?Ts(e,u):ii),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),t}function vd(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function pu(e,t,n,s){var u=e.stateNode;u.props=n,u.state=e.memoizedState,u.refs={},eu(e);var h=t.contextType;typeof h=="object"&&h!==null?u.context=kn(h):(h=ln(t)?Bi:Qt.current,u.context=Ts(e,h)),u.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(hu(e,t,h,n),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Va.enqueueReplaceState(u,u.state,null),Ua(e,n,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t){try{var n="",s=t;do n+=Ke(s),s=s.return;while(s);var u=n}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:u,digest:null}}function mu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ah=typeof WeakMap=="function"?WeakMap:Map;function yd(e,t,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Za||(Za=!0,Nu=s),vu(e,t)},n}function gd(e,t,n){n=Ar(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;n.payload=function(){return s(u)},n.callback=function(){vu(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){vu(e,t),typeof s!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function wd(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Ah;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(n)||(u.add(n),e=Hh.bind(null,e,t,n),t.then(e,e))}function _d(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kd(e,t,n,s,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ar(-1,1),t.tag=2,ai(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Ih=be.ReactCurrentOwner,un=!1;function Zt(e,t,n,s){t.child=e===null?Fc(t,null,n,s):As(t,e.child,n,s)}function bd(e,t,n,s,u){n=n.render;var h=t.ref;return Ls(t,u),s=au(e,t,n,s,h,u),n=lu(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Ir(e,t,u)):(ft&&n&&ql(t),t.flags|=1,Zt(e,t,s,u),t.child)}function xd(e,t,n,s,u){if(e===null){var h=n.type;return typeof h=="function"&&!Mu(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,Sd(e,t,h,s,u)):(e=sl(n.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&u)===0){var g=h.memoizedProps;if(n=n.compare,n=n!==null?n:C,n(g,s)&&e.ref===t.ref)return Ir(e,t,u)}return t.flags|=1,e=hi(h,s),e.ref=t.ref,e.return=t,t.child=e}function Sd(e,t,n,s,u){if(e!==null){var h=e.memoizedProps;if(C(h,s)&&e.ref===t.ref)if(un=!1,t.pendingProps=s=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(un=!0);else return t.lanes=e.lanes,Ir(e,t,u)}return yu(e,t,n,s,u)}function Ed(e,t,n){var s=t.pendingProps,u=s.children,h=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Us,gn),gn|=n;else{if((n&1073741824)===0)return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(Us,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=h!==null?h.baseLanes:n,it(Us,gn),gn|=s}else h!==null?(s=h.baseLanes|n,t.memoizedState=null):s=n,it(Us,gn),gn|=s;return Zt(e,t,u,n),t.child}function Cd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,n,s,u){var h=ln(n)?Bi:Qt.current;return h=Ts(t,h),Ls(t,u),n=au(e,t,n,s,h,u),s=lu(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Ir(e,t,u)):(ft&&s&&ql(t),t.flags|=1,Zt(e,t,n,u),t.child)}function jd(e,t,n,s,u){if(ln(n)){var h=!0;Oa(t)}else h=!1;if(Ls(t,u),t.stateNode===null)Qa(e,t),md(t,n,s),pu(t,n,s,u),s=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var P=g.context,W=n.contextType;typeof W=="object"&&W!==null?W=kn(W):(W=ln(n)?Bi:Qt.current,W=Ts(t,W));var X=n.getDerivedStateFromProps,ee=typeof X=="function"||typeof g.getSnapshotBeforeUpdate=="function";ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==s||P!==W)&&vd(t,g,s,W),oi=!1;var J=t.memoizedState;g.state=J,Ua(t,s,g,u),P=t.memoizedState,x!==s||J!==P||an.current||oi?(typeof X=="function"&&(hu(t,n,X,s),P=t.memoizedState),(x=oi||pd(t,n,x,s,J,P,W))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=P),g.props=s,g.state=P,g.context=W,s=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{g=t.stateNode,Kc(e,t),x=t.memoizedProps,W=t.type===t.elementType?x:Ln(t.type,x),g.props=W,ee=t.pendingProps,J=g.context,P=n.contextType,typeof P=="object"&&P!==null?P=kn(P):(P=ln(n)?Bi:Qt.current,P=Ts(t,P));var ve=n.getDerivedStateFromProps;(X=typeof ve=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ee||J!==P)&&vd(t,g,s,P),oi=!1,J=t.memoizedState,g.state=J,Ua(t,s,g,u);var we=t.memoizedState;x!==ee||J!==we||an.current||oi?(typeof ve=="function"&&(hu(t,n,ve,s),we=t.memoizedState),(W=oi||pd(t,n,W,s,J,we,P)||!1)?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,we,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,we,P)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=we),g.props=s,g.state=we,g.context=P,s=W):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),s=!1)}return gu(e,t,n,s,h,u)}function gu(e,t,n,s,u,h){Cd(e,t);var g=(t.flags&128)!==0;if(!s&&!g)return u&&Rc(t,n,!1),Ir(e,t,h);s=t.stateNode,Ih.current=t;var x=g&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&g?(t.child=As(t,e.child,null,h),t.child=As(t,null,x,h)):Zt(e,t,x,h),t.memoizedState=s.state,u&&Rc(t,n,!0),t.child}function Pd(e){var t=e.stateNode;t.pendingContext?Oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oc(e,t.context,!1),tu(e,t.containerInfo)}function Td(e,t,n,s,u){return Rs(),Ql(u),t.flags|=256,Zt(e,t,n,s),t.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function _u(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,t,n){var s=t.pendingProps,u=mt.current,h=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(u&2)!==0),x?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),it(mt,u&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=s.children,e=s.fallback,h?(s=t.mode,h=t.child,g={mode:"hidden",children:g},(s&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=ol(g,s,0,null),e=Ji(e,s,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=_u(n),t.memoizedState=wu,e):ku(t,g));if(u=e.memoizedState,u!==null&&(x=u.dehydrated,x!==null))return Lh(e,t,g,s,x,u,n);if(h){h=s.fallback,g=t.mode,u=e.child,x=u.sibling;var P={mode:"hidden",children:s.children};return(g&1)===0&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=P,t.deletions=null):(s=hi(u,P),s.subtreeFlags=u.subtreeFlags&14680064),x!==null?h=hi(x,h):(h=Ji(h,g,n,null),h.flags|=2),h.return=t,s.return=t,s.sibling=h,t.child=s,s=h,h=t.child,g=e.child.memoizedState,g=g===null?_u(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~n,t.memoizedState=wu,s}return h=e.child,e=h.sibling,s=hi(h,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ku(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ha(e,t,n,s){return s!==null&&Ql(s),As(t,e.child,null,n),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,n,s,u,h,g){if(n)return t.flags&256?(t.flags&=-257,s=mu(Error(o(422))),Ha(e,t,g,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=s.fallback,u=t.mode,s=ol({mode:"visible",children:s.children},u,0,null),h=Ji(h,u,g,null),h.flags|=2,s.return=t,h.return=t,s.sibling=h,t.child=s,(t.mode&1)!==0&&As(t,e.child,null,g),t.child.memoizedState=_u(g),t.memoizedState=wu,h);if((t.mode&1)===0)return Ha(e,t,g,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var x=s.dgst;return s=x,h=Error(o(419)),s=mu(h,s,void 0),Ha(e,t,g,s)}if(x=(g&e.childLanes)!==0,un||x){if(s=Dt,s!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|g))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,Rr(e,u),Mn(s,e,u,-1))}return $u(),s=mu(Error(o(421))),Ha(e,t,g,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Qh.bind(null,e),u._reactRetry=t,null):(e=h.treeContext,yn=ni(u.nextSibling),vn=t,ft=!0,In=null,e!==null&&(wn[_n++]=Or,wn[_n++]=Nr,wn[_n++]=Fi,Or=e.id,Nr=e.overflow,Fi=t),t=ku(t,s.children),t.flags|=4096,t)}function Nd(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Xl(e.return,t,n)}function bu(e,t,n,s,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=n,h.tailMode=u)}function Rd(e,t,n){var s=t.pendingProps,u=s.revealOrder,h=s.tail;if(Zt(e,t,s.children,n),s=mt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,n,t);else if(e.tag===19)Nd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(it(mt,s),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ba(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),bu(t,!1,u,n,h);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ba(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}bu(t,!0,n,null,h);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dh(e,t,n){switch(t.tag){case 3:Pd(t),Rs();break;case 5:Vc(t);break;case 1:ln(t.type)&&Oa(t);break;case 4:tu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;it(Da,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(it(mt,mt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Od(e,t,n):(it(mt,mt.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);it(mt,mt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Rd(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),it(mt,mt.current),s)break;return null;case 22:case 23:return t.lanes=0,Ed(e,t,n)}return Ir(e,t,n)}var Ad,xu,Id,Ld;Ad=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xu=function(){},Id=function(e,t,n,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,qi(sr.current);var h=null;switch(n){case"input":u=no(e,u),s=no(e,s),h=[];break;case"select":u=pe({},u,{value:void 0}),s=pe({},s,{value:void 0}),h=[];break;case"textarea":u=rs(e,u),s=rs(e,s),h=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ja)}_e(n,s);var g;n=null;for(W in u)if(!s.hasOwnProperty(W)&&u.hasOwnProperty(W)&&u[W]!=null)if(W==="style"){var x=u[W];for(g in x)x.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(c.hasOwnProperty(W)?h||(h=[]):(h=h||[]).push(W,null));for(W in s){var P=s[W];if(x=u?.[W],s.hasOwnProperty(W)&&P!==x&&(P!=null||x!=null))if(W==="style")if(x){for(g in x)!x.hasOwnProperty(g)||P&&P.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in P)P.hasOwnProperty(g)&&x[g]!==P[g]&&(n||(n={}),n[g]=P[g])}else n||(h||(h=[]),h.push(W,n)),n=P;else W==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,x=x?x.__html:void 0,P!=null&&x!==P&&(h=h||[]).push(W,P)):W==="children"?typeof P!="string"&&typeof P!="number"||(h=h||[]).push(W,""+P):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(c.hasOwnProperty(W)?(P!=null&&W==="onScroll"&&at("scroll",e),h||x===P||(h=[])):(h=h||[]).push(W,P))}n&&(h=h||[]).push("style",n);var W=h;(t.updateQueue=W)&&(t.flags|=4)}},Ld=function(e,t,n,s){n!==s&&(t.flags|=4)};function Uo(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function $h(e,t,n){var s=t.pendingProps;switch(Wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return ln(t.type)&&Ta(),Jt(t),null;case 3:return s=t.stateNode,Ds(),lt(an),lt(Qt),iu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,In!==null&&(Iu(In),In=null))),xu(e,t),Jt(t),null;case 5:nu(t);var u=qi(Io.current);if(n=t.type,e!==null&&t.stateNode!=null)Id(e,t,n,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Jt(t),null}if(e=qi(sr.current),Ia(t)){s=t.stateNode,n=t.type;var h=t.memoizedProps;switch(s[ir]=t,s[To]=h,e=(t.mode&1)!==0,n){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(u=0;u<Co.length;u++)at(Co[u],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":zn(s,h),at("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!h.multiple},at("invalid",s);break;case"textarea":Ur(s,h),at("invalid",s)}_e(n,h),u=null;for(var g in h)if(h.hasOwnProperty(g)){var x=h[g];g==="children"?typeof x=="string"?s.textContent!==x&&(h.suppressHydrationWarning!==!0&&Ca(s.textContent,x,e),u=["children",x]):typeof x=="number"&&s.textContent!==""+x&&(h.suppressHydrationWarning!==!0&&Ca(s.textContent,x,e),u=["children",""+x]):c.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&at("scroll",s)}switch(n){case"input":ur(s),ea(s,h,!0);break;case"textarea":ur(s),Br(s);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(s.onclick=ja)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=g.createElement(n,{is:s.is}):(e=g.createElement(n),n==="select"&&(g=e,s.multiple?g.multiple=!0:s.size&&(g.size=s.size))):e=g.createElementNS(e,n),e[ir]=t,e[To]=s,Ad(e,t,!1,!1),t.stateNode=e;e:{switch(g=hr(n,s),n){case"dialog":at("cancel",e),at("close",e),u=s;break;case"iframe":case"object":case"embed":at("load",e),u=s;break;case"video":case"audio":for(u=0;u<Co.length;u++)at(Co[u],e);u=s;break;case"source":at("error",e),u=s;break;case"img":case"image":case"link":at("error",e),at("load",e),u=s;break;case"details":at("toggle",e),u=s;break;case"input":zn(e,s),u=no(e,s),at("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=pe({},s,{value:void 0}),at("invalid",e);break;case"textarea":Ur(e,s),u=rs(e,s),at("invalid",e);break;default:u=s}_e(n,u),x=u;for(h in x)if(x.hasOwnProperty(h)){var P=x[h];h==="style"?is(e,P):h==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&zr(e,P)):h==="children"?typeof P=="string"?(n!=="textarea"||P!=="")&&dr(e,P):typeof P=="number"&&dr(e,""+P):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?P!=null&&h==="onScroll"&&at("scroll",e):P!=null&&ye(e,h,P,g))}switch(n){case"input":ur(e),ea(e,s,!1);break;case"textarea":ur(e),Br(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ye(s.value));break;case"select":e.multiple=!!s.multiple,h=s.value,h!=null?Ut(e,!!s.multiple,h,!1):s.defaultValue!=null&&Ut(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ja)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jt(t),null;case 6:if(e&&t.stateNode!=null)Ld(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(n=qi(Io.current),qi(sr.current),Ia(t)){if(s=t.stateNode,n=t.memoizedProps,s[ir]=t,(h=s.nodeValue!==n)&&(e=vn,e!==null))switch(e.tag){case 3:Ca(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ca(s.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ir]=t,t.stateNode=s}return Jt(t),null;case 13:if(lt(mt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&yn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Mc(),Rs(),t.flags|=98560,h=!1;else if(h=Ia(t),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[ir]=t}else Rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Jt(t),h=!1}else In!==null&&(Iu(In),In=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(mt.current&1)!==0?Tt===0&&(Tt=3):$u())),t.updateQueue!==null&&(t.flags|=4),Jt(t),null);case 4:return Ds(),xu(e,t),e===null&&jo(t.stateNode.containerInfo),Jt(t),null;case 10:return Yl(t.type._context),Jt(t),null;case 17:return ln(t.type)&&Ta(),Jt(t),null;case 19:if(lt(mt),h=t.memoizedState,h===null)return Jt(t),null;if(s=(t.flags&128)!==0,g=h.rendering,g===null)if(s)Uo(h,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ba(e),g!==null){for(t.flags|=128,Uo(h,!1),s=g.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)h=n,e=s,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return it(mt,mt.current&1|2),t.child}e=e.sibling}h.tail!==null&&Ze()>Bs&&(t.flags|=128,s=!0,Uo(h,!1),t.lanes=4194304)}else{if(!s)if(e=Ba(g),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Uo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!ft)return Jt(t),null}else 2*Ze()-h.renderingStartTime>Bs&&n!==1073741824&&(t.flags|=128,s=!0,Uo(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(n=h.last,n!==null?n.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Ze(),t.sibling=null,n=mt.current,it(mt,s?n&1|2:n&1),t):(Jt(t),null);case 22:case 23:return Du(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(gn&1073741824)!==0&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Mh(e,t){switch(Wl(t),t.tag){case 1:return ln(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ds(),lt(an),lt(Qt),iu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return nu(t),null;case 13:if(lt(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(mt),null;case 4:return Ds(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Ga=!1,Yt=!1,Uh=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ms(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){yt(e,t,s)}else n.current=null}function Su(e,t,n){try{n()}catch(s){yt(e,t,s)}}var Dd=!1;function Bh(e,t){if(Dl=fs,e=$(),D(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var g=0,x=-1,P=-1,W=0,X=0,ee=e,J=null;t:for(;;){for(var ve;ee!==n||u!==0&&ee.nodeType!==3||(x=g+u),ee!==h||s!==0&&ee.nodeType!==3||(P=g+s),ee.nodeType===3&&(g+=ee.nodeValue.length),(ve=ee.firstChild)!==null;)J=ee,ee=ve;for(;;){if(ee===e)break t;if(J===n&&++W===u&&(x=g),J===h&&++X===s&&(P=g),(ve=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ve}n=x===-1||P===-1?null:{start:x,end:P}}else n=null}n=n||{start:0,end:0}}else n=null;for($l={focusedElem:e,selectionRange:n},fs=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var we=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var ke=we.memoizedProps,gt=we.memoizedState,F=t.stateNode,A=F.getSnapshotBeforeUpdate(t.elementType===t.type?ke:Ln(t.type,ke),gt);F.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var K=t.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){yt(t,t.return,se)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return we=Dd,Dd=!1,we}function Bo(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&Su(t,n,h)}u=u.next}while(u!==s)}}function Ja(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Eu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $d(e){var t=e.alternate;t!==null&&(e.alternate=null,$d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[To],delete t[Fl],delete t[bh],delete t[xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function Ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ja));else if(s!==4&&(e=e.child,e!==null))for(Cu(e,t,n),e=e.sibling;e!==null;)Cu(e,t,n),e=e.sibling}function ju(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ju(e,t,n),e=e.sibling;e!==null;)ju(e,t,n),e=e.sibling}var Ft=null,Dn=!1;function li(e,t,n){for(n=n.child;n!==null;)Bd(e,t,n),n=n.sibling}function Bd(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:Yt||Ms(n,t);case 6:var s=Ft,u=Dn;Ft=null,li(e,t,n),Ft=s,Dn=u,Ft!==null&&(Dn?(e=Ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Dn?(e=Ft,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),br(e)):Bl(Ft,n.stateNode));break;case 4:s=Ft,u=Dn,Ft=n.stateNode.containerInfo,Dn=!0,li(e,t,n),Ft=s,Dn=u;break;case 0:case 11:case 14:case 15:if(!Yt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var h=u,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&Su(n,t,g),u=u.next}while(u!==s)}li(e,t,n);break;case 1:if(!Yt&&(Ms(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(x){yt(n,t,x)}li(e,t,n);break;case 21:li(e,t,n);break;case 22:n.mode&1?(Yt=(s=Yt)||n.memoizedState!==null,li(e,t,n),Yt=s):li(e,t,n);break;default:li(e,t,n)}}function Fd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uh),t.forEach(function(s){var u=Gh.bind(null,e,s);n.has(s)||(n.add(s),s.then(u,u))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];try{var h=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Ft=x.stateNode,Dn=!1;break e;case 3:Ft=x.stateNode.containerInfo,Dn=!0;break e;case 4:Ft=x.stateNode.containerInfo,Dn=!0;break e}x=x.return}if(Ft===null)throw Error(o(160));Bd(h,g,u),Ft=null,Dn=!1;var P=u.alternate;P!==null&&(P.return=null),u.return=null}catch(W){yt(u,t,W)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zd(t,e),t=t.sibling}function zd(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),ar(e),s&4){try{Bo(3,e,e.return),Ja(3,e)}catch(ke){yt(e,e.return,ke)}try{Bo(5,e,e.return)}catch(ke){yt(e,e.return,ke)}}break;case 1:$n(t,e),ar(e),s&512&&n!==null&&Ms(n,n.return);break;case 5:if($n(t,e),ar(e),s&512&&n!==null&&Ms(n,n.return),e.flags&32){var u=e.stateNode;try{dr(u,"")}catch(ke){yt(e,e.return,ke)}}if(s&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,g=n!==null?n.memoizedProps:h,x=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{x==="input"&&h.type==="radio"&&h.name!=null&&Zo(u,h),hr(x,g);var W=hr(x,h);for(g=0;g<P.length;g+=2){var X=P[g],ee=P[g+1];X==="style"?is(u,ee):X==="dangerouslySetInnerHTML"?zr(u,ee):X==="children"?dr(u,ee):ye(u,X,ee,W)}switch(x){case"input":ro(u,h);break;case"textarea":so(u,h);break;case"select":var J=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var ve=h.value;ve!=null?Ut(u,!!h.multiple,ve,!1):J!==!!h.multiple&&(h.defaultValue!=null?Ut(u,!!h.multiple,h.defaultValue,!0):Ut(u,!!h.multiple,h.multiple?[]:"",!1))}u[To]=h}catch(ke){yt(e,e.return,ke)}}break;case 6:if($n(t,e),ar(e),s&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(ke){yt(e,e.return,ke)}}break;case 3:if($n(t,e),ar(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(ke){yt(e,e.return,ke)}break;case 4:$n(t,e),ar(e);break;case 13:$n(t,e),ar(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(Ou=Ze())),s&4&&Fd(e);break;case 22:if(X=n!==null&&n.memoizedState!==null,e.mode&1?(Yt=(W=Yt)||X,$n(t,e),Yt=W):$n(t,e),ar(e),s&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!X&&(e.mode&1)!==0)for(ge=e,X=e.child;X!==null;){for(ee=ge=X;ge!==null;){switch(J=ge,ve=J.child,J.tag){case 0:case 11:case 14:case 15:Bo(4,J,J.return);break;case 1:Ms(J,J.return);var we=J.stateNode;if(typeof we.componentWillUnmount=="function"){s=J,n=J.return;try{t=s,we.props=t.memoizedProps,we.state=t.memoizedState,we.componentWillUnmount()}catch(ke){yt(s,n,ke)}}break;case 5:Ms(J,J.return);break;case 22:if(J.memoizedState!==null){Wd(ee);continue}}ve!==null?(ve.return=J,ge=ve):Wd(ee)}X=X.sibling}e:for(X=null,ee=e;;){if(ee.tag===5){if(X===null){X=ee;try{u=ee.stateNode,W?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(x=ee.stateNode,P=ee.memoizedProps.style,g=P!=null&&P.hasOwnProperty("display")?P.display:null,x.style.display=ki("display",g))}catch(ke){yt(e,e.return,ke)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(ke){yt(e,e.return,ke)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===e)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===e)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===e)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:$n(t,e),ar(e),s&4&&Fd(e);break;case 21:break;default:$n(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Md(n)){var s=n;break e}n=n.return}throw Error(o(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(dr(u,""),s.flags&=-33);var h=Ud(e);ju(e,h,u);break;case 3:case 4:var g=s.stateNode.containerInfo,x=Ud(e);Cu(e,x,g);break;default:throw Error(o(161))}}catch(P){yt(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fh(e,t,n){ge=e,Kd(e)}function Kd(e,t,n){for(var s=(e.mode&1)!==0;ge!==null;){var u=ge,h=u.child;if(u.tag===22&&s){var g=u.memoizedState!==null||Ga;if(!g){var x=u.alternate,P=x!==null&&x.memoizedState!==null||Yt;x=Ga;var W=Yt;if(Ga=g,(Yt=P)&&!W)for(ge=u;ge!==null;)g=ge,P=g.child,g.tag===22&&g.memoizedState!==null?Vd(u):P!==null?(P.return=g,ge=P):Vd(u);for(;h!==null;)ge=h,Kd(h),h=h.sibling;ge=u,Ga=x,Yt=W}qd(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,ge=h):qd(e)}}function qd(e){for(;ge!==null;){var t=ge;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Yt||Ja(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Yt)if(n===null)s.componentDidMount();else{var u=t.elementType===t.type?n.memoizedProps:Ln(t.type,n.memoizedProps);s.componentDidUpdate(u,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Wc(t,h,s);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wc(t,g,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var P=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&n.focus();break;case"img":P.src&&(n.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var W=t.alternate;if(W!==null){var X=W.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&br(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Yt||t.flags&512&&Eu(t)}catch(J){yt(t,t.return,J)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Wd(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Vd(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ja(4,t)}catch(P){yt(t,n,P)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(P){yt(t,u,P)}}var h=t.return;try{Eu(t)}catch(P){yt(t,h,P)}break;case 5:var g=t.return;try{Eu(t)}catch(P){yt(t,g,P)}}}catch(P){yt(t,t.return,P)}if(t===e){ge=null;break}var x=t.sibling;if(x!==null){x.return=t.return,ge=x;break}ge=t.return}}var zh=Math.ceil,Ya=be.ReactCurrentDispatcher,Pu=be.ReactCurrentOwner,xn=be.ReactCurrentBatchConfig,Qe=0,Dt=null,kt=null,zt=0,gn=0,Us=ri(0),Tt=0,Fo=null,Vi=0,Xa=0,Tu=0,zo=null,cn=null,Ou=0,Bs=1/0,Lr=null,Za=!1,Nu=null,ui=null,el=!1,ci=null,tl=0,Ko=0,Ru=null,nl=-1,rl=0;function en(){return(Qe&6)!==0?Ze():nl!==-1?nl:nl=Ze()}function di(e){return(e.mode&1)===0?1:(Qe&2)!==0&&zt!==0?zt&-zt:Eh.transition!==null?(rl===0&&(rl=Pi()),rl):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:hs(e.type)),e)}function Mn(e,t,n,s){if(50<Ko)throw Ko=0,Ru=null,Error(o(185));er(e,n,s),((Qe&2)===0||e!==Dt)&&(e===Dt&&((Qe&2)===0&&(Xa|=n),Tt===4&&fi(e,zt)),dn(e,s),n===1&&Qe===0&&(t.mode&1)===0&&(Bs=Ze()+500,Na&&si()))}function dn(e,t){var n=e.callbackNode;co(e,t);var s=Zn(e,e===Dt?zt:0);if(s===0)n!==null&&as(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&as(n),t===1)e.tag===0?Sh(Qd.bind(null,e)):Ac(Qd.bind(null,e)),_h(function(){(Qe&6)===0&&si()}),n=null;else{switch(ua(s)){case 1:n=Yn;break;case 4:n=Si;break;case 16:n=Hr;break;case 536870912:n=Xn;break;default:n=Hr}n=nf(n,Hd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hd(e,t){if(nl=-1,rl=0,(Qe&6)!==0)throw Error(o(327));var n=e.callbackNode;if(Fs()&&e.callbackNode!==n)return null;var s=Zn(e,e===Dt?zt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=il(e,s);else{t=s;var u=Qe;Qe|=2;var h=Jd();(Dt!==e||zt!==t)&&(Lr=null,Bs=Ze()+500,Qi(e,t));do try{Wh();break}catch(x){Gd(e,x)}while(!0);Jl(),Ya.current=h,Qe=u,kt!==null?t=0:(Dt=null,zt=0,t=Tt)}if(t!==0){if(t===2&&(u=ji(e),u!==0&&(s=u,t=Au(e,u))),t===1)throw n=Fo,Qi(e,0),fi(e,s),dn(e,Ze()),n;if(t===6)fi(e,s);else{if(u=e.current.alternate,(s&30)===0&&!Kh(u)&&(t=il(e,s),t===2&&(h=ji(e),h!==0&&(s=h,t=Au(e,h))),t===1))throw n=Fo,Qi(e,0),fi(e,s),dn(e,Ze()),n;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:Gi(e,cn,Lr);break;case 3:if(fi(e,s),(s&130023424)===s&&(t=Ou+500-Ze(),10<t)){if(Zn(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){en(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ul(Gi.bind(null,e,cn,Lr),t);break}Gi(e,cn,Lr);break;case 4:if(fi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var g=31-Ne(s);h=1<<g,g=t[g],g>u&&(u=g),s&=~h}if(s=u,s=Ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*zh(s/1960))-s,10<s){e.timeoutHandle=Ul(Gi.bind(null,e,cn,Lr),s);break}Gi(e,cn,Lr);break;case 5:Gi(e,cn,Lr);break;default:throw Error(o(329))}}}return dn(e,Ze()),e.callbackNode===n?Hd.bind(null,e):null}function Au(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(Qi(e,t).flags|=256),e=il(e,t),e!==2&&(t=cn,cn=n,t!==null&&Iu(t)),e}function Iu(e){cn===null?cn=e:cn.push.apply(cn,e)}function Kh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var u=n[s],h=u.getSnapshot;u=u.value;try{if(!I(h(),u))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t){for(t&=~Tu,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ne(t),s=1<<n;e[n]=-1,t&=~s}}function Qd(e){if((Qe&6)!==0)throw Error(o(327));Fs();var t=Zn(e,0);if((t&1)===0)return dn(e,Ze()),null;var n=il(e,t);if(e.tag!==0&&n===2){var s=ji(e);s!==0&&(t=s,n=Au(e,s))}if(n===1)throw n=Fo,Qi(e,0),fi(e,t),dn(e,Ze()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gi(e,cn,Lr),dn(e,Ze()),null}function Lu(e,t){var n=Qe;Qe|=1;try{return e(t)}finally{Qe=n,Qe===0&&(Bs=Ze()+500,Na&&si())}}function Hi(e){ci!==null&&ci.tag===0&&(Qe&6)===0&&Fs();var t=Qe;Qe|=1;var n=xn.transition,s=Ge;try{if(xn.transition=null,Ge=1,e)return e()}finally{Ge=s,xn.transition=n,Qe=t,(Qe&6)===0&&si()}}function Du(){gn=Us.current,lt(Us)}function Qi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wh(n)),kt!==null)for(n=kt.return;n!==null;){var s=n;switch(Wl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ta();break;case 3:Ds(),lt(an),lt(Qt),iu();break;case 5:nu(s);break;case 4:Ds();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:Yl(s.type._context);break;case 22:case 23:Du()}n=n.return}if(Dt=e,kt=e=hi(e.current,null),zt=gn=t,Tt=0,Fo=null,Tu=Xa=Vi=0,cn=zo=null,Ki!==null){for(t=0;t<Ki.length;t++)if(n=Ki[t],s=n.interleaved,s!==null){n.interleaved=null;var u=s.next,h=n.pending;if(h!==null){var g=h.next;h.next=u,s.next=g}n.pending=s}Ki=null}return e}function Gd(e,t){do{var n=kt;try{if(Jl(),Fa.current=Wa,za){for(var s=vt.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}za=!1}if(Wi=0,Lt=Pt=vt=null,Lo=!1,Do=0,Pu.current=null,n===null||n.return===null){Tt=1,Fo=t,kt=null;break}e:{var h=e,g=n.return,x=n,P=t;if(t=zt,x.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=P,X=x,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var ve=_d(g);if(ve!==null){ve.flags&=-257,kd(ve,g,x,h,t),ve.mode&1&&wd(h,W,t),t=ve,P=W;var we=t.updateQueue;if(we===null){var ke=new Set;ke.add(P),t.updateQueue=ke}else we.add(P);break e}else{if((t&1)===0){wd(h,W,t),$u();break e}P=Error(o(426))}}else if(ft&&x.mode&1){var gt=_d(g);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),kd(gt,g,x,h,t),Ql($s(P,x));break e}}h=P=$s(P,x),Tt!==4&&(Tt=2),zo===null?zo=[h]:zo.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var F=yd(h,P,t);qc(h,F);break e;case 1:x=P;var A=h.type,K=h.stateNode;if((h.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ui===null||!ui.has(K)))){h.flags|=65536,t&=-t,h.lanes|=t;var se=gd(h,x,t);qc(h,se);break e}}h=h.return}while(h!==null)}Xd(n)}catch(Se){t=Se,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function Jd(){var e=Ya.current;return Ya.current=Wa,e===null?Wa:e}function $u(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Dt===null||(Vi&268435455)===0&&(Xa&268435455)===0||fi(Dt,zt)}function il(e,t){var n=Qe;Qe|=2;var s=Jd();(Dt!==e||zt!==t)&&(Lr=null,Qi(e,t));do try{qh();break}catch(u){Gd(e,u)}while(!0);if(Jl(),Qe=n,Ya.current=s,kt!==null)throw Error(o(261));return Dt=null,zt=0,Tt}function qh(){for(;kt!==null;)Yd(kt)}function Wh(){for(;kt!==null&&!ht();)Yd(kt)}function Yd(e){var t=tf(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?Xd(e):kt=t,Pu.current=null}function Xd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=$h(n,t,gn),n!==null){kt=n;return}}else{if(n=Mh(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,kt=null;return}}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Gi(e,t,n){var s=Ge,u=xn.transition;try{xn.transition=null,Ge=1,Vh(e,t,n,s)}finally{xn.transition=u,Ge=s}return null}function Vh(e,t,n,s){do Fs();while(ci!==null);if((Qe&6)!==0)throw Error(o(327));n=e.finishedWork;var u=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(la(e,h),e===Dt&&(kt=Dt=null,zt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||el||(el=!0,nf(Hr,function(){return Fs(),null})),h=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||h){h=xn.transition,xn.transition=null;var g=Ge;Ge=1;var x=Qe;Qe|=4,Pu.current=null,Bh(e,n),zd(n,e),B($l),fs=!!Dl,$l=Dl=null,e.current=n,Fh(n),wr(),Qe=x,Ge=g,xn.transition=h}else e.current=n;if(el&&(el=!1,ci=e,tl=u),h=e.pendingLanes,h===0&&(ui=null),sa(n.stateNode),dn(e,Ze()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)u=t[n],s(u.value,{componentStack:u.stack,digest:u.digest});if(Za)throw Za=!1,e=Nu,Nu=null,e;return(tl&1)!==0&&e.tag!==0&&Fs(),h=e.pendingLanes,(h&1)!==0?e===Ru?Ko++:(Ko=0,Ru=e):Ko=0,si(),null}function Fs(){if(ci!==null){var e=ua(tl),t=xn.transition,n=Ge;try{if(xn.transition=null,Ge=16>e?16:e,ci===null)var s=!1;else{if(e=ci,ci=null,tl=0,(Qe&6)!==0)throw Error(o(331));var u=Qe;for(Qe|=4,ge=e.current;ge!==null;){var h=ge,g=h.child;if((ge.flags&16)!==0){var x=h.deletions;if(x!==null){for(var P=0;P<x.length;P++){var W=x[P];for(ge=W;ge!==null;){var X=ge;switch(X.tag){case 0:case 11:case 15:Bo(8,X,h)}var ee=X.child;if(ee!==null)ee.return=X,ge=ee;else for(;ge!==null;){X=ge;var J=X.sibling,ve=X.return;if($d(X),X===W){ge=null;break}if(J!==null){J.return=ve,ge=J;break}ge=ve}}}var we=h.alternate;if(we!==null){var ke=we.child;if(ke!==null){we.child=null;do{var gt=ke.sibling;ke.sibling=null,ke=gt}while(ke!==null)}}ge=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,ge=g;else e:for(;ge!==null;){if(h=ge,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Bo(9,h,h.return)}var F=h.sibling;if(F!==null){F.return=h.return,ge=F;break e}ge=h.return}}var A=e.current;for(ge=A;ge!==null;){g=ge;var K=g.child;if((g.subtreeFlags&2064)!==0&&K!==null)K.return=g,ge=K;else e:for(g=A;ge!==null;){if(x=ge,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Ja(9,x)}}catch(Se){yt(x,x.return,Se)}if(x===g){ge=null;break e}var se=x.sibling;if(se!==null){se.return=x.return,ge=se;break e}ge=x.return}}if(Qe=u,si(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ei,e)}catch{}s=!0}return s}finally{Ge=n,xn.transition=t}}return!1}function Zd(e,t,n){t=$s(n,t),t=yd(e,t,1),e=ai(e,t,1),t=en(),e!==null&&(er(e,1,t),dn(e,t))}function yt(e,t,n){if(e.tag===3)Zd(e,e,n);else for(;t!==null;){if(t.tag===3){Zd(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ui===null||!ui.has(s))){e=$s(n,e),e=gd(t,e,1),t=ai(t,e,1),e=en(),t!==null&&(er(t,1,e),dn(t,e));break}}t=t.return}}function Hh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(zt&n)===n&&(Tt===4||Tt===3&&(zt&130023424)===zt&&500>Ze()-Ou?Qi(e,0):Tu|=n),dn(e,t)}function ef(e,t){t===0&&((e.mode&1)===0?t=1:(t=rt,rt<<=1,(rt&130023424)===0&&(rt=4194304)));var n=en();e=Rr(e,t),e!==null&&(er(e,t,n),dn(e,n))}function Qh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ef(e,n)}function Gh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),ef(e,n)}var tf;tf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)un=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return un=!1,Dh(e,t,n);un=(e.flags&131072)!==0}else un=!1,ft&&(t.flags&1048576)!==0&&Ic(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Qa(e,t),e=t.pendingProps;var u=Ts(t,Qt.current);Ls(t,n),u=au(null,t,s,e,u,n);var h=lu();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(s)?(h=!0,Oa(t)):h=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,eu(t),u.updater=Va,t.stateNode=u,u._reactInternals=t,pu(t,s,e,n),t=gu(null,t,s,!0,h,n)):(t.tag=0,ft&&h&&ql(t),Zt(null,t,u,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Qa(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=Yh(s),e=Ln(s,e),u){case 0:t=yu(null,t,s,e,n);break e;case 1:t=jd(null,t,s,e,n);break e;case 11:t=bd(null,t,s,e,n);break e;case 14:t=xd(null,t,s,Ln(s.type,e),n);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Ln(s,u),yu(e,t,s,u,n);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Ln(s,u),jd(e,t,s,u,n);case 3:e:{if(Pd(t),e===null)throw Error(o(387));s=t.pendingProps,h=t.memoizedState,u=h.element,Kc(e,t),Ua(t,s,null,n);var g=t.memoizedState;if(s=g.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){u=$s(Error(o(423)),t),t=Td(e,t,s,n,u);break e}else if(s!==u){u=$s(Error(o(424)),t),t=Td(e,t,s,n,u);break e}else for(yn=ni(t.stateNode.containerInfo.firstChild),vn=t,ft=!0,In=null,n=Fc(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),s===u){t=Ir(e,t,n);break e}Zt(e,t,s,n)}t=t.child}return t;case 5:return Vc(t),e===null&&Hl(t),s=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,g=u.children,Ml(s,u)?g=null:h!==null&&Ml(s,h)&&(t.flags|=32),Cd(e,t),Zt(e,t,g,n),t.child;case 6:return e===null&&Hl(t),null;case 13:return Od(e,t,n);case 4:return tu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=As(t,null,s,n):Zt(e,t,s,n),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Ln(s,u),bd(e,t,s,u,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,h=t.memoizedProps,g=u.value,it(Da,s._currentValue),s._currentValue=g,h!==null)if(I(h.value,g)){if(h.children===u.children&&!an.current){t=Ir(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var x=h.dependencies;if(x!==null){g=h.child;for(var P=x.firstContext;P!==null;){if(P.context===s){if(h.tag===1){P=Ar(-1,n&-n),P.tag=2;var W=h.updateQueue;if(W!==null){W=W.shared;var X=W.pending;X===null?P.next=P:(P.next=X.next,X.next=P),W.pending=P}}h.lanes|=n,P=h.alternate,P!==null&&(P.lanes|=n),Xl(h.return,n,t),x.lanes|=n;break}P=P.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(o(341));g.lanes|=n,x=g.alternate,x!==null&&(x.lanes|=n),Xl(g,n,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Zt(e,t,u.children,n),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,Ls(t,n),u=kn(u),s=s(u),t.flags|=1,Zt(e,t,s,n),t.child;case 14:return s=t.type,u=Ln(s,t.pendingProps),u=Ln(s.type,u),xd(e,t,s,u,n);case 15:return Sd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Ln(s,u),Qa(e,t),t.tag=1,ln(s)?(e=!0,Oa(t)):e=!1,Ls(t,n),md(t,s,u),pu(t,s,u,n),gu(null,t,s,!0,e,n);case 19:return Rd(e,t,n);case 22:return Ed(e,t,n)}throw Error(o(156,t.tag))};function nf(e,t){return lo(e,t)}function Jh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,n,s){return new Jh(e,t,n,s)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yh(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xe)return 11;if(e===xt)return 14}return 2}function hi(e,t){var n=e.alternate;return n===null?(n=Sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sl(e,t,n,s,u,h){var g=2;if(s=e,typeof e=="function")Mu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Ee:return Ji(n.children,u,h,t);case wt:g=8,u|=8;break;case bt:return e=Sn(12,n,t,u|2),e.elementType=bt,e.lanes=h,e;case Te:return e=Sn(13,n,t,u),e.elementType=Te,e.lanes=h,e;case et:return e=Sn(19,n,t,u),e.elementType=et,e.lanes=h,e;case ct:return ol(n,u,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:g=10;break e;case nn:g=9;break e;case xe:g=11;break e;case xt:g=14;break e;case At:g=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Sn(g,n,t,u),t.elementType=e,t.type=s,t.lanes=h,t}function Ji(e,t,n,s){return e=Sn(7,e,s,t),e.lanes=n,e}function ol(e,t,n,s){return e=Sn(22,e,s,t),e.elementType=ct,e.lanes=n,e.stateNode={isHidden:!1},e}function Uu(e,t,n){return e=Sn(6,e,null,t),e.lanes=n,e}function Bu(e,t,n){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xh(e,t,n,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,s,u,h,g,x,P){return e=new Xh(e,t,n,x,P),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Sn(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(h),e}function Zh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function rf(e){if(!e)return ii;e=e._reactInternals;e:{if(qt(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(ln(n))return Nc(e,n,t)}return t}function sf(e,t,n,s,u,h,g,x,P){return e=Fu(n,s,!0,e,u,h,g,x,P),e.context=rf(null),n=e.current,s=en(),u=di(n),h=Ar(s,u),h.callback=t??null,ai(n,h,u),e.current.lanes=u,er(e,u,s),dn(e,s),e}function al(e,t,n,s){var u=t.current,h=en(),g=di(u);return n=rf(n),t.context===null?t.context=n:t.pendingContext=n,t=Ar(h,g),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ai(u,t,g),e!==null&&(Mn(e,u,g,h),Ma(e,u,g)),g}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function of(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zu(e,t){of(e,t),(e=e.alternate)&&of(e,t)}function ep(){return null}var af=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}ul.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));al(e,t,null,null)},ul.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hi(function(){al(null,e,null,null)}),t[Pr]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=da();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&hn(e)}};function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lf(){}function tp(e,t,n,s,u){if(u){if(typeof s=="function"){var h=s;s=function(){var W=ll(g);h.call(W)}}var g=sf(t,s,e,0,null,!1,!1,"",lf);return e._reactRootContainer=g,e[Pr]=g.current,jo(e.nodeType===8?e.parentNode:e),Hi(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var x=s;s=function(){var W=ll(P);x.call(W)}}var P=Fu(e,0,!1,null,null,!1,!1,"",lf);return e._reactRootContainer=P,e[Pr]=P.current,jo(e.nodeType===8?e.parentNode:e),Hi(function(){al(t,P,n,s)}),P}function dl(e,t,n,s,u){var h=n._reactRootContainer;if(h){var g=h;if(typeof u=="function"){var x=u;u=function(){var P=ll(g);x.call(P)}}al(t,g,e,u)}else g=tp(n,t,e,u,s);return ll(g)}He=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jn(t.pendingLanes);n!==0&&(_r(t,n|1),dn(t,Ze()),(Qe&6)===0&&(Bs=Ze()+500,si()))}break;case 13:Hi(function(){var s=Rr(e,1);if(s!==null){var u=en();Mn(s,e,1,u)}}),zu(e,1)}},cs=function(e){if(e.tag===13){var t=Rr(e,134217728);if(t!==null){var n=en();Mn(t,e,134217728,n)}zu(e,134217728)}},ca=function(e){if(e.tag===13){var t=di(e),n=Rr(e,t);if(n!==null){var s=en();Mn(n,e,t,s)}zu(e,t)}},da=function(){return Ge},Wt=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}},he=function(e,t,n){switch(t){case"input":if(ro(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var u=Pa(s);if(!u)throw Error(o(90));Xe(s),ro(s,u)}}}break;case"textarea":so(e,n);break;case"select":t=n.value,t!=null&&Ut(e,!!n.multiple,t,!1)}},ta=Lu,na=Hi;var np={usingClientEntryPoint:!1,Events:[Oo,js,Pa,oo,os,Lu]},qo={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:be.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ao(e),e===null?null:e.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||ep,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Ei=fl.inject(rp),Xt=fl}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np,fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(t))throw Error(o(200));return Zh(e,t,null,n)},fn.createRoot=function(e,t){if(!qu(e))throw Error(o(299));var n=!1,s="",u=af;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Fu(e,1,!1,null,null,n,!1,s,u),e[Pr]=t.current,jo(e.nodeType===8?e.parentNode:e),new Ku(t)},fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=ao(t),e=e===null?null:e.stateNode,e},fn.flushSync=function(e){return Hi(e)},fn.hydrate=function(e,t,n){if(!cl(t))throw Error(o(200));return dl(null,e,t,!0,n)},fn.hydrateRoot=function(e,t,n){if(!qu(e))throw Error(o(405));var s=n!=null&&n.hydratedSources||null,u=!1,h="",g=af;if(n!=null&&(n.unstable_strictMode===!0&&(u=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=sf(t,null,e,1,n??null,u,!1,h,g),e[Pr]=t.current,jo(e),s)for(e=0;e<s.length;e++)n=s[e],u=n._getVersion,u=u(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,u]:t.mutableSourceEagerHydrationData.push(n,u);return new ul(t)},fn.render=function(e,t,n){if(!cl(t))throw Error(o(200));return dl(null,e,t,!1,n)},fn.unmountComponentAtNode=function(e){if(!cl(e))throw Error(o(40));return e._reactRootContainer?(Hi(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Pr]=null})}),!0):!1},fn.unstable_batchedUpdates=Lu,fn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!cl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return dl(e,t,n,!1,s)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var vf;function pp(){if(vf)return Hu.exports;vf=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(r){console.error(r)}}return f(),Hu.exports=hp(),Hu.exports}var yf;function mp(){if(yf)return hl;yf=1;var f=pp();return hl.createRoot=f.createRoot,hl.hydrateRoot=f.hydrateRoot,hl}var vp=mp();const yp=El(vp),gp="modulepreload",wp=function(f){return"/"+f},gf={},Yo=function(r,o,l){let c=Promise.resolve();if(o&&o.length>0){let E=function(j){return Promise.all(j.map(N=>Promise.resolve(N).then(q=>({status:"fulfilled",value:q}),q=>({status:"rejected",reason:q}))))};var v=E;document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),k=_?.nonce||_?.getAttribute("nonce");c=E(o.map(j=>{if(j=wp(j),j in gf)return;gf[j]=!0;const N=j.endsWith(".css"),q=N?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${q}`))return;const Z=document.createElement("link");if(Z.rel=N?"stylesheet":gp,N||(Z.as="script"),Z.crossOrigin="",Z.href=j,k&&Z.setAttribute("nonce",k),document.head.appendChild(Z),N)return new Promise((ie,ae)=>{Z.addEventListener("load",ie),Z.addEventListener("error",()=>ae(new Error(`Unable to preload CSS for ${j}`)))})}))}function p(_){const k=new Event("vite:preloadError",{cancelable:!0});if(k.payload=_,window.dispatchEvent(k),!k.defaultPrevented)throw _}return c.then(_=>{for(const k of _||[])k.status==="rejected"&&p(k.reason);return r().catch(p)})},_p=f=>{let r;return f?r=f:typeof fetch>"u"?r=(...o)=>Yo(async()=>{const{default:l}=await Promise.resolve().then(()=>to);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)};class gc extends Error{constructor(r,o="FunctionsError",l){super(r),this.name=o,this.context=l}}class kp extends gc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class wf extends gc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class _f extends gc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var ic;(function(f){f.Any="any",f.ApNortheast1="ap-northeast-1",f.ApNortheast2="ap-northeast-2",f.ApSouth1="ap-south-1",f.ApSoutheast1="ap-southeast-1",f.ApSoutheast2="ap-southeast-2",f.CaCentral1="ca-central-1",f.EuCentral1="eu-central-1",f.EuWest1="eu-west-1",f.EuWest2="eu-west-2",f.EuWest3="eu-west-3",f.SaEast1="sa-east-1",f.UsEast1="us-east-1",f.UsWest1="us-west-1",f.UsWest2="us-west-2"})(ic||(ic={}));var bp=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};class xp{constructor(r,{headers:o={},customFetch:l,region:c=ic.Any}={}){this.url=r,this.headers=o,this.region=c,this.fetch=_p(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,o={}){var l;return bp(this,void 0,void 0,function*(){try{const{headers:c,method:p,body:v}=o;let _={},{region:k}=o;k||(k=this.region);const E=new URL(`${this.url}/${r}`);k&&k!=="any"&&(_["x-region"]=k,E.searchParams.set("forceFunctionRegion",k));let j;v&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",j=v):typeof v=="string"?(_["Content-Type"]="text/plain",j=v):typeof FormData<"u"&&v instanceof FormData?j=v:(_["Content-Type"]="application/json",j=JSON.stringify(v)));const N=yield this.fetch(E.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),c),body:j}).catch(ae=>{throw new kp(ae)}),q=N.headers.get("x-relay-error");if(q&&q==="true")throw new wf(N);if(!N.ok)throw new _f(N);let Z=((l=N.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),ie;return Z==="application/json"?ie=yield N.json():Z==="application/octet-stream"?ie=yield N.blob():Z==="text/event-stream"?ie=N:Z==="multipart/form-data"?ie=yield N.formData():ie=yield N.text(),{data:ie,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof _f||c instanceof wf?c.context:void 0}}})}}var Mt={},zs={},Ks={},qs={},Ws={},Vs={},Sp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},eo=Sp();const Ep=eo.fetch,Gf=eo.fetch.bind(eo),Jf=eo.Headers,Cp=eo.Request,jp=eo.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jf,Request:Cp,Response:jp,default:Gf,fetch:Ep},Symbol.toStringTag,{value:"Module"})),Pp=op(to);var pl={},kf;function Yf(){if(kf)return pl;kf=1,Object.defineProperty(pl,"__esModule",{value:!0});class f extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return pl.default=f,pl}var bf;function Xf(){if(bf)return Vs;bf=1;var f=Vs&&Vs.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Vs,"__esModule",{value:!0});const r=f(Pp),o=f(Yf());class l{constructor(p){var v,_;this.shouldThrowOnError=!1,this.method=p.method,this.url=p.url,this.headers=new Headers(p.headers),this.schema=p.schema,this.body=p.body,this.shouldThrowOnError=(v=p.shouldThrowOnError)!==null&&v!==void 0?v:!1,this.signal=p.signal,this.isMaybeSingle=(_=p.isMaybeSingle)!==null&&_!==void 0?_:!1,p.fetch?this.fetch=p.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(p,v){return this.headers=new Headers(this.headers),this.headers.set(p,v),this}then(p,v){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const _=this.fetch;let k=_(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async E=>{var j,N,q,Z;let ie=null,ae=null,te=null,De=E.status,Me=E.statusText;if(E.ok){if(this.method!=="HEAD"){const ce=await E.text();ce===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((j=this.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?ae=ce:ae=JSON.parse(ce))}const be=(N=this.headers.get("Prefer"))===null||N===void 0?void 0:N.match(/count=(exact|planned|estimated)/),ze=(q=E.headers.get("content-range"))===null||q===void 0?void 0:q.split("/");be&&ze&&ze.length>1&&(te=parseInt(ze[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(ae)&&(ae.length>1?(ie={code:"PGRST116",details:`Results contain ${ae.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},ae=null,te=null,De=406,Me="Not Acceptable"):ae.length===1?ae=ae[0]:ae=null)}else{const be=await E.text();try{ie=JSON.parse(be),Array.isArray(ie)&&E.status===404&&(ae=[],ie=null,De=200,Me="OK")}catch{E.status===404&&be===""?(De=204,Me="No Content"):ie={message:be}}if(ie&&this.isMaybeSingle&&(!((Z=ie?.details)===null||Z===void 0)&&Z.includes("0 rows"))&&(ie=null,De=200,Me="OK"),ie&&this.shouldThrowOnError)throw new o.default(ie)}return{error:ie,data:ae,count:te,status:De,statusText:Me}});return this.shouldThrowOnError||(k=k.catch(E=>{var j,N,q;return{error:{message:`${(j=E?.name)!==null&&j!==void 0?j:"FetchError"}: ${E?.message}`,details:`${(N=E?.stack)!==null&&N!==void 0?N:""}`,hint:"",code:`${(q=E?.code)!==null&&q!==void 0?q:""}`},data:null,count:null,status:0,statusText:""}})),k.then(p,v)}returns(){return this}overrideTypes(){return this}}return Vs.default=l,Vs}var xf;function Zf(){if(xf)return Ws;xf=1;var f=Ws&&Ws.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ws,"__esModule",{value:!0});const r=f(Xf());class o extends r.default{select(c){let p=!1;const v=(c??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",v),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:p=!0,nullsFirst:v,foreignTable:_,referencedTable:k=_}={}){const E=k?`${k}.order`:"order",j=this.url.searchParams.get(E);return this.url.searchParams.set(E,`${j?`${j},`:""}${c}.${p?"asc":"desc"}${v===void 0?"":v?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:p,referencedTable:v=p}={}){const _=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(_,`${c}`),this}range(c,p,{foreignTable:v,referencedTable:_=v}={}){const k=typeof _>"u"?"offset":`${_}.offset`,E=typeof _>"u"?"limit":`${_}.limit`;return this.url.searchParams.set(k,`${c}`),this.url.searchParams.set(E,`${p-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:p=!1,settings:v=!1,buffers:_=!1,wal:k=!1,format:E="text"}={}){var j;const N=[c?"analyze":null,p?"verbose":null,v?"settings":null,_?"buffers":null,k?"wal":null].filter(Boolean).join("|"),q=(j=this.headers.get("Accept"))!==null&&j!==void 0?j:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${E}; for="${q}"; options=${N};`),E==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Ws.default=o,Ws}var Sf;function wc(){if(Sf)return qs;Sf=1;var f=qs&&qs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(qs,"__esModule",{value:!0});const r=f(Zf());class o extends r.default{eq(c,p){return this.url.searchParams.append(c,`eq.${p}`),this}neq(c,p){return this.url.searchParams.append(c,`neq.${p}`),this}gt(c,p){return this.url.searchParams.append(c,`gt.${p}`),this}gte(c,p){return this.url.searchParams.append(c,`gte.${p}`),this}lt(c,p){return this.url.searchParams.append(c,`lt.${p}`),this}lte(c,p){return this.url.searchParams.append(c,`lte.${p}`),this}like(c,p){return this.url.searchParams.append(c,`like.${p}`),this}likeAllOf(c,p){return this.url.searchParams.append(c,`like(all).{${p.join(",")}}`),this}likeAnyOf(c,p){return this.url.searchParams.append(c,`like(any).{${p.join(",")}}`),this}ilike(c,p){return this.url.searchParams.append(c,`ilike.${p}`),this}ilikeAllOf(c,p){return this.url.searchParams.append(c,`ilike(all).{${p.join(",")}}`),this}ilikeAnyOf(c,p){return this.url.searchParams.append(c,`ilike(any).{${p.join(",")}}`),this}is(c,p){return this.url.searchParams.append(c,`is.${p}`),this}in(c,p){const v=Array.from(new Set(p)).map(_=>typeof _=="string"&&new RegExp("[,()]").test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(c,`in.(${v})`),this}contains(c,p){return typeof p=="string"?this.url.searchParams.append(c,`cs.${p}`):Array.isArray(p)?this.url.searchParams.append(c,`cs.{${p.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(p)}`),this}containedBy(c,p){return typeof p=="string"?this.url.searchParams.append(c,`cd.${p}`):Array.isArray(p)?this.url.searchParams.append(c,`cd.{${p.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(p)}`),this}rangeGt(c,p){return this.url.searchParams.append(c,`sr.${p}`),this}rangeGte(c,p){return this.url.searchParams.append(c,`nxl.${p}`),this}rangeLt(c,p){return this.url.searchParams.append(c,`sl.${p}`),this}rangeLte(c,p){return this.url.searchParams.append(c,`nxr.${p}`),this}rangeAdjacent(c,p){return this.url.searchParams.append(c,`adj.${p}`),this}overlaps(c,p){return typeof p=="string"?this.url.searchParams.append(c,`ov.${p}`):this.url.searchParams.append(c,`ov.{${p.join(",")}}`),this}textSearch(c,p,{config:v,type:_}={}){let k="";_==="plain"?k="pl":_==="phrase"?k="ph":_==="websearch"&&(k="w");const E=v===void 0?"":`(${v})`;return this.url.searchParams.append(c,`${k}fts${E}.${p}`),this}match(c){return Object.entries(c).forEach(([p,v])=>{this.url.searchParams.append(p,`eq.${v}`)}),this}not(c,p,v){return this.url.searchParams.append(c,`not.${p}.${v}`),this}or(c,{foreignTable:p,referencedTable:v=p}={}){const _=v?`${v}.or`:"or";return this.url.searchParams.append(_,`(${c})`),this}filter(c,p,v){return this.url.searchParams.append(c,`${p}.${v}`),this}}return qs.default=o,qs}var Ef;function eh(){if(Ef)return Ks;Ef=1;var f=Ks&&Ks.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ks,"__esModule",{value:!0});const r=f(wc());class o{constructor(c,{headers:p={},schema:v,fetch:_}){this.url=c,this.headers=new Headers(p),this.schema=v,this.fetch=_}select(c,{head:p=!1,count:v}={}){const _=p?"HEAD":"GET";let k=!1;const E=(c??"*").split("").map(j=>/\s/.test(j)&&!k?"":(j==='"'&&(k=!k),j)).join("");return this.url.searchParams.set("select",E),v&&this.headers.append("Prefer",`count=${v}`),new r.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:p,defaultToNull:v=!0}={}){var _;const k="POST";if(p&&this.headers.append("Prefer",`count=${p}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const E=c.reduce((j,N)=>j.concat(Object.keys(N)),[]);if(E.length>0){const j=[...new Set(E)].map(N=>`"${N}"`);this.url.searchParams.set("columns",j.join(","))}}return new r.default({method:k,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}upsert(c,{onConflict:p,ignoreDuplicates:v=!1,count:_,defaultToNull:k=!0}={}){var E;const j="POST";if(this.headers.append("Prefer",`resolution=${v?"ignore":"merge"}-duplicates`),p!==void 0&&this.url.searchParams.set("on_conflict",p),_&&this.headers.append("Prefer",`count=${_}`),k||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const N=c.reduce((q,Z)=>q.concat(Object.keys(Z)),[]);if(N.length>0){const q=[...new Set(N)].map(Z=>`"${Z}"`);this.url.searchParams.set("columns",q.join(","))}}return new r.default({method:j,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(E=this.fetch)!==null&&E!==void 0?E:fetch})}update(c,{count:p}={}){var v;const _="PATCH";return p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}delete({count:c}={}){var p;const v="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Ks.default=o,Ks}var Cf;function Tp(){if(Cf)return zs;Cf=1;var f=zs&&zs.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(zs,"__esModule",{value:!0});const r=f(eh()),o=f(wc());class l{constructor(p,{headers:v={},schema:_,fetch:k}={}){this.url=p,this.headers=new Headers(v),this.schemaName=_,this.fetch=k}from(p){const v=new URL(`${this.url}/${p}`);return new r.default(v,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(p){return new l(this.url,{headers:this.headers,schema:p,fetch:this.fetch})}rpc(p,v={},{head:_=!1,get:k=!1,count:E}={}){var j;let N;const q=new URL(`${this.url}/rpc/${p}`);let Z;_||k?(N=_?"HEAD":"GET",Object.entries(v).filter(([ae,te])=>te!==void 0).map(([ae,te])=>[ae,Array.isArray(te)?`{${te.join(",")}}`:`${te}`]).forEach(([ae,te])=>{q.searchParams.append(ae,te)})):(N="POST",Z=v);const ie=new Headers(this.headers);return E&&ie.set("Prefer",`count=${E}`),new o.default({method:N,url:q,headers:ie,schema:this.schemaName,body:Z,fetch:(j=this.fetch)!==null&&j!==void 0?j:fetch})}}return zs.default=l,zs}var jf;function Op(){if(jf)return Mt;jf=1;var f=Mt&&Mt.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const r=f(Tp());Mt.PostgrestClient=r.default;const o=f(eh());Mt.PostgrestQueryBuilder=o.default;const l=f(wc());Mt.PostgrestFilterBuilder=l.default;const c=f(Zf());Mt.PostgrestTransformBuilder=c.default;const p=f(Xf());Mt.PostgrestBuilder=p.default;const v=f(Yf());return Mt.PostgrestError=v.default,Mt.default={PostgrestClient:r.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:p.default,PostgrestError:v.default},Mt}var Np=Op();const Rp=El(Np),{PostgrestClient:Ap,PostgrestQueryBuilder:Kv,PostgrestFilterBuilder:qv,PostgrestTransformBuilder:Wv,PostgrestBuilder:Vv,PostgrestError:Hv}=Rp;class Ip{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const o=parseInt(process.versions.node.split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let o=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(o+=`

Suggested solution: ${r.workaround}`),new Error(o)}static createWebSocket(r,o){const l=this.getWebSocketConstructor();return new l(r,o)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Lp="2.15.1",Dp=`realtime-js/${Lp}`,$p="1.0.0",sc=1e4,Mp=1e3,Up=100;var Ho;(function(f){f[f.connecting=0]="connecting",f[f.open=1]="open",f[f.closing=2]="closing",f[f.closed=3]="closed"})(Ho||(Ho={}));var Ot;(function(f){f.closed="closed",f.errored="errored",f.joined="joined",f.joining="joining",f.leaving="leaving"})(Ot||(Ot={}));var Bn;(function(f){f.close="phx_close",f.error="phx_error",f.join="phx_join",f.reply="phx_reply",f.leave="phx_leave",f.access_token="access_token"})(Bn||(Bn={}));var oc;(function(f){f.websocket="websocket"})(oc||(oc={}));var ts;(function(f){f.Connecting="connecting",f.Open="open",f.Closing="closing",f.Closed="closed"})(ts||(ts={}));class Bp{constructor(){this.HEADER_LENGTH=1}decode(r,o){return r.constructor===ArrayBuffer?o(this._binaryDecode(r)):o(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const o=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,o,l)}_decodeBroadcast(r,o,l){const c=o.getUint8(1),p=o.getUint8(2);let v=this.HEADER_LENGTH+2;const _=l.decode(r.slice(v,v+c));v=v+c;const k=l.decode(r.slice(v,v+p));v=v+p;const E=JSON.parse(l.decode(r.slice(v,r.byteLength)));return{ref:null,topic:_,event:k,payload:E}}}class th{constructor(r,o){this.callback=r,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(f){f.abstime="abstime",f.bool="bool",f.date="date",f.daterange="daterange",f.float4="float4",f.float8="float8",f.int2="int2",f.int4="int4",f.int4range="int4range",f.int8="int8",f.int8range="int8range",f.json="json",f.jsonb="jsonb",f.money="money",f.numeric="numeric",f.oid="oid",f.reltime="reltime",f.text="text",f.time="time",f.timestamp="timestamp",f.timestamptz="timestamptz",f.timetz="timetz",f.tsrange="tsrange",f.tstzrange="tstzrange"})(st||(st={}));const Pf=(f,r,o={})=>{var l;const c=(l=o.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((p,v)=>(p[v]=Fp(v,f,r,c),p),{})},Fp=(f,r,o,l)=>{const c=r.find(_=>_.name===f),p=c?.type,v=o[f];return p&&!l.includes(p)?nh(p,v):ac(v)},nh=(f,r)=>{if(f.charAt(0)==="_"){const o=f.slice(1,f.length);return Wp(r,o)}switch(f){case st.bool:return zp(r);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return Kp(r);case st.json:case st.jsonb:return qp(r);case st.timestamp:return Vp(r);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return ac(r);default:return ac(r)}},ac=f=>f,zp=f=>{switch(f){case"t":return!0;case"f":return!1;default:return f}},Kp=f=>{if(typeof f=="string"){const r=parseFloat(f);if(!Number.isNaN(r))return r}return f},qp=f=>{if(typeof f=="string")try{return JSON.parse(f)}catch(r){return console.log(`JSON parse error: ${r}`),f}return f},Wp=(f,r)=>{if(typeof f!="string")return f;const o=f.length-1,l=f[o];if(f[0]==="{"&&l==="}"){let p;const v=f.slice(1,o);try{p=JSON.parse("["+v+"]")}catch{p=v?v.split(","):[]}return p.map(_=>nh(r,_))}return f},Vp=f=>typeof f=="string"?f.replace(" ","T"):f,rh=f=>{let r=f;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class Ju{constructor(r,o,l={},c=sc){this.channel=r,this.event=o,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,o){var l;return this._hasReceived(r)&&o((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:o}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(o))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Tf;(function(f){f.SYNC="sync",f.JOIN="join",f.LEAVE="leave"})(Tf||(Tf={}));class Qo{constructor(r,o){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:p,onLeave:v,onSync:_}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qo.syncState(this.state,c,p,v),this.pendingDiffs.forEach(k=>{this.state=Qo.syncDiff(this.state,k,p,v)}),this.pendingDiffs=[],_()}),this.channel._on(l.diff,{},c=>{const{onJoin:p,onLeave:v,onSync:_}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Qo.syncDiff(this.state,c,p,v),_())}),this.onJoin((c,p,v)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:p,newPresences:v})}),this.onLeave((c,p,v)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:p,leftPresences:v})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,o,l,c){const p=this.cloneDeep(r),v=this.transformState(o),_={},k={};return this.map(p,(E,j)=>{v[E]||(k[E]=j)}),this.map(v,(E,j)=>{const N=p[E];if(N){const q=j.map(te=>te.presence_ref),Z=N.map(te=>te.presence_ref),ie=j.filter(te=>Z.indexOf(te.presence_ref)<0),ae=N.filter(te=>q.indexOf(te.presence_ref)<0);ie.length>0&&(_[E]=ie),ae.length>0&&(k[E]=ae)}else _[E]=j}),this.syncDiff(p,{joins:_,leaves:k},l,c)}static syncDiff(r,o,l,c){const{joins:p,leaves:v}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(p,(_,k)=>{var E;const j=(E=r[_])!==null&&E!==void 0?E:[];if(r[_]=this.cloneDeep(k),j.length>0){const N=r[_].map(Z=>Z.presence_ref),q=j.filter(Z=>N.indexOf(Z.presence_ref)<0);r[_].unshift(...q)}l(_,j,k)}),this.map(v,(_,k)=>{let E=r[_];if(!E)return;const j=k.map(N=>N.presence_ref);E=E.filter(N=>j.indexOf(N.presence_ref)<0),r[_]=E,c(_,E,k),E.length===0&&delete r[_]}),r}static map(r,o){return Object.getOwnPropertyNames(r).map(l=>o(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((o,l)=>{const c=r[l];return"metas"in c?o[l]=c.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):o[l]=c,o},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Of;(function(f){f.ALL="*",f.INSERT="INSERT",f.UPDATE="UPDATE",f.DELETE="DELETE"})(Of||(Of={}));var Go;(function(f){f.BROADCAST="broadcast",f.PRESENCE="presence",f.POSTGRES_CHANGES="postgres_changes",f.SYSTEM="system"})(Go||(Go={}));var $r;(function(f){f.SUBSCRIBED="SUBSCRIBED",f.TIMED_OUT="TIMED_OUT",f.CLOSED="CLOSED",f.CHANNEL_ERROR="CHANNEL_ERROR"})($r||($r={}));class _c{constructor(r,o={config:{}},l){this.topic=r,this.params=o,this.socket=l,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Ju(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new th(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(c,p)=>{this._trigger(this._replyEventName(p),c)}),this.presence=new Qo(this),this.broadcastEndpointURL=rh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,o=this.timeout){var l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ot.closed){const{config:{broadcast:p,presence:v,private:_}}=this.params,k=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(q=>q.filter))!==null&&c!==void 0?c:[],E=!!this.bindings[Go.PRESENCE]&&this.bindings[Go.PRESENCE].length>0,j={},N={broadcast:p,presence:Object.assign(Object.assign({},v),{enabled:E}),postgres_changes:k,private:_};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(q=>r?.($r.CHANNEL_ERROR,q)),this._onClose(()=>r?.($r.CLOSED)),this.updateJoinPayload(Object.assign({config:N},j)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:q})=>{var Z;if(this.socket.setAuth(),q===void 0){r?.($r.SUBSCRIBED);return}else{const ie=this.bindings.postgres_changes,ae=(Z=ie?.length)!==null&&Z!==void 0?Z:0,te=[];for(let De=0;De<ae;De++){const Me=ie[De],{filter:{event:ye,schema:be,table:ze,filter:ce}}=Me,Ee=q&&q[De];if(Ee&&Ee.event===ye&&Ee.schema===be&&Ee.table===ze&&Ee.filter===ce)te.push(Object.assign(Object.assign({},Me),{id:Ee.id}));else{this.unsubscribe(),this.state=Ot.errored,r?.($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=te,r&&r($r.SUBSCRIBED);return}}).receive("error",q=>{this.state=Ot.errored,r?.($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(q).join(", ")||"error")))}).receive("timeout",()=>{r?.($r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,o={}){return await this.send({type:"presence",event:"track",payload:r},o.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,o,l){return this.state===Ot.joined&&r===Go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,o,l)}async send(r,o={}){var l,c;if(!this._canPush()&&r.type==="broadcast"){const{event:p,payload:v}=r,k={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:v,private:this.private}]})};try{const E=await this._fetchWithTimeout(this.broadcastEndpointURL,k,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=E.body)===null||c===void 0?void 0:c.cancel()),E.ok?"ok":"error"}catch(E){return E.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var v,_,k;const E=this._push(r.type,r,o.timeout||this.timeout);r.type==="broadcast"&&!(!((k=(_=(v=this.params)===null||v===void 0?void 0:v.config)===null||_===void 0?void 0:_.broadcast)===null||k===void 0)&&k.ack)&&p("ok"),E.receive("ok",()=>p("ok")),E.receive("error",()=>p("error")),E.receive("timeout",()=>p("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ot.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Ju(this,Bn.leave,{},r),l.receive("ok",()=>{o(),c("ok")}).receive("timeout",()=>{o(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ot.closed,this.bindings={}}async _fetchWithTimeout(r,o,l){const c=new AbortController,p=setTimeout(()=>c.abort(),l),v=await this.socket.fetch(r,Object.assign(Object.assign({},o),{signal:c.signal}));return clearTimeout(p),v}_push(r,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ju(this,r,o,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Up){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(r,o,l){return o}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,o,l){var c,p;const v=r.toLocaleLowerCase(),{close:_,error:k,leave:E,join:j}=Bn;if(l&&[_,k,E,j].indexOf(v)>=0&&l!==this._joinRef())return;let q=this._onMessage(v,o,l);if(o&&!q)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(v)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(Z=>{var ie,ae,te;return((ie=Z.filter)===null||ie===void 0?void 0:ie.event)==="*"||((te=(ae=Z.filter)===null||ae===void 0?void 0:ae.event)===null||te===void 0?void 0:te.toLocaleLowerCase())===v}).map(Z=>Z.callback(q,l)):(p=this.bindings[v])===null||p===void 0||p.filter(Z=>{var ie,ae,te,De,Me,ye;if(["broadcast","presence","postgres_changes"].includes(v))if("id"in Z){const be=Z.id,ze=(ie=Z.filter)===null||ie===void 0?void 0:ie.event;return be&&((ae=o.ids)===null||ae===void 0?void 0:ae.includes(be))&&(ze==="*"||ze?.toLocaleLowerCase()===((te=o.data)===null||te===void 0?void 0:te.type.toLocaleLowerCase()))}else{const be=(Me=(De=Z?.filter)===null||De===void 0?void 0:De.event)===null||Me===void 0?void 0:Me.toLocaleLowerCase();return be==="*"||be===((ye=o?.event)===null||ye===void 0?void 0:ye.toLocaleLowerCase())}else return Z.type.toLocaleLowerCase()===v}).map(Z=>{if(typeof q=="object"&&"ids"in q){const ie=q.data,{schema:ae,table:te,commit_timestamp:De,type:Me,errors:ye}=ie;q=Object.assign(Object.assign({},{schema:ae,table:te,commit_timestamp:De,eventType:Me,new:{},old:{},errors:ye}),this._getPayloadRecords(ie))}Z.callback(q,l)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,o,l){const c=r.toLocaleLowerCase(),p={type:c,filter:o,callback:l};return this.bindings[c]?this.bindings[c].push(p):this.bindings[c]=[p],this}_off(r,o){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var p;return!(((p=c.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===l&&_c.isEqual(c.filter,o))})),this}static isEqual(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const l in r)if(r[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Bn.close,{},r)}_onError(r){this._on(Bn.error,{},o=>r(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const o={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(o.new=Pf(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(o.old=Pf(r.columns,r.old_record)),o}}const Nf=()=>{},ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hp=[1e3,2e3,5e3,1e4],Qp=1e4,Gp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jp{constructor(r,o){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sc,this.transport=null,this.heartbeatIntervalMs=ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nf,this.ref=0,this.reconnectTimer=null,this.logger=Nf,this.conn=null,this.sendBuffer=[],this.serializer=new Bp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let p;return c?p=c:typeof fetch>"u"?p=(...v)=>Yo(async()=>{const{default:_}=await Promise.resolve().then(()=>to);return{default:_}},void 0).then(({default:_})=>_(...v)).catch(_=>{throw new Error(`Failed to load @supabase/node-fetch: ${_.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):p=fetch,(...v)=>p(...v)},!(!((l=o?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${r}/${oc.websocket}`,this.httpEndpoint=rh(r),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ip.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const o=r.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$p}))}disconnect(r,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},r?this.conn.close(r,o??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const o=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const r=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,o,l){this.logger(r,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ho.connecting:return ts.Connecting;case Ho.open:return ts.Open;case Ho.closing:return ts.Closing;default:return ts.Closed}}isConnected(){return this.connectionState()===ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,o={config:{}}){const l=`realtime:${r}`,c=this.getChannels().find(p=>p.topic===l);if(c)return c;{const p=new _c(`realtime:${r}`,o,this);return this.channels.push(p),p}}push(r){const{topic:o,event:l,payload:c,ref:p}=r,v=()=>{this.encode(r,_=>{var k;(k=this.conn)===null||k===void 0||k.send(_)})};this.log("push",`${o} ${l} (${p})`,c),this.isConnected()?v():this.sendBuffer.push(v)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Mp,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let o=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${r}"`),o.unsubscribe())}_remove(r){this.channels=this.channels.filter(o=>o.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,o=>{o.topic==="phoenix"&&o.event==="phx_reply"&&this.heartbeatCallback(o.payload.status==="ok"?"ok":"error"),o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:p,ref:v}=o,_=v?`(${v})`:"",k=p.status||"";this.log("receive",`${k} ${l} ${c} ${_}`.trim(),p),this.channels.filter(E=>E._isMember(l)).forEach(E=>E._trigger(c,p,v)),this._triggerStateCallbacks("message",o)})}_clearTimer(r){var o;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var o;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Bn.error))}_appendParams(r,o){if(Object.keys(o).length===0)return r;const l=r.match(/\?/)?"&":"?",c=new URLSearchParams(o);return`${r}${l}${c}`}_workerObjectUrl(r){let o;if(r)o=r;else{const l=new Blob([Gp],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}_setConnectionState(r,o=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(r=null){let o;r?o=r:this.accessToken?o=await this.accessToken():o=this.accessTokenValue,this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(l=>{const c={access_token:o,version:Dp};o&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Bn.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${r}`,o)})}_triggerStateCallbacks(r,o){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(o)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new th(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var o,l,c,p,v,_,k,E;if(this.transport=(o=r?.transport)!==null&&o!==void 0?o:null,this.timeout=(l=r?.timeout)!==null&&l!==void 0?l:sc,this.heartbeatIntervalMs=(c=r?.heartbeatIntervalMs)!==null&&c!==void 0?c:ml.HEARTBEAT_INTERVAL,this.worker=(p=r?.worker)!==null&&p!==void 0?p:!1,this.accessToken=(v=r?.accessToken)!==null&&v!==void 0?v:null,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=r?.reconnectAfterMs)!==null&&_!==void 0?_:(j=>Hp[j-1]||Qp),this.encode=(k=r?.encode)!==null&&k!==void 0?k:((j,N)=>N(JSON.stringify(j))),this.decode=(E=r?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class kc extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Nt(f){return typeof f=="object"&&f!==null&&"__isStorageError"in f}class Yp extends kc{constructor(r,o,l){super(r),this.name="StorageApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lc extends kc{constructor(r,o){super(r),this.name="StorageUnknownError",this.originalError=o}}var Xp=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};const ih=f=>{let r;return f?r=f:typeof fetch>"u"?r=(...o)=>Yo(async()=>{const{default:l}=await Promise.resolve().then(()=>to);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},Zp=()=>Xp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yo(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),uc=f=>{if(Array.isArray(f))return f.map(o=>uc(o));if(typeof f=="function"||f!==Object(f))return f;const r={};return Object.entries(f).forEach(([o,l])=>{const c=o.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));r[c]=uc(l)}),r},em=f=>{if(typeof f!="object"||f===null)return!1;const r=Object.getPrototypeOf(f);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in f)&&!(Symbol.iterator in f)};var ns=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};const Yu=f=>f.msg||f.message||f.error_description||f.error||JSON.stringify(f),tm=(f,r,o)=>ns(void 0,void 0,void 0,function*(){const l=yield Zp();f instanceof l&&!o?.noResolveJson?f.json().then(c=>{const p=f.status||500,v=c?.statusCode||p+"";r(new Yp(Yu(c),p,v))}).catch(c=>{r(new lc(Yu(c),c))}):r(new lc(Yu(f),f))}),nm=(f,r,o,l)=>{const c={method:f,headers:r?.headers||{}};return f==="GET"||!l?c:(em(l)?(c.headers=Object.assign({"Content-Type":"application/json"},r?.headers),c.body=JSON.stringify(l)):c.body=l,r?.duplex&&(c.duplex=r.duplex),Object.assign(Object.assign({},c),o))};function Xo(f,r,o,l,c,p){return ns(this,void 0,void 0,function*(){return new Promise((v,_)=>{f(o,nm(r,l,c,p)).then(k=>{if(!k.ok)throw k;return l?.noResolveJson?k:k.json()}).then(k=>v(k)).catch(k=>tm(k,_,l))})})}function kl(f,r,o,l){return ns(this,void 0,void 0,function*(){return Xo(f,"GET",r,o,l)})}function lr(f,r,o,l,c){return ns(this,void 0,void 0,function*(){return Xo(f,"POST",r,l,c,o)})}function cc(f,r,o,l,c){return ns(this,void 0,void 0,function*(){return Xo(f,"PUT",r,l,c,o)})}function rm(f,r,o,l){return ns(this,void 0,void 0,function*(){return Xo(f,"HEAD",r,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}function sh(f,r,o,l,c){return ns(this,void 0,void 0,function*(){return Xo(f,"DELETE",r,l,c,o)})}var tn=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};const im={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sm{constructor(r,o={},l,c){this.url=r,this.headers=o,this.bucketId=l,this.fetch=ih(c)}uploadOrUpdate(r,o,l,c){return tn(this,void 0,void 0,function*(){try{let p;const v=Object.assign(Object.assign({},Rf),c);let _=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(v.upsert)});const k=v.metadata;typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),k&&p.append("metadata",this.encodeMetadata(k)),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",v.cacheControl),k&&p.append("metadata",this.encodeMetadata(k))):(p=l,_["cache-control"]=`max-age=${v.cacheControl}`,_["content-type"]=v.contentType,k&&(_["x-metadata"]=this.toBase64(this.encodeMetadata(k)))),c?.headers&&(_=Object.assign(Object.assign({},_),c.headers));const E=this._removeEmptyFolders(o),j=this._getFinalPath(E),N=yield(r=="PUT"?cc:lr)(this.fetch,`${this.url}/object/${j}`,p,Object.assign({headers:_},v?.duplex?{duplex:v.duplex}:{}));return{data:{path:E,id:N.Id,fullPath:N.Key},error:null}}catch(p){if(Nt(p))return{data:null,error:p};throw p}})}upload(r,o,l){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,o,l)})}uploadToSignedUrl(r,o,l,c){return tn(this,void 0,void 0,function*(){const p=this._removeEmptyFolders(r),v=this._getFinalPath(p),_=new URL(this.url+`/object/upload/sign/${v}`);_.searchParams.set("token",o);try{let k;const E=Object.assign({upsert:Rf.upsert},c),j=Object.assign(Object.assign({},this.headers),{"x-upsert":String(E.upsert)});typeof Blob<"u"&&l instanceof Blob?(k=new FormData,k.append("cacheControl",E.cacheControl),k.append("",l)):typeof FormData<"u"&&l instanceof FormData?(k=l,k.append("cacheControl",E.cacheControl)):(k=l,j["cache-control"]=`max-age=${E.cacheControl}`,j["content-type"]=E.contentType);const N=yield cc(this.fetch,_.toString(),k,{headers:j});return{data:{path:p,fullPath:N.Key},error:null}}catch(k){if(Nt(k))return{data:null,error:k};throw k}})}createSignedUploadUrl(r,o){return tn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const c=Object.assign({},this.headers);o?.upsert&&(c["x-upsert"]="true");const p=yield lr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),v=new URL(this.url+p.url),_=v.searchParams.get("token");if(!_)throw new kc("No token returned by API");return{data:{signedUrl:v.toString(),path:r,token:_},error:null}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}update(r,o,l){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,o,l)})}move(r,o,l){return tn(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}copy(r,o,l){return tn(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}createSignedUrl(r,o,l){return tn(this,void 0,void 0,function*(){try{let c=this._getFinalPath(r),p=yield lr(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const v=l?.download?`&download=${l.download===!0?"":l.download}`:"";return p={signedUrl:encodeURI(`${this.url}${p.signedURL}${v}`)},{data:p,error:null}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}createSignedUrls(r,o,l){return tn(this,void 0,void 0,function*(){try{const c=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:r},{headers:this.headers}),p=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(v=>Object.assign(Object.assign({},v),{signedUrl:v.signedURL?encodeURI(`${this.url}${v.signedURL}${p}`):null})),error:null}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}download(r,o){return tn(this,void 0,void 0,function*(){const c=typeof o?.transform<"u"?"render/image/authenticated":"object",p=this.transformOptsToQueryString(o?.transform||{}),v=p?`?${p}`:"";try{const _=this._getFinalPath(r);return{data:yield(yield kl(this.fetch,`${this.url}/${c}/${_}${v}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(_){if(Nt(_))return{data:null,error:_};throw _}})}info(r){return tn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{const l=yield kl(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:uc(l),error:null}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}exists(r){return tn(this,void 0,void 0,function*(){const o=this._getFinalPath(r);try{return yield rm(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Nt(l)&&l instanceof lc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,o){const l=this._getFinalPath(r),c=[],p=o?.download?`download=${o.download===!0?"":o.download}`:"";p!==""&&c.push(p);const _=typeof o?.transform<"u"?"render/image":"object",k=this.transformOptsToQueryString(o?.transform||{});k!==""&&c.push(k);let E=c.join("&");return E!==""&&(E=`?${E}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${l}${E}`)}}}remove(r){return tn(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}list(r,o,l){return tn(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},im),o),{prefix:r||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}listV2(r,o){return tn(this,void 0,void 0,function*(){try{const l=Object.assign({},r);return{data:yield lr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const o=[];return r.width&&o.push(`width=${r.width}`),r.height&&o.push(`height=${r.height}`),r.resize&&o.push(`resize=${r.resize}`),r.format&&o.push(`format=${r.format}`),r.quality&&o.push(`quality=${r.quality}`),o.join("&")}}const om="2.11.0",am={"X-Client-Info":`storage-js/${om}`};var Hs=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};class lm{constructor(r,o={},l,c){const p=new URL(r);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(p.hostname)&&!p.hostname.includes("storage.supabase.")&&(p.hostname=p.hostname.replace("supabase.","storage.supabase.")),this.url=p.href,this.headers=Object.assign(Object.assign({},am),o),this.fetch=ih(l)}listBuckets(){return Hs(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}getBucket(r){return Hs(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}createBucket(r,o={public:!1}){return Hs(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}updateBucket(r,o){return Hs(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return Hs(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}deleteBucket(r){return Hs(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}}class um extends lm{constructor(r,o={},l,c){super(r,o,l,c)}from(r){return new sm(this.url,this.headers,r,this.fetch)}}const cm="2.56.0";let Vo="";typeof Deno<"u"?Vo="deno":typeof document<"u"?Vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vo="react-native":Vo="node";const dm={"X-Client-Info":`supabase-js-${Vo}/${cm}`},fm={headers:dm},hm={schema:"public"},pm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mm={};var vm=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};const ym=f=>{let r;return f?r=f:typeof fetch>"u"?r=Gf:r=fetch,(...o)=>r(...o)},gm=()=>typeof Headers>"u"?Jf:Headers,wm=(f,r,o)=>{const l=ym(o),c=gm();return(p,v)=>vm(void 0,void 0,void 0,function*(){var _;const k=(_=yield r())!==null&&_!==void 0?_:f;let E=new c(v?.headers);return E.has("apikey")||E.set("apikey",f),E.has("Authorization")||E.set("Authorization",`Bearer ${k}`),l(p,Object.assign(Object.assign({},v),{headers:E}))})};var _m=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};function km(f){return f.endsWith("/")?f:f+"/"}function bm(f,r){var o,l;const{db:c,auth:p,realtime:v,global:_}=f,{db:k,auth:E,realtime:j,global:N}=r,q={db:Object.assign(Object.assign({},k),c),auth:Object.assign(Object.assign({},E),p),realtime:Object.assign(Object.assign({},j),v),storage:{},global:Object.assign(Object.assign(Object.assign({},N),_),{headers:Object.assign(Object.assign({},(o=N?.headers)!==null&&o!==void 0?o:{}),(l=_?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>_m(this,void 0,void 0,function*(){return""})};return f.accessToken?q.accessToken=f.accessToken:delete q.accessToken,q}const oh="2.71.1",Xs=30*1e3,dc=3,Xu=dc*Xs,xm="http://localhost:9999",Sm="supabase.auth.token",Em={"X-Client-Info":`gotrue-js/${oh}`},fc="X-Supabase-Api-Version",ah={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jm=600*1e3;class bc extends Error{constructor(r,o,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function $e(f){return typeof f=="object"&&f!==null&&"__isAuthError"in f}class Pm extends bc{constructor(r,o,l){super(r,o,l),this.name="AuthApiError",this.status=o,this.code=l}}function Tm(f){return $e(f)&&f.name==="AuthApiError"}class lh extends bc{constructor(r,o){super(r),this.name="AuthUnknownError",this.originalError=o}}class _i extends bc{constructor(r,o,l,c){super(r,l,c),this.name=o,this.status=l}}class vi extends _i{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Om(f){return $e(f)&&f.name==="AuthSessionMissingError"}class vl extends _i{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yl extends _i{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class gl extends _i{constructor(r,o=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nm(f){return $e(f)&&f.name==="AuthImplicitGrantRedirectError"}class Af extends _i{constructor(r,o=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hc extends _i{constructor(r,o){super(r,"AuthRetryableFetchError",o,void 0)}}function Zu(f){return $e(f)&&f.name==="AuthRetryableFetchError"}class If extends _i{constructor(r,o,l){super(r,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class pc extends _i{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lf=` 	
\r=`.split(""),Rm=(()=>{const f=new Array(128);for(let r=0;r<f.length;r+=1)f[r]=-1;for(let r=0;r<Lf.length;r+=1)f[Lf[r].charCodeAt(0)]=-2;for(let r=0;r<bl.length;r+=1)f[bl[r].charCodeAt(0)]=r;return f})();function Df(f,r,o){if(f!==null)for(r.queue=r.queue<<8|f,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(bl[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;o(bl[l]),r.queuedBits-=6}}function uh(f,r,o){const l=Rm[f];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)o(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(f)}"`)}}function $f(f){const r=[],o=v=>{r.push(String.fromCodePoint(v))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},p=v=>{Lm(v,l,o)};for(let v=0;v<f.length;v+=1)uh(f.charCodeAt(v),c,p);return r.join("")}function Am(f,r){if(f<=127){r(f);return}else if(f<=2047){r(192|f>>6),r(128|f&63);return}else if(f<=65535){r(224|f>>12),r(128|f>>6&63),r(128|f&63);return}else if(f<=1114111){r(240|f>>18),r(128|f>>12&63),r(128|f>>6&63),r(128|f&63);return}throw new Error(`Unrecognized Unicode codepoint: ${f.toString(16)}`)}function Im(f,r){for(let o=0;o<f.length;o+=1){let l=f.charCodeAt(o);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(f.charCodeAt(o+1)-56320&65535|c)+65536,o+=1}Am(l,r)}}function Lm(f,r,o){if(r.utf8seq===0){if(f<=127){o(f);return}for(let l=1;l<6;l+=1)if((f>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=f&31;else if(r.utf8seq===3)r.codepoint=f&15;else if(r.utf8seq===4)r.codepoint=f&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(f<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|f&63,r.utf8seq-=1,r.utf8seq===0&&o(r.codepoint)}}function Dm(f){const r=[],o={queue:0,queuedBits:0},l=c=>{r.push(c)};for(let c=0;c<f.length;c+=1)uh(f.charCodeAt(c),o,l);return new Uint8Array(r)}function $m(f){const r=[];return Im(f,o=>r.push(o)),new Uint8Array(r)}function Mm(f){const r=[],o={queue:0,queuedBits:0},l=c=>{r.push(c)};return f.forEach(c=>Df(c,o,l)),Df(null,o,l),r.join("")}function Um(f){return Math.round(Date.now()/1e3)+f}function Bm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){const r=Math.random()*16|0;return(f=="x"?r:r&3|8).toString(16)})}const Un=()=>typeof window<"u"&&typeof document<"u",Yi={tested:!1,writable:!1},ch=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;const f=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(f,f),globalThis.localStorage.removeItem(f),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function Fm(f){const r={},o=new URL(f);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((c,p)=>{r[p]=c})}catch{}return o.searchParams.forEach((l,c)=>{r[c]=l}),r}const dh=f=>{let r;return f?r=f:typeof fetch>"u"?r=(...o)=>Yo(async()=>{const{default:l}=await Promise.resolve().then(()=>to);return{default:l}},void 0).then(({default:l})=>l(...o)):r=fetch,(...o)=>r(...o)},zm=f=>typeof f=="object"&&f!==null&&"status"in f&&"ok"in f&&"json"in f&&typeof f.json=="function",Zs=async(f,r,o)=>{await f.setItem(r,JSON.stringify(o))},Xi=async(f,r)=>{const o=await f.getItem(r);if(!o)return null;try{return JSON.parse(o)}catch{return o}},mi=async(f,r)=>{await f.removeItem(r)};class Cl{constructor(){this.promise=new Cl.promiseConstructor((r,o)=>{this.resolve=r,this.reject=o})}}Cl.promiseConstructor=Promise;function ec(f){const r=f.split(".");if(r.length!==3)throw new pc("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!Cm.test(r[l]))throw new pc("JWT not in base64url format");return{header:JSON.parse($f(r[0])),payload:JSON.parse($f(r[1])),signature:Dm(r[2]),raw:{header:r[0],payload:r[1]}}}async function Km(f){return await new Promise(r=>{setTimeout(()=>r(null),f)})}function qm(f,r){return new Promise((l,c)=>{(async()=>{for(let p=0;p<1/0;p++)try{const v=await f(p);if(!r(p,null,v)){l(v);return}}catch(v){if(!r(p,v)){c(v);return}}})()})}function Wm(f){return("0"+f.toString(16)).substr(-2)}function Vm(){const r=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let c="";for(let p=0;p<56;p++)c+=o.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(r),Array.from(r,Wm).join("")}async function Hm(f){const o=new TextEncoder().encode(f),l=await crypto.subtle.digest("SHA-256",o),c=new Uint8Array(l);return Array.from(c).map(p=>String.fromCharCode(p)).join("")}async function Qm(f){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),f;const o=await Hm(f);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qs(f,r,o=!1){const l=Vm();let c=l;o&&(c+="/PASSWORD_RECOVERY"),await Zs(f,`${r}-code-verifier`,c);const p=await Qm(l);return[p,l===p?"plain":"s256"]}const Gm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jm(f){const r=f.headers.get(fc);if(!r||!r.match(Gm))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Ym(f){if(!f)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(f<=r)throw new Error("JWT has expired")}function Xm(f){switch(f){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gs(f){if(!Zm.test(f))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tc(){const f={};return new Proxy(f,{get:(r,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mf(f){return JSON.parse(JSON.stringify(f))}var ev=function(f,r){var o={};for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&r.indexOf(l)<0&&(o[l]=f[l]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(f);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(f,l[c])&&(o[l[c]]=f[l[c]]);return o};const es=f=>f.msg||f.message||f.error_description||f.error||JSON.stringify(f),tv=[502,503,504];async function Uf(f){var r;if(!zm(f))throw new hc(es(f),0);if(tv.includes(f.status))throw new hc(es(f),f.status);let o;try{o=await f.json()}catch(p){throw new lh(es(p),p)}let l;const c=Jm(f);if(c&&c.getTime()>=ah["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?l=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(l=o.error_code),l){if(l==="weak_password")throw new If(es(o),f.status,((r=o.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new vi}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((p,v)=>p&&typeof v=="string",!0))throw new If(es(o),f.status,o.weak_password.reasons);throw new Pm(es(o),f.status||500,l)}const nv=(f,r,o,l)=>{const c={method:f,headers:r?.headers||{}};return f==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),o))};async function We(f,r,o,l){var c;const p=Object.assign({},l?.headers);p[fc]||(p[fc]=ah["2024-01-01"].name),l?.jwt&&(p.Authorization=`Bearer ${l.jwt}`);const v=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(v.redirect_to=l.redirectTo);const _=Object.keys(v).length?"?"+new URLSearchParams(v).toString():"",k=await rv(f,r,o+_,{headers:p,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(k):{data:Object.assign({},k),error:null}}async function rv(f,r,o,l,c,p){const v=nv(r,l,c,p);let _;try{_=await f(o,Object.assign({},v))}catch(k){throw console.error(k),new hc(es(k),0)}if(_.ok||await Uf(_),l?.noResolveJson)return _;try{return await _.json()}catch(k){await Uf(k)}}function Dr(f){var r;let o=null;av(f)&&(o=Object.assign({},f),f.expires_at||(o.expires_at=Um(f.expires_in)));const l=(r=f.user)!==null&&r!==void 0?r:f;return{data:{session:o,user:l},error:null}}function Bf(f){const r=Dr(f);return!r.error&&f.weak_password&&typeof f.weak_password=="object"&&Array.isArray(f.weak_password.reasons)&&f.weak_password.reasons.length&&f.weak_password.message&&typeof f.weak_password.message=="string"&&f.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0)&&(r.data.weak_password=f.weak_password),r}function yi(f){var r;return{data:{user:(r=f.user)!==null&&r!==void 0?r:f},error:null}}function iv(f){return{data:f,error:null}}function sv(f){const{action_link:r,email_otp:o,hashed_token:l,redirect_to:c,verification_type:p}=f,v=ev(f,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),_={action_link:r,email_otp:o,hashed_token:l,redirect_to:c,verification_type:p},k=Object.assign({},v);return{data:{properties:_,user:k},error:null}}function ov(f){return f}function av(f){return f.access_token&&f.refresh_token&&f.expires_in}const nc=["global","local","others"];var lv=function(f,r){var o={};for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&r.indexOf(l)<0&&(o[l]=f[l]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(f);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(f,l[c])&&(o[l[c]]=f[l[c]]);return o};class uv{constructor({url:r="",headers:o={},fetch:l}){this.url=r,this.headers=o,this.fetch=dh(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,o=nc[0]){if(nc.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nc.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if($e(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,o={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:yi})}catch(l){if($e(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:o}=r,l=lv(r,["options"]),c=Object.assign(Object.assign({},l),o);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:sv,redirectTo:o?.redirectTo})}catch(o){if($e(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(r){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:yi})}catch(o){if($e(o))return{data:{user:null},error:o};throw o}}async listUsers(r){var o,l,c,p,v,_,k;try{const E={nextPage:null,lastPage:0,total:0},j=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(o=r?.page)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:"",per_page:(p=(c=r?.perPage)===null||c===void 0?void 0:c.toString())!==null&&p!==void 0?p:""},xform:ov});if(j.error)throw j.error;const N=await j.json(),q=(v=j.headers.get("x-total-count"))!==null&&v!==void 0?v:0,Z=(k=(_=j.headers.get("link"))===null||_===void 0?void 0:_.split(","))!==null&&k!==void 0?k:[];return Z.length>0&&(Z.forEach(ie=>{const ae=parseInt(ie.split(";")[0].split("=")[1].substring(0,1)),te=JSON.parse(ie.split(";")[1].split("=")[1]);E[`${te}Page`]=ae}),E.total=parseInt(q)),{data:Object.assign(Object.assign({},N),E),error:null}}catch(E){if($e(E))return{data:{users:[]},error:E};throw E}}async getUserById(r){Gs(r);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:yi})}catch(o){if($e(o))return{data:{user:null},error:o};throw o}}async updateUserById(r,o){Gs(r);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:o,headers:this.headers,xform:yi})}catch(l){if($e(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,o=!1){Gs(r);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:o},xform:yi})}catch(l){if($e(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){Gs(r.userId);try{const{data:o,error:l}=await We(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:o,error:l}}catch(o){if($e(o))return{data:null,error:o};throw o}}async _deleteFactor(r){Gs(r.userId),Gs(r.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}}}function Ff(f={}){return{getItem:r=>f[r]||null,setItem:(r,o)=>{f[r]=o},removeItem:r=>{delete f[r]}}}function cv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Js={debug:!!(globalThis&&ch()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class dv extends fh{}async function fv(f,r,o){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",f,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",f)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(f,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",f,c.name);try{return await o()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",f,c.name)}}else{if(r===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",f),new dv(`Acquiring an exclusive Navigator LockManager lock "${f}" immediately failed`);if(Js.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}cv();const hv={url:xm,storageKey:Sm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Em,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zf(f,r,o){return await o()}const Ys={};class Jo{constructor(r){var o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jo.nextInstanceID,Jo.nextInstanceID+=1,this.instanceID>0&&Un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},hv),r);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new uv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=dh(c.fetch),this.lock=c.lock||zf,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Un()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=fv:this.lock=zf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:ch()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}get jwks(){var r,o;return(o=(r=Ys[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(r){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,o;return(o=(r=Ys[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const o=Fm(window.location.href);let l="none";if(this._isImplicitGrantCallback(o)?l="implicit":await this._isPKCECallback(o)&&(l="pkce"),Un()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:p}=await this._getSessionFromURL(o,l);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),Nm(p)){const k=(r=p.details)===null||r===void 0?void 0:r.code;if(k==="identity_already_exists"||k==="identity_not_found"||k==="single_identity_not_deletable")return{error:p}}return await this._removeSession(),{error:p}}const{session:v,redirectType:_}=c;return this._debug("#_initialize()","detected session in URL",v,"redirect type",_),await this._saveSession(v),setTimeout(async()=>{_==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",v):await this._notifyAllSubscribers("SIGNED_IN",v)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return $e(o)?{error:o}:{error:new lh("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var o,l,c;try{const p=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(o=r?.options)===null||o===void 0?void 0:o.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=r?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Dr}),{data:v,error:_}=p;if(_||!v)return{data:{user:null,session:null},error:_};const k=v.session,E=v.user;return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:E,session:k},error:null}}catch(p){if($e(p))return{data:{user:null,session:null},error:p};throw p}}async signUp(r){var o,l,c;try{let p;if("email"in r){const{email:j,password:N,options:q}=r;let Z=null,ie=null;this.flowType==="pkce"&&([Z,ie]=await Qs(this.storage,this.storageKey)),p=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:q?.emailRedirectTo,body:{email:j,password:N,data:(o=q?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:q?.captchaToken},code_challenge:Z,code_challenge_method:ie},xform:Dr})}else if("phone"in r){const{phone:j,password:N,options:q}=r;p=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:j,password:N,data:(l=q?.data)!==null&&l!==void 0?l:{},channel:(c=q?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:q?.captchaToken}},xform:Dr})}else throw new yl("You must provide either an email or phone number and a password");const{data:v,error:_}=p;if(_||!v)return{data:{user:null,session:null},error:_};const k=v.session,E=v.user;return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",k)),{data:{user:E,session:k},error:null}}catch(p){if($e(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithPassword(r){try{let o;if("email"in r){const{email:p,password:v,options:_}=r;o=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:v,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Bf})}else if("phone"in r){const{phone:p,password:v,options:_}=r;o=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:v,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Bf})}else throw new yl("You must provide either an email or phone number and a password");const{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(o){if($e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(r){var o,l,c,p;return await this._handleProviderSignIn(r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(p=r.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:o}=r;if(o==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}async signInWithSolana(r){var o,l,c,p,v,_,k,E,j,N,q,Z;let ie,ae;if("message"in r)ie=r.message,ae=r.signature;else{const{chain:te,wallet:De,statement:Me,options:ye}=r;let be;if(Un())if(typeof De=="object")be=De;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))be=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof De!="object"||!ye?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");be=De}const ze=new URL((o=ye?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in be&&be.signIn){const ce=await be.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},ye?.signInWithSolana),{version:"1",domain:ze.host,uri:ze.href}),Me?{statement:Me}:null));let Ee;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")Ee=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)Ee=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ee&&"signature"in Ee&&(typeof Ee.signedMessage=="string"||Ee.signedMessage instanceof Uint8Array)&&Ee.signature instanceof Uint8Array)ie=typeof Ee.signedMessage=="string"?Ee.signedMessage:new TextDecoder().decode(Ee.signedMessage),ae=Ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in be)||typeof be.signMessage!="function"||!("publicKey"in be)||typeof be!="object"||!be.publicKey||!("toBase58"in be.publicKey)||typeof be.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");ie=[`${ze.host} wants you to sign in with your Solana account:`,be.publicKey.toBase58(),...Me?["",Me,""]:[""],"Version: 1",`URI: ${ze.href}`,`Issued At: ${(c=(l=ye?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((p=ye?.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${ye.signInWithSolana.notBefore}`]:[],...!((v=ye?.signInWithSolana)===null||v===void 0)&&v.expirationTime?[`Expiration Time: ${ye.signInWithSolana.expirationTime}`]:[],...!((_=ye?.signInWithSolana)===null||_===void 0)&&_.chainId?[`Chain ID: ${ye.signInWithSolana.chainId}`]:[],...!((k=ye?.signInWithSolana)===null||k===void 0)&&k.nonce?[`Nonce: ${ye.signInWithSolana.nonce}`]:[],...!((E=ye?.signInWithSolana)===null||E===void 0)&&E.requestId?[`Request ID: ${ye.signInWithSolana.requestId}`]:[],...!((N=(j=ye?.signInWithSolana)===null||j===void 0?void 0:j.resources)===null||N===void 0)&&N.length?["Resources",...ye.signInWithSolana.resources.map(Ee=>`- ${Ee}`)]:[]].join(`
`);const ce=await be.signMessage(new TextEncoder().encode(ie),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");ae=ce}}try{const{data:te,error:De}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:ie,signature:Mm(ae)},!((q=r.options)===null||q===void 0)&&q.captchaToken?{gotrue_meta_security:{captcha_token:(Z=r.options)===null||Z===void 0?void 0:Z.captchaToken}}:null),xform:Dr});if(De)throw De;return!te||!te.session||!te.user?{data:{user:null,session:null},error:new vl}:(te.session&&(await this._saveSession(te.session),await this._notifyAllSubscribers("SIGNED_IN",te.session)),{data:Object.assign({},te),error:De})}catch(te){if($e(te))return{data:{user:null,session:null},error:te};throw te}}async _exchangeCodeForSession(r){const o=await Xi(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(o??"").split("/");try{const{data:p,error:v}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Dr});if(await mi(this.storage,`${this.storageKey}-code-verifier`),v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null,redirectType:null},error:new vl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign(Object.assign({},p),{redirectType:c??null}),error:v})}catch(p){if($e(p))return{data:{user:null,session:null,redirectType:null},error:p};throw p}}async signInWithIdToken(r){try{const{options:o,provider:l,token:c,access_token:p,nonce:v}=r,_=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:p,nonce:v,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Dr}),{data:k,error:E}=_;return E?{data:{user:null,session:null},error:E}:!k||!k.session||!k.user?{data:{user:null,session:null},error:new vl}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:k,error:E})}catch(o){if($e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(r){var o,l,c,p,v;try{if("email"in r){const{email:_,options:k}=r;let E=null,j=null;this.flowType==="pkce"&&([E,j]=await Qs(this.storage,this.storageKey));const{error:N}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:_,data:(o=k?.data)!==null&&o!==void 0?o:{},create_user:(l=k?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:E,code_challenge_method:j},redirectTo:k?.emailRedirectTo});return{data:{user:null,session:null},error:N}}if("phone"in r){const{phone:_,options:k}=r,{data:E,error:j}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:_,data:(c=k?.data)!==null&&c!==void 0?c:{},create_user:(p=k?.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:k?.captchaToken},channel:(v=k?.channel)!==null&&v!==void 0?v:"sms"}});return{data:{user:null,session:null,messageId:E?.message_id},error:j}}throw new yl("You must provide either an email or phone number.")}catch(_){if($e(_))return{data:{user:null,session:null},error:_};throw _}}async verifyOtp(r){var o,l;try{let c,p;"options"in r&&(c=(o=r.options)===null||o===void 0?void 0:o.redirectTo,p=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:v,error:_}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:p}}),redirectTo:c,xform:Dr});if(_)throw _;if(!v)throw new Error("An error occurred on token verification.");const k=v.session,E=v.user;return k?.access_token&&(await this._saveSession(k),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",k)),{data:{user:E,session:k},error:null}}catch(c){if($e(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(r){var o,l,c;try{let p=null,v=null;return this.flowType==="pkce"&&([p,v]=await Qs(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(o=r.options)===null||o===void 0?void 0:o.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=r?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:v}),headers:this.headers,xform:iv})}catch(p){if($e(p))return{data:null,error:p};throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)throw l;if(!o)throw new vi;const{error:c}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:c}})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const o=`${this.url}/resend`;if("email"in r){const{email:l,type:c,options:p}=r,{error:v}=await We(this.fetch,"POST",o,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:p?.captchaToken}},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:v}}else if("phone"in r){const{phone:l,type:c,options:p}=r,{data:v,error:_}=await We(this.fetch,"POST",o,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:p?.captchaToken}}});return{data:{user:null,session:null,messageId:v?.message_id},error:_}}throw new yl("You must provide either an email or phone number and a type")}catch(o){if($e(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(r,o){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await o()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=o();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await r(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const o=await Xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?r=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<Xu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const v=await Xi(this.userStorage,this.storageKey+"-user");v?.user?r.user=v.user:r.user=tc()}if(this.storage.isServer&&r.user){let v=this.suppressGetSessionWarning;r=new Proxy(r,{get:(k,E,j)=>(!v&&E==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),v=!0,this.suppressGetSessionWarning=!0),Reflect.get(k,E,j))})}return{data:{session:r},error:null}}const{session:c,error:p}=await this._callRefreshToken(r.refresh_token);return p?{data:{session:null},error:p}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:yi}):await this._useSession(async o=>{var l,c,p;const{data:v,error:_}=o;if(_)throw _;return!(!((l=v.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vi}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(c=v.session)===null||c===void 0?void 0:c.access_token)!==null&&p!==void 0?p:void 0,xform:yi})})}catch(o){if($e(o))return Om(o)&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(r,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,o))}async _updateUser(r,o={}){try{return await this._useSession(async l=>{const{data:c,error:p}=l;if(p)throw p;if(!c.session)throw new vi;const v=c.session;let _=null,k=null;this.flowType==="pkce"&&r.email!=null&&([_,k]=await Qs(this.storage,this.storageKey));const{data:E,error:j}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:_,code_challenge_method:k}),jwt:v.access_token,xform:yi});if(j)throw j;return v.user=E.user,await this._saveSession(v),await this._notifyAllSubscribers("USER_UPDATED",v),{data:{user:v.user},error:null}})}catch(l){if($e(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new vi;const o=Date.now()/1e3;let l=o,c=!0,p=null;const{payload:v}=ec(r.access_token);if(v.exp&&(l=v.exp,c=l<=o),c){const{session:_,error:k}=await this._callRefreshToken(r.refresh_token);if(k)return{data:{user:null,session:null},error:k};if(!_)return{data:{user:null,session:null},error:null};p=_}else{const{data:_,error:k}=await this._getUser(r.access_token);if(k)throw k;p={access_token:r.access_token,refresh_token:r.refresh_token,user:_.user,token_type:"bearer",expires_in:l-o,expires_at:l},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return{data:{user:p.user,session:p},error:null}}catch(o){if($e(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async o=>{var l;if(!r){const{data:v,error:_}=o;if(_)throw _;r=(l=v.session)!==null&&l!==void 0?l:void 0}if(!r?.refresh_token)throw new vi;const{session:c,error:p}=await this._callRefreshToken(r.refresh_token);return p?{data:{user:null,session:null},error:p}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if($e(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(r,o){try{if(!Un())throw new gl("No browser detected.");if(r.error||r.error_description||r.error_code)throw new gl(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Af("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gl("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Af("No code detected.");const{data:Me,error:ye}=await this._exchangeCodeForSession(r.code);if(ye)throw ye;const be=new URL(window.location.href);return be.searchParams.delete("code"),window.history.replaceState(window.history.state,"",be.toString()),{data:{session:Me.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:p,refresh_token:v,expires_in:_,expires_at:k,token_type:E}=r;if(!p||!_||!v||!E)throw new gl("No session defined in URL");const j=Math.round(Date.now()/1e3),N=parseInt(_);let q=j+N;k&&(q=parseInt(k));const Z=q-j;Z*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Z}s, should have been closer to ${N}s`);const ie=q-N;j-ie>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",ie,q,j):j-ie<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",ie,q,j);const{data:ae,error:te}=await this._getUser(p);if(te)throw te;const De={provider_token:l,provider_refresh_token:c,access_token:p,expires_in:N,expires_at:q,refresh_token:v,token_type:E,user:ae.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:De,redirectType:r.type},error:null}}catch(l){if($e(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const o=await Xi(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&o)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async o=>{var l;const{data:c,error:p}=o;if(p)return{error:p};const v=(l=c.session)===null||l===void 0?void 0:l.access_token;if(v){const{error:_}=await this.admin.signOut(v,r);if(_&&!(Tm(_)&&(_.status===404||_.status===401||_.status===403)))return{error:_}}return r!=="others"&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const o=Bm(),l={id:o,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async o=>{var l,c;try{const{data:{session:p},error:v}=o;if(v)throw v;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",r,"session",p)}catch(p){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",p),console.error(p)}})}async resetPasswordForEmail(r,o={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Qs(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(p){if($e(p))return{data:null,error:p};throw p}}async getUserIdentities(){var r;try{const{data:o,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=o.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}}async linkIdentity(r){var o;try{const{data:l,error:c}=await this._useSession(async p=>{var v,_,k,E,j;const{data:N,error:q}=p;if(q)throw q;const Z=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(v=r.options)===null||v===void 0?void 0:v.redirectTo,scopes:(_=r.options)===null||_===void 0?void 0:_.scopes,queryParams:(k=r.options)===null||k===void 0?void 0:k.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",Z,{headers:this.headers,jwt:(j=(E=N.session)===null||E===void 0?void 0:E.access_token)!==null&&j!==void 0?j:void 0})});if(c)throw c;return Un()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:r.provider,url:l?.url},error:null}}catch(l){if($e(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async o=>{var l,c;const{data:p,error:v}=o;if(v)throw v;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(o){if($e(o))return{data:null,error:o};throw o}}async _refreshAccessToken(r){const o=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{const l=Date.now();return await qm(async c=>(c>0&&await Km(200*Math.pow(2,c-1)),this._debug(o,"refreshing attempt",c),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Dr})),(c,p)=>{const v=200*Math.pow(2,c);return p&&Zu(p)&&Date.now()+v-l<Xs})}catch(l){if(this._debug(o,"error",l),$e(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(o,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,o){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",o,"url",l),Un()&&!o.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,o;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Xi(this.storage,this.storageKey);if(c&&this.userStorage){let v=await Xi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!v&&(v={user:c.user},await Zs(this.userStorage,this.storageKey+"-user",v)),c.user=(r=v?.user)!==null&&r!==void 0?r:tc()}else if(c&&!c.user&&!c.user){const v=await Xi(this.storage,this.storageKey+"-user");v&&v?.user?(c.user=v.user,await mi(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,c)):c.user=tc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const p=((o=c.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Xu;if(this._debug(l,`session has${p?"":" not"} expired with margin of ${Xu}s`),p){if(this.autoRefreshToken&&c.refresh_token){const{error:v}=await this._callRefreshToken(c.refresh_token);v&&(console.error(v),Zu(v)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",v),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:v,error:_}=await this._getUser(c.access_token);!_&&v?.user?(c.user=v.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(v){console.error("Error getting user data:",v),this._debug(l,"error getting user data, skipping SIGNED_IN notification",v)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var o,l;if(!r)throw new vi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Cl;const{data:p,error:v}=await this._refreshAccessToken(r);if(v)throw v;if(!p.session)throw new vi;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const _={session:p.session,error:null};return this.refreshingDeferred.resolve(_),_}catch(p){if(this._debug(c,"error",p),$e(p)){const v={session:null,error:p};return Zu(p)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(v),v}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(p),p}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,o,l=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",o,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:o});const p=[],v=Array.from(this.stateChangeEmitters.values()).map(async _=>{try{await _.callback(r,o)}catch(k){p.push(k)}});if(await Promise.all(v),p.length>0){for(let _=0;_<p.length;_+=1)console.error(p[_]);throw p[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const o=Object.assign({},r),l=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&o.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:o.user});const c=Object.assign({},o);delete c.user;const p=Mf(c);await Zs(this.storage,this.storageKey,p)}else{const c=Mf(o);await Zs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await mi(this.storage,this.storageKey),await mi(this.storage,this.storageKey+"-code-verifier"),await mi(this.storage,this.storageKey+"-user"),this.userStorage&&await mi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Un()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async o=>{const{data:{session:l}}=o;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-r)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Xs}ms, refresh threshold is ${dc} ticks`),c<=dc&&await this._callRefreshToken(l.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof fh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const o=`#_onVisibilityChanged(${r})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,o,l){const c=[`provider=${encodeURIComponent(o)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[p,v]=await Qs(this.storage,this.storageKey),_=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(v)}`});c.push(_.toString())}if(l?.queryParams){const p=new URLSearchParams(l.queryParams);c.push(p.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async o=>{var l;const{data:c,error:p}=o;return p?{data:null,error:p}:await We(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if($e(o))return{data:null,error:o};throw o}}async _enroll(r){try{return await this._useSession(async o=>{var l,c;const{data:p,error:v}=o;if(v)return{data:null,error:v};const _=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:k,error:E}=await We(this.fetch,"POST",`${this.url}/factors`,{body:_,headers:this.headers,jwt:(l=p?.session)===null||l===void 0?void 0:l.access_token});return E?{data:null,error:E}:(r.factorType==="totp"&&(!((c=k?.totp)===null||c===void 0)&&c.qr_code)&&(k.totp.qr_code=`data:image/svg+xml;utf-8,${k.totp.qr_code}`),{data:k,error:null})})}catch(o){if($e(o))return{data:null,error:o};throw o}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:c,error:p}=o;if(p)return{data:null,error:p};const{data:v,error:_}=await We(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return _?{data:null,error:_}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),{data:v,error:_})})}catch(o){if($e(o))return{data:null,error:o};throw o}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var l;const{data:c,error:p}=o;return p?{data:null,error:p}:await We(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(o){if($e(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(r){const{data:o,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:o.id,code:r.code})}async _listFactors(){const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const l=r?.factors||[],c=l.filter(v=>v.factor_type==="totp"&&v.status==="verified"),p=l.filter(v=>v.factor_type==="phone"&&v.status==="verified");return{data:{all:l,totp:c,phone:p},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var o,l;const{data:{session:c},error:p}=r;if(p)return{data:null,error:p};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:v}=ec(c.access_token);let _=null;v.aal&&(_=v.aal);let k=_;((l=(o=c.user.factors)===null||o===void 0?void 0:o.filter(N=>N.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(k="aal2");const j=v.amr||[];return{data:{currentLevel:_,nextLevel:k,currentAuthenticationMethods:j},error:null}}))}async fetchJwk(r,o={keys:[]}){let l=o.keys.find(_=>_.kid===r);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(_=>_.kid===r),l&&this.jwks_cached_at+jm>c)return l;const{data:p,error:v}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(v)throw v;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=c,l=p.keys.find(_=>_.kid===r),!l)?null:l}async getClaims(r,o={}){try{let l=r;if(!l){const{data:Z,error:ie}=await this.getSession();if(ie||!Z.session)return{data:null,error:ie};l=Z.session.access_token}const{header:c,payload:p,signature:v,raw:{header:_,payload:k}}=ec(l);o?.allowExpired||Ym(p.exp);const E=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!E){const{error:Z}=await this.getUser(l);if(Z)throw Z;return{data:{claims:p,header:c,signature:v},error:null}}const j=Xm(c.alg),N=await crypto.subtle.importKey("jwk",E,j,!0,["verify"]);if(!await crypto.subtle.verify(j,N,v,$m(`${_}.${k}`)))throw new pc("Invalid JWT signature");return{data:{claims:p,header:c,signature:v},error:null}}catch(l){if($e(l))return{data:null,error:l};throw l}}}Jo.nextInstanceID=0;const pv=Jo;class mv extends pv{constructor(r){super(r)}}var vv=function(f,r,o,l){function c(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function _(j){try{E(l.next(j))}catch(N){v(N)}}function k(j){try{E(l.throw(j))}catch(N){v(N)}}function E(j){j.done?p(j.value):c(j.value).then(_,k)}E((l=l.apply(f,r||[])).next())})};class yv{constructor(r,o,l){var c,p,v;if(this.supabaseUrl=r,this.supabaseKey=o,!r)throw new Error("supabaseUrl is required.");if(!o)throw new Error("supabaseKey is required.");const _=km(r),k=new URL(_);this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const E=`sb-${k.hostname.split(".")[0]}-auth-token`,j={db:hm,realtime:mm,auth:Object.assign(Object.assign({},pm),{storageKey:E}),global:fm},N=bm(l??{},j);this.storageKey=(c=N.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(p=N.global.headers)!==null&&p!==void 0?p:{},N.accessToken?(this.accessToken=N.accessToken,this.auth=new Proxy({},{get:(q,Z)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Z)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((v=N.auth)!==null&&v!==void 0?v:{},this.headers,N.global.fetch),this.fetch=wm(o,this._getAccessToken.bind(this),N.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},N.realtime)),this.rest=new Ap(new URL("rest/v1",k).href,{headers:this.headers,schema:N.db.schema,fetch:this.fetch}),this.storage=new um(this.storageUrl.href,this.headers,this.fetch,l?.storage),N.accessToken||this._listenForAuthEvents()}get functions(){return new xp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,o={},l={}){return this.rest.rpc(r,o,l)}channel(r,o={config:{}}){return this.realtime.channel(r,o)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,o;return vv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:c,storageKey:p,flowType:v,lock:_,debug:k},E,j){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mv({url:this.authUrl.href,headers:Object.assign(Object.assign({},N),E),storageKey:p,autoRefreshToken:r,persistSession:o,detectSessionInUrl:l,storage:c,flowType:v,lock:_,debug:k,fetch:j,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new Jp(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(r,o,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gv=(f,r,o)=>new yv(f,r,o);function wv(){if(typeof window<"u"||typeof process>"u")return!1;const f=process.version;if(f==null)return!1;const r=f.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}wv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _v="https://xireyolnnolopvtlpuzu.supabase.co",kv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpcmV5b2xubm9sb3B2dGxwdXp1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxMzczMjYsImV4cCI6MjA3MTcxMzMyNn0.lrdzuSDaoIXcTCnsb3U9l5mHpyEHkPenV8XbhYQme6s",Mr=gv(_v,kv);var wl={exports:{}},bv=wl.exports,Kf;function xv(){return Kf||(Kf=1,(function(f,r){(function(o,l){f.exports=l()})(bv,function(){var o=function(i,a){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y])})(i,a)},l=function(){return(l=Object.assign||function(i){for(var a,d=1,m=arguments.length;d<m;d++)for(var y in a=arguments[d])Object.prototype.hasOwnProperty.call(a,y)&&(i[y]=a[y]);return i}).apply(this,arguments)};function c(i,a,d){for(var m,y=0,w=a.length;y<w;y++)!m&&y in a||((m=m||Array.prototype.slice.call(a,0,y))[y]=a[y]);return i.concat(m||Array.prototype.slice.call(a))}var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:sp,v=Object.keys,_=Array.isArray;function k(i,a){return typeof a!="object"||v(a).forEach(function(d){i[d]=a[d]}),i}typeof Promise>"u"||p.Promise||(p.Promise=Promise);var E=Object.getPrototypeOf,j={}.hasOwnProperty;function N(i,a){return j.call(i,a)}function q(i,a){typeof a=="function"&&(a=a(E(i))),(typeof Reflect>"u"?v:Reflect.ownKeys)(a).forEach(function(d){ie(i,d,a[d])})}var Z=Object.defineProperty;function ie(i,a,d,m){Z(i,a,k(d&&N(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},m))}function ae(i){return{from:function(a){return i.prototype=Object.create(a.prototype),ie(i.prototype,"constructor",i),{extend:q.bind(null,i.prototype)}}}}var te=Object.getOwnPropertyDescriptor,De=[].slice;function Me(i,a,d){return De.call(i,a,d)}function ye(i,a){return a(i)}function be(i){if(!i)throw new Error("Assertion Failed")}function ze(i){p.setImmediate?setImmediate(i):setTimeout(i,0)}function ce(i,a){if(typeof a=="string"&&N(i,a))return i[a];if(!a)return i;if(typeof a!="string"){for(var d=[],m=0,y=a.length;m<y;++m){var w=ce(i,a[m]);d.push(w)}return d}var b=a.indexOf(".");if(b!==-1){var S=i[a.substr(0,b)];return S==null?void 0:ce(S,a.substr(b+1))}}function Ee(i,a,d){if(i&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof a!="string"&&"length"in a){be(typeof d!="string"&&"length"in d);for(var m=0,y=a.length;m<y;++m)Ee(i,a[m],d[m])}else{var w,b,S=a.indexOf(".");S!==-1?(w=a.substr(0,S),(b=a.substr(S+1))===""?d===void 0?_(i)&&!isNaN(parseInt(w))?i.splice(w,1):delete i[w]:i[w]=d:Ee(S=!(S=i[w])||!N(i,w)?i[w]={}:S,b,d)):d===void 0?_(i)&&!isNaN(parseInt(a))?i.splice(a,1):delete i[a]:i[a]=d}}function wt(i){var a,d={};for(a in i)N(i,a)&&(d[a]=i[a]);return d}var bt=[].concat;function ut(i){return bt.apply([],i)}var Kn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ut([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(a){return a+i+"Array"})}))).filter(function(i){return p[i]}),nn=new Set(Kn.map(function(i){return p[i]})),xe=null;function Te(i){return xe=new WeakMap,i=(function a(d){if(!d||typeof d!="object")return d;var m=xe.get(d);if(m)return m;if(_(d)){m=[],xe.set(d,m);for(var y=0,w=d.length;y<w;++y)m.push(a(d[y]))}else if(nn.has(d.constructor))m=d;else{var b,S=E(d);for(b in m=S===Object.prototype?{}:Object.create(S),xe.set(d,m),d)N(d,b)&&(m[b]=a(d[b]))}return m})(i),xe=null,i}var et={}.toString;function xt(i){return et.call(i).slice(8,-1)}var At=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ct=typeof At=="symbol"?function(i){var a;return i!=null&&(a=i[At])&&a.apply(i)}:function(){return null};function de(i,a){return a=i.indexOf(a),0<=a&&i.splice(a,1),0<=a}var Ce={};function pe(i){var a,d,m,y;if(arguments.length===1){if(_(i))return i.slice();if(this===Ce&&typeof i=="string")return[i];if(y=ct(i)){for(d=[];!(m=y.next()).done;)d.push(m.value);return d}if(i==null)return[i];if(typeof(a=i.length)!="number")return[i];for(d=new Array(a);a--;)d[a]=i[a];return d}for(a=arguments.length,d=new Array(a);a--;)d[a]=arguments[a];return d}var U=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Br=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Br),G={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Le(i,a){this.name=i,this.message=a}function Ue(i,a){return i+". Errors: "+Object.keys(a).map(function(d){return a[d].toString()}).filter(function(d,m,y){return y.indexOf(d)===m}).join(`
`)}function Ke(i,a,d,m){this.failures=a,this.failedKeys=m,this.successCount=d,this.message=Ue(i,a)}function Be(i,a){this.name="BulkError",this.failures=Object.keys(a).map(function(d){return a[d]}),this.failuresByPos=a,this.message=Ue(i,this.failures)}ae(Le).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ae(Ke).from(Le),ae(Be).from(Le);var tt=on.reduce(function(i,a){return i[a]=a+"Error",i},{}),Ye=Le,fe=on.reduce(function(i,a){var d=a+"Error";function m(y,w){this.name=d,y?typeof y=="string"?(this.message="".concat(y).concat(w?`
 `+w:""),this.inner=w||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=G[a]||d,this.inner=null)}return ae(m).from(Ye),i[a]=m,i},{});fe.Syntax=SyntaxError,fe.Type=TypeError,fe.Range=RangeError;var Kt=Br.reduce(function(i,a){return i[a+"Error"]=fe[a],i},{}),ur=on.reduce(function(i,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(i[a+"Error"]=fe[a]),i},{});function Xe(){}function Fn(i){return i}function no(i,a){return i==null||i===Fn?a:function(d){return a(i(d))}}function zn(i,a){return function(){i.apply(this,arguments),a.apply(this,arguments)}}function Zo(i,a){return i===Xe?a:function(){var d=i.apply(this,arguments);d!==void 0&&(arguments[0]=d);var m=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var w=a.apply(this,arguments);return m&&(this.onsuccess=this.onsuccess?zn(m,this.onsuccess):m),y&&(this.onerror=this.onerror?zn(y,this.onerror):y),w!==void 0?w:d}}function ro(i,a){return i===Xe?a:function(){i.apply(this,arguments);var d=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?zn(d,this.onsuccess):d),m&&(this.onerror=this.onerror?zn(m,this.onerror):m)}}function ea(i,a){return i===Xe?a:function(d){var m=i.apply(this,arguments);k(d,m);var y=this.onsuccess,w=this.onerror;return this.onsuccess=null,this.onerror=null,d=a.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?zn(y,this.onsuccess):y),w&&(this.onerror=this.onerror?zn(w,this.onerror):w),m===void 0?d===void 0?void 0:d:k(m,d)}}function io(i,a){return i===Xe?a:function(){return a.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function cr(i,a){return i===Xe?a:function(){var d=i.apply(this,arguments);if(d&&typeof d.then=="function"){for(var m=this,y=arguments.length,w=new Array(y);y--;)w[y]=arguments[y];return d.then(function(){return a.apply(m,w)})}return a.apply(this,arguments)}}ur.ModifyError=Ke,ur.DexieError=Le,ur.BulkError=Be;var Ut=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function rs(i){Ut=i}var Ur={},so=100,Kn=typeof Promise>"u"?[]:(function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,E(i),i];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,E(a),i]})(),Br=Kn[0],on=Kn[1],Kn=Kn[2],on=on&&on.then,En=Br&&Br.constructor,Fr=!!Kn,zr=function(i,a){hr.push([i,a]),qn&&(queueMicrotask(na),qn=!1)},dr=!0,qn=!0,fr=[],ki=[],is=Fn,Wn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Xe,pgp:!1,env:{},finalize:Xe},_e=Wn,hr=[],Cn=0,Kr=[];function he(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=_e;if(typeof i!="function"){if(i!==Ur)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ss(this,this._value))}this._state=null,this._value=null,++a.ref,(function d(m,y){try{y(function(w){if(m._state===null){if(w===m)throw new TypeError("A promise cannot be resolved with itself.");var b=m._lib&&Hn();w&&typeof w.then=="function"?d(m,function(S,T){w instanceof he?w._then(S,T):w.then(S,T)}):(m._state=!0,m._value=w,oo(m)),b&&mr()}},ss.bind(null,m))}catch(w){ss(m,w)}})(this,i)}var Vn={get:function(){var i=_e,a=Wr;function d(m,y){var w=this,b=!i.global&&(i!==_e||a!==Wr),S=b&&!qt(),T=new he(function(R,I){os(w,new pr(lo(m,i,b,S),lo(y,i,b,S),R,I,i))});return this._consoleTask&&(T._consoleTask=this._consoleTask),T}return d.prototype=Ur,d},set:function(i){ie(this,"then",i&&i.prototype===Ur?Vn:{get:function(){return i},set:Vn.set})}};function pr(i,a,d,m,y){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof a=="function"?a:null,this.resolve=d,this.reject=m,this.psd=y}function ss(i,a){var d,m;ki.push(a),i._state===null&&(d=i._lib&&Hn(),a=is(a),i._state=!1,i._value=a,m=i,fr.some(function(y){return y._value===m._value})||fr.push(m),oo(i),d&&mr())}function oo(i){var a=i._listeners;i._listeners=[];for(var d=0,m=a.length;d<m;++d)os(i,a[d]);var y=i._PSD;--y.ref||y.finalize(),Cn===0&&(++Cn,zr(function(){--Cn==0&&vr()},[]))}function os(i,a){if(i._state!==null){var d=i._state?a.onFulfilled:a.onRejected;if(d===null)return(i._state?a.resolve:a.reject)(i._value);++a.psd.ref,++Cn,zr(ta,[d,i,a])}else i._listeners.push(a)}function ta(i,a,d){try{var m,y=a._value;!a._state&&ki.length&&(ki=[]),m=Ut&&a._consoleTask?a._consoleTask.run(function(){return i(y)}):i(y),a._state||ki.indexOf(y)!==-1||(function(w){for(var b=fr.length;b;)if(fr[--b]._value===w._value)return fr.splice(b,1)})(a),d.resolve(m)}catch(w){d.reject(w)}finally{--Cn==0&&vr(),--d.psd.ref||d.psd.finalize()}}function na(){Jn(Wn,function(){Hn()&&mr()})}function Hn(){var i=dr;return qn=dr=!1,i}function mr(){var i,a,d;do for(;0<hr.length;)for(i=hr,hr=[],d=i.length,a=0;a<d;++a){var m=i[a];m[0].apply(null,m[1])}while(0<hr.length);qn=dr=!0}function vr(){var i=fr;fr=[],i.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)});for(var a=Kr.slice(0),d=a.length;d;)a[--d]()}function qr(i){return new he(Ur,!1,i)}function nt(i,a){var d=_e;return function(){var m=Hn(),y=_e;try{return Gn(d,!0),i.apply(this,arguments)}catch(w){a&&a(w)}finally{Gn(y,!1),m&&mr()}}}q(he.prototype,{then:Vn,_then:function(i,a){os(this,new pr(null,null,i,a,_e))},catch:function(i){if(arguments.length===1)return this.then(null,i);var a=i,d=arguments[1];return typeof a=="function"?this.then(null,function(m){return(m instanceof a?d:qr)(m)}):this.then(null,function(m){return(m&&m.name===a?d:qr)(m)})},finally:function(i){return this.then(function(a){return he.resolve(i()).then(function(){return a})},function(a){return he.resolve(i()).then(function(){return qr(a)})})},timeout:function(i,a){var d=this;return i<1/0?new he(function(m,y){var w=setTimeout(function(){return y(new fe.Timeout(a))},i);d.then(m,y).finally(clearTimeout.bind(null,w))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ie(he.prototype,Symbol.toStringTag,"Dexie.Promise"),Wn.env=ao(),q(he,{all:function(){var i=pe.apply(null,arguments).map(xi);return new he(function(a,d){i.length===0&&a([]);var m=i.length;i.forEach(function(y,w){return he.resolve(y).then(function(b){i[w]=b,--m||a(i)},d)})})},resolve:function(i){return i instanceof he?i:i&&typeof i.then=="function"?new he(function(a,d){i.then(a,d)}):new he(Ur,!0,i)},reject:qr,race:function(){var i=pe.apply(null,arguments).map(xi);return new he(function(a,d){i.map(function(m){return he.resolve(m).then(a,d)})})},PSD:{get:function(){return _e},set:function(i){return _e=i}},totalEchoes:{get:function(){return Wr}},newPSD:Qn,usePSD:Jn,scheduler:{get:function(){return zr},set:function(i){zr=i}},rejectionMapper:{get:function(){return is},set:function(i){is=i}},follow:function(i,a){return new he(function(d,m){return Qn(function(y,w){var b=_e;b.unhandleds=[],b.onunhandled=w,b.finalize=zn(function(){var S,T=this;S=function(){T.unhandleds.length===0?y():w(T.unhandleds[0])},Kr.push(function R(){S(),Kr.splice(Kr.indexOf(R),1)}),++Cn,zr(function(){--Cn==0&&vr()},[])},b.finalize),i()},a,d,m)})}}),En&&(En.allSettled&&ie(he,"allSettled",function(){var i=pe.apply(null,arguments).map(xi);return new he(function(a){i.length===0&&a([]);var d=i.length,m=new Array(d);i.forEach(function(y,w){return he.resolve(y).then(function(b){return m[w]={status:"fulfilled",value:b}},function(b){return m[w]={status:"rejected",reason:b}}).then(function(){return--d||a(m)})})})}),En.any&&typeof AggregateError<"u"&&ie(he,"any",function(){var i=pe.apply(null,arguments).map(xi);return new he(function(a,d){i.length===0&&d(new AggregateError([]));var m=i.length,y=new Array(m);i.forEach(function(w,b){return he.resolve(w).then(function(S){return a(S)},function(S){y[b]=S,--m||d(new AggregateError(y))})})})}),En.withResolvers&&(he.withResolvers=En.withResolvers));var _t={awaits:0,echoes:0,id:0},bi=0,yr=[],gr=0,Wr=0,jl=0;function Qn(i,a,d,m){var y=_e,w=Object.create(y);return w.parent=y,w.ref=0,w.global=!1,w.id=++jl,Wn.env,w.env=Fr?{Promise:he,PromiseProp:{value:he,configurable:!0,writable:!0},all:he.all,race:he.race,allSettled:he.allSettled,any:he.any,resolve:he.resolve,reject:he.reject}:{},a&&k(w,a),++y.ref,w.finalize=function(){--this.parent.ref||this.parent.finalize()},m=Jn(w,i,d,m),w.ref===0&&w.finalize(),m}function Vr(){return _t.id||(_t.id=++bi),++_t.awaits,_t.echoes+=so,_t.id}function qt(){return!!_t.awaits&&(--_t.awaits==0&&(_t.id=0),_t.echoes=_t.awaits*so,!0)}function xi(i){return _t.echoes&&i&&i.constructor===En?(Vr(),i.then(function(a){return qt(),a},function(a){return qt(),ht(a)})):i}function ra(){var i=yr[yr.length-1];yr.pop(),Gn(i,!1)}function Gn(i,a){var d,m=_e;(a?!_t.echoes||gr++&&i===_e:!gr||--gr&&i===_e)||queueMicrotask(a?(function(y){++Wr,_t.echoes&&--_t.echoes!=0||(_t.echoes=_t.awaits=_t.id=0),yr.push(_e),Gn(y,!0)}).bind(null,i):ra),i!==_e&&(_e=i,m===Wn&&(Wn.env=ao()),Fr&&(d=Wn.env.Promise,a=i.env,(m.global||i.global)&&(Object.defineProperty(p,"Promise",a.PromiseProp),d.all=a.all,d.race=a.race,d.resolve=a.resolve,d.reject=a.reject,a.allSettled&&(d.allSettled=a.allSettled),a.any&&(d.any=a.any))))}function ao(){var i=p.Promise;return Fr?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(p,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Jn(i,a,d,m,y){var w=_e;try{return Gn(i,!0),a(d,m,y)}finally{Gn(w,!1)}}function lo(i,a,d,m){return typeof i!="function"?i:function(){var y=_e;d&&Vr(),Gn(a,!0);try{return i.apply(this,arguments)}finally{Gn(y,!1),m&&queueMicrotask(qt)}}}function as(i){Promise===En&&_t.echoes===0?gr===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+on).indexOf("[native code]")===-1&&(Vr=qt=Xe);var ht=he.reject,wr="￿",Ze="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ia="String expected.",Yn=[],Si="__dbnames",Hr="readonly",uo="readwrite";function Xn(i,a){return i?a?function(){return i.apply(this,arguments)&&a.apply(this,arguments)}:i:a}var Ei={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xt(i){return typeof i!="string"||/\./.test(i)?function(a){return a}:function(a){return a[i]===void 0&&i in a&&delete(a=Te(a))[i],a}}function sa(){throw fe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ne(i,a){try{var d=oa(i),m=oa(a);if(d!==m)return d==="Array"?1:m==="Array"?-1:d==="binary"?1:m==="binary"?-1:d==="string"?1:m==="string"?-1:d==="Date"?1:m!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return a<i?1:i<a?-1:0;case"binary":return(function(y,w){for(var b=y.length,S=w.length,T=b<S?b:S,R=0;R<T;++R)if(y[R]!==w[R])return y[R]<w[R]?-1:1;return b===S?0:b<S?-1:1})(aa(i),aa(a));case"Array":return(function(y,w){for(var b=y.length,S=w.length,T=b<S?b:S,R=0;R<T;++R){var I=Ne(y[R],w[R]);if(I!==0)return I}return b===S?0:b<S?-1:1})(i,a)}}catch{}return NaN}function oa(i){var a=typeof i;return a!="object"?a:ArrayBuffer.isView(i)?"binary":(i=xt(i),i==="ArrayBuffer"?"binary":i)}function aa(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function ls(i,a,d){var m=i.schema.yProps;return m?(a&&0<d.numFailures&&(a=a.filter(function(y,w){return!d.failures[w]})),Promise.all(m.map(function(y){return y=y.updatesTable,a?i.db.table(y).where("k").anyOf(a).delete():i.db.table(y).clear()})).then(function(){return d})):d}var Ci=(rt.prototype._trans=function(i,a,d){var m=this._tx||_e.trans,y=this.name,w=Ut&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function b(R,I,C){if(!C.schema[y])throw new fe.NotFound("Table "+y+" not part of transaction");return a(C.idbtrans,C)}var S=Hn();try{var T=m&&m.db._novip===this.db._novip?m===_e.trans?m._promise(i,b,d):Qn(function(){return m._promise(i,b,d)},{trans:m,transless:_e.transless||_e}):(function R(I,C,M,O){if(I.idbdb&&(I._state.openComplete||_e.letThrough||I._vip)){var L=I._createTransaction(C,M,I._dbSchema);try{L.create(),I._state.PR1398_maxLoop=3}catch($){return $.name===tt.InvalidState&&I.isOpen()&&0<--I._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),I.close({disableAutoOpen:!1}),I.open().then(function(){return R(I,C,M,O)})):ht($)}return L._promise(C,function($,D){return Qn(function(){return _e.trans=L,O($,D,L)})}).then(function($){if(C==="readwrite")try{L.idbtrans.commit()}catch{}return C==="readonly"?$:L._completion.then(function(){return $})})}if(I._state.openComplete)return ht(new fe.DatabaseClosed(I._state.dbOpenError));if(!I._state.isBeingOpened){if(!I._state.autoOpen)return ht(new fe.DatabaseClosed);I.open().catch(Xe)}return I._state.dbReadyPromise.then(function(){return R(I,C,M,O)})})(this.db,i,[this.name],b);return w&&(T._consoleTask=w,T=T.catch(function(R){return console.trace(R),ht(R)})),T}finally{S&&mr()}},rt.prototype.get=function(i,a){var d=this;return i&&i.constructor===Object?this.where(i).first(a):i==null?ht(new fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return d.core.get({trans:m,key:i}).then(function(y){return d.hook.reading.fire(y)})}).then(a)},rt.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(_(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var a=v(i);if(a.length===1)return this.where(a[0]).equals(i[a[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&a.every(function(R){return 0<=S.keyPath.indexOf(R)})){for(var T=0;T<a.length;++T)if(a.indexOf(S.keyPath[T])===-1)return!1;return!0}return!1}).sort(function(S,T){return S.keyPath.length-T.keyPath.length})[0];if(d&&this.db._maxKey!==wr){var w=d.keyPath.slice(0,a.length);return this.where(w).equals(w.map(function(T){return i[T]}))}!d&&Ut&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var m=this.schema.idxByName;function y(S,T){return Ne(S,T)===0}var b=a.reduce(function(C,T){var R=C[0],I=C[1],C=m[T],M=i[T];return[R||C,R||!C?Xn(I,C&&C.multi?function(O){return O=ce(O,T),_(O)&&O.some(function(L){return y(M,L)})}:function(O){return y(M,ce(O,T))}):I]},[null,null]),w=b[0],b=b[1];return w?this.where(w.name).equals(i[w.keyPath]).filter(b):d?this.filter(b):this.where(a).equals("")},rt.prototype.filter=function(i){return this.toCollection().and(i)},rt.prototype.count=function(i){return this.toCollection().count(i)},rt.prototype.offset=function(i){return this.toCollection().offset(i)},rt.prototype.limit=function(i){return this.toCollection().limit(i)},rt.prototype.each=function(i){return this.toCollection().each(i)},rt.prototype.toArray=function(i){return this.toCollection().toArray(i)},rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},rt.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,_(i)?"[".concat(i.join("+"),"]"):i))},rt.prototype.reverse=function(){return this.toCollection().reverse()},rt.prototype.mapToClass=function(i){var a,d=this.db,m=this.name;function y(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof sa&&((function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=T}o(T,R),T.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)})(y,a=i),Object.defineProperty(y.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),y.prototype.table=function(){return m},i=y);for(var w=new Set,b=i.prototype;b;b=E(b))Object.getOwnPropertyNames(b).forEach(function(T){return w.add(T)});function S(T){if(!T)return T;var R,I=Object.create(i.prototype);for(R in T)if(!w.has(R))try{I[R]=T[R]}catch{}return I}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),i},rt.prototype.defineClass=function(){return this.mapToClass(function(i){k(this,i)})},rt.prototype.add=function(i,a){var d=this,m=this.schema.primKey,y=m.auto,w=m.keyPath,b=i;return w&&y&&(b=Xt(w)(i)),this._trans("readwrite",function(S){return d.core.mutate({trans:S,type:"add",keys:a!=null?[a]:null,values:[b]})}).then(function(S){return S.numFailures?he.reject(S.failures[0]):S.lastResult}).then(function(S){if(w)try{Ee(i,w,S)}catch{}return S})},rt.prototype.update=function(i,a){return typeof i!="object"||_(i)?this.where(":id").equals(i).modify(a):(i=ce(i,this.schema.primKey.keyPath),i===void 0?ht(new fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(a))},rt.prototype.put=function(i,a){var d=this,m=this.schema.primKey,y=m.auto,w=m.keyPath,b=i;return w&&y&&(b=Xt(w)(i)),this._trans("readwrite",function(S){return d.core.mutate({trans:S,type:"put",values:[b],keys:a!=null?[a]:null})}).then(function(S){return S.numFailures?he.reject(S.failures[0]):S.lastResult}).then(function(S){if(w)try{Ee(i,w,S)}catch{}return S})},rt.prototype.delete=function(i){var a=this;return this._trans("readwrite",function(d){return a.core.mutate({trans:d,type:"delete",keys:[i]}).then(function(m){return ls(a,[i],m)}).then(function(m){return m.numFailures?he.reject(m.failures[0]):void 0})})},rt.prototype.clear=function(){var i=this;return this._trans("readwrite",function(a){return i.core.mutate({trans:a,type:"deleteRange",range:Ei}).then(function(d){return ls(i,null,d)})}).then(function(a){return a.numFailures?he.reject(a.failures[0]):void 0})},rt.prototype.bulkGet=function(i){var a=this;return this._trans("readonly",function(d){return a.core.getMany({keys:i,trans:d}).then(function(m){return m.map(function(y){return a.hook.reading.fire(y)})})})},rt.prototype.bulkAdd=function(i,a,d){var m=this,y=Array.isArray(a)?a:void 0,w=(d=d||(y?void 0:a))?d.allKeys:void 0;return this._trans("readwrite",function(b){var R=m.schema.primKey,S=R.auto,R=R.keyPath;if(R&&y)throw new fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==i.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var T=i.length,R=R&&S?i.map(Xt(R)):i;return m.core.mutate({trans:b,type:"add",keys:y,values:R,wantResults:w}).then(function(L){var C=L.numFailures,M=L.results,O=L.lastResult,L=L.failures;if(C===0)return w?M:O;throw new Be("".concat(m.name,".bulkAdd(): ").concat(C," of ").concat(T," operations failed"),L)})})},rt.prototype.bulkPut=function(i,a,d){var m=this,y=Array.isArray(a)?a:void 0,w=(d=d||(y?void 0:a))?d.allKeys:void 0;return this._trans("readwrite",function(b){var R=m.schema.primKey,S=R.auto,R=R.keyPath;if(R&&y)throw new fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==i.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var T=i.length,R=R&&S?i.map(Xt(R)):i;return m.core.mutate({trans:b,type:"put",keys:y,values:R,wantResults:w}).then(function(L){var C=L.numFailures,M=L.results,O=L.lastResult,L=L.failures;if(C===0)return w?M:O;throw new Be("".concat(m.name,".bulkPut(): ").concat(C," of ").concat(T," operations failed"),L)})})},rt.prototype.bulkUpdate=function(i){var a=this,d=this.core,m=i.map(function(b){return b.key}),y=i.map(function(b){return b.changes}),w=[];return this._trans("readwrite",function(b){return d.getMany({trans:b,keys:m,cache:"clone"}).then(function(S){var T=[],R=[];i.forEach(function(C,M){var O=C.key,L=C.changes,$=S[M];if($){for(var D=0,B=Object.keys(L);D<B.length;D++){var V=B[D],H=L[V];if(V===a.schema.primKey.keyPath){if(Ne(H,O)!==0)throw new fe.Constraint("Cannot update primary key in bulkUpdate()")}else Ee($,V,H)}w.push(M),T.push(O),R.push($)}});var I=T.length;return d.mutate({trans:b,type:"put",keys:T,values:R,updates:{keys:m,changeSpecs:y}}).then(function(C){var M=C.numFailures,O=C.failures;if(M===0)return I;for(var L=0,$=Object.keys(O);L<$.length;L++){var D,B=$[L],V=w[Number(B)];V!=null&&(D=O[B],delete O[B],O[V]=D)}throw new Be("".concat(a.name,".bulkUpdate(): ").concat(M," of ").concat(I," operations failed"),O)})})})},rt.prototype.bulkDelete=function(i){var a=this,d=i.length;return this._trans("readwrite",function(m){return a.core.mutate({trans:m,type:"delete",keys:i}).then(function(y){return ls(a,i,y)})}).then(function(b){var y=b.numFailures,w=b.lastResult,b=b.failures;if(y===0)return w;throw new Be("".concat(a.name,".bulkDelete(): ").concat(y," of ").concat(d," operations failed"),b)})},rt);function rt(){}function jn(i){function a(b,S){if(S){for(var T=arguments.length,R=new Array(T-1);--T;)R[T-1]=arguments[T];return d[b].subscribe.apply(null,R),i}if(typeof b=="string")return d[b]}var d={};a.addEventType=w;for(var m=1,y=arguments.length;m<y;++m)w(arguments[m]);return a;function w(b,S,T){if(typeof b!="object"){var R;S=S||io;var I={subscribers:[],fire:T=T||Xe,subscribe:function(C){I.subscribers.indexOf(C)===-1&&(I.subscribers.push(C),I.fire=S(I.fire,C))},unsubscribe:function(C){I.subscribers=I.subscribers.filter(function(M){return M!==C}),I.fire=I.subscribers.reduce(S,T)}};return d[b]=a[b]=I}v(R=b).forEach(function(C){var M=R[C];if(_(M))w(C,R[C][0],R[C][1]);else{if(M!=="asap")throw new fe.InvalidArgument("Invalid event config");var O=w(C,Fn,function(){for(var L=arguments.length,$=new Array(L);L--;)$[L]=arguments[L];O.subscribers.forEach(function(D){ze(function(){D.apply(null,$)})})})}})}}function Zn(i,a){return ae(a).from({prototype:i}),a}function Qr(i,a){return!(i.filter||i.algorithm||i.or)&&(a?i.justLimit:!i.replayFilter)}function co(i,a){i.filter=Xn(i.filter,a)}function ji(i,a,d){var m=i.replayFilter;i.replayFilter=m?function(){return Xn(m(),a())}:a,i.justLimit=d&&!m}function Pi(i,a){if(i.isPrimKey)return a.primaryKey;var d=a.getIndexByKeyPath(i.index);if(!d)throw new fe.Schema("KeyPath "+i.index+" on object store "+a.name+" is not indexed");return d}function us(i,a,d){var m=Pi(i,a.schema);return a.openCursor({trans:d,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:m,range:i.range}})}function er(i,a,d,m){var y=i.replayFilter?Xn(i.filter,i.replayFilter()):i.filter;if(i.or){var w={},b=function(S,T,R){var I,C;y&&!y(T,R,function(M){return T.stop(M)},function(M){return T.fail(M)})||((C=""+(I=T.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(I)),N(w,C)||(w[C]=!0,a(S,T,R)))};return Promise.all([i.or._iterate(b,d),la(us(i,m,d),i.algorithm,b,!i.keysOnly&&i.valueMapper)])}return la(us(i,m,d),Xn(i.algorithm,y),a,!i.keysOnly&&i.valueMapper)}function la(i,a,d,m){var y=nt(m?function(w,b,S){return d(m(w),b,S)}:d);return i.then(function(w){if(w)return w.start(function(){var b=function(){return w.continue()};a&&!a(w,function(S){return b=S},function(S){w.stop(S),b=Xe},function(S){w.fail(S),b=Xe})||y(w.value,w,function(S){return b=S}),b()})})}var _r=(Ge.prototype.execute=function(i){var a=this["@@propmod"];if(a.add!==void 0){var d=a.add;if(_(d))return c(c([],_(i)?i:[],!0),d).sort();if(typeof d=="number")return(Number(i)||0)+d;if(typeof d=="bigint")try{return BigInt(i)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(a.remove!==void 0){var m=a.remove;if(_(m))return _(i)?i.filter(function(y){return!m.includes(y)}).sort():[];if(typeof m=="number")return Number(i)-m;if(typeof m=="bigint")try{return BigInt(i)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return d=(d=a.replacePrefix)===null||d===void 0?void 0:d[0],d&&typeof i=="string"&&i.startsWith(d)?a.replacePrefix[1]+i.substring(d.length):i},Ge);function Ge(i){this["@@propmod"]=i}var ua=(He.prototype._read=function(i,a){var d=this._ctx;return d.error?d.table._trans(null,ht.bind(null,d.error)):d.table._trans("readonly",i).then(a)},He.prototype._write=function(i){var a=this._ctx;return a.error?a.table._trans(null,ht.bind(null,a.error)):a.table._trans("readwrite",i,"locked")},He.prototype._addAlgorithm=function(i){var a=this._ctx;a.algorithm=Xn(a.algorithm,i)},He.prototype._iterate=function(i,a){return er(this._ctx,i,a,this._ctx.table.core)},He.prototype.clone=function(i){var a=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return i&&k(d,i),a._ctx=d,a},He.prototype.raw=function(){return this._ctx.valueMapper=null,this},He.prototype.each=function(i){var a=this._ctx;return this._read(function(d){return er(a,i,d,a.table.core)})},He.prototype.count=function(i){var a=this;return this._read(function(d){var m=a._ctx,y=m.table.core;if(Qr(m,!0))return y.count({trans:d,query:{index:Pi(m,y.schema),range:m.range}}).then(function(b){return Math.min(b,m.limit)});var w=0;return er(m,function(){return++w,!1},d,y).then(function(){return w})}).then(i)},He.prototype.sortBy=function(i,a){var d=i.split(".").reverse(),m=d[0],y=d.length-1;function w(T,R){return R?w(T[d[R]],R-1):T[m]}var b=this._ctx.dir==="next"?1:-1;function S(T,R){return Ne(w(T,y),w(R,y))*b}return this.toArray(function(T){return T.sort(S)}).then(a)},He.prototype.toArray=function(i){var a=this;return this._read(function(d){var m=a._ctx;if(m.dir==="next"&&Qr(m,!0)&&0<m.limit){var y=m.valueMapper,w=Pi(m,m.table.core.schema);return m.table.core.query({trans:d,limit:m.limit,values:!0,query:{index:w,range:m.range}}).then(function(S){return S=S.result,y?S.map(y):S})}var b=[];return er(m,function(S){return b.push(S)},d,m.table.core).then(function(){return b})},i)},He.prototype.offset=function(i){var a=this._ctx;return i<=0||(a.offset+=i,Qr(a)?ji(a,function(){var d=i;return function(m,y){return d===0||(d===1?--d:y(function(){m.advance(d),d=0}),!1)}}):ji(a,function(){var d=i;return function(){return--d<0}})),this},He.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),ji(this._ctx,function(){var a=i;return function(d,m,y){return--a<=0&&m(y),0<=a}},!0),this},He.prototype.until=function(i,a){return co(this._ctx,function(d,m,y){return!i(d.value)||(m(y),a)}),this},He.prototype.first=function(i){return this.limit(1).toArray(function(a){return a[0]}).then(i)},He.prototype.last=function(i){return this.reverse().first(i)},He.prototype.filter=function(i){var a;return co(this._ctx,function(d){return i(d.value)}),(a=this._ctx).isMatch=Xn(a.isMatch,i),this},He.prototype.and=function(i){return this.filter(i)},He.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},He.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},He.prototype.desc=function(){return this.reverse()},He.prototype.eachKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(d,m){i(m.key,m)})},He.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},He.prototype.eachPrimaryKey=function(i){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(d,m){i(m.primaryKey,m)})},He.prototype.keys=function(i){var a=this._ctx;a.keysOnly=!a.isMatch;var d=[];return this.each(function(m,y){d.push(y.key)}).then(function(){return d}).then(i)},He.prototype.primaryKeys=function(i){var a=this._ctx;if(a.dir==="next"&&Qr(a,!0)&&0<a.limit)return this._read(function(m){var y=Pi(a,a.table.core.schema);return a.table.core.query({trans:m,values:!1,limit:a.limit,query:{index:y,range:a.range}})}).then(function(m){return m.result}).then(i);a.keysOnly=!a.isMatch;var d=[];return this.each(function(m,y){d.push(y.primaryKey)}).then(function(){return d}).then(i)},He.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},He.prototype.firstKey=function(i){return this.limit(1).keys(function(a){return a[0]}).then(i)},He.prototype.lastKey=function(i){return this.reverse().firstKey(i)},He.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var a={};return co(this._ctx,function(y){var m=y.primaryKey.toString(),y=N(a,m);return a[m]=!0,!y}),this},He.prototype.modify=function(i){var a=this,d=this._ctx;return this._write(function(m){var y,w,b;b=typeof i=="function"?i:(y=v(i),w=y.length,function(B){for(var V=!1,H=0;H<w;++H){var Q=y[H],Y=i[Q],oe=ce(B,Q);Y instanceof _r?(Ee(B,Q,Y.execute(oe)),V=!0):oe!==Y&&(Ee(B,Q,Y),V=!0)}return V});var S=d.table.core,C=S.schema.primaryKey,T=C.outbound,R=C.extractKey,I=200,C=a.db._options.modifyChunkSize;C&&(I=typeof C=="object"?C[S.name]||C["*"]||200:C);function M(B,Q){var H=Q.failures,Q=Q.numFailures;L+=B-Q;for(var Y=0,oe=v(H);Y<oe.length;Y++){var ne=oe[Y];O.push(H[ne])}}var O=[],L=0,$=[],D=i===cs;return a.clone().primaryKeys().then(function(B){function V(Q){var Y=Math.min(I,B.length-Q),oe=B.slice(Q,Q+Y);return(D?Promise.resolve([]):S.getMany({trans:m,keys:oe,cache:"immutable"})).then(function(ne){var re=[],le=[],ue=T?[]:null,me=D?oe:[];if(!D)for(var Re=0;Re<Y;++Re){var qe=ne[Re],Ae={value:Te(qe),primKey:B[Q+Re]};b.call(Ae,Ae.value,Ae)!==!1&&(Ae.value==null?me.push(B[Q+Re]):T||Ne(R(qe),R(Ae.value))===0?(le.push(Ae.value),T&&ue.push(B[Q+Re])):(me.push(B[Q+Re]),re.push(Ae.value)))}return Promise.resolve(0<re.length&&S.mutate({trans:m,type:"add",values:re}).then(function(ot){for(var Oe in ot.failures)me.splice(parseInt(Oe),1);M(re.length,ot)})).then(function(){return(0<le.length||H&&typeof i=="object")&&S.mutate({trans:m,type:"put",keys:ue,values:le,criteria:H,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<Q}).then(function(ot){return M(le.length,ot)})}).then(function(){return(0<me.length||H&&D)&&S.mutate({trans:m,type:"delete",keys:me,criteria:H,isAdditionalChunk:0<Q}).then(function(ot){return ls(d.table,me,ot)}).then(function(ot){return M(me.length,ot)})}).then(function(){return B.length>Q+Y&&V(Q+I)})})}var H=Qr(d)&&d.limit===1/0&&(typeof i!="function"||D)&&{index:d.index,range:d.range};return V(0).then(function(){if(0<O.length)throw new Ke("Error modifying one or more objects",O,L,$);return B.length})})})},He.prototype.delete=function(){var i=this._ctx,a=i.range;return!Qr(i)||i.table.schema.yProps||!i.isPrimKey&&a.type!==3?this.modify(cs):this._write(function(d){var m=i.table.core.schema.primaryKey,y=a;return i.table.core.count({trans:d,query:{index:m,range:y}}).then(function(w){return i.table.core.mutate({trans:d,type:"deleteRange",range:y}).then(function(T){var S=T.failures,T=T.numFailures;if(T)throw new Ke("Could not delete some values",Object.keys(S).map(function(R){return S[R]}),w-T);return w-T})})})},He);function He(){}var cs=function(i,a){return a.value=null};function ca(i,a){return i<a?-1:i===a?0:1}function da(i,a){return a<i?-1:i===a?0:1}function Wt(i,a,d){return i=i instanceof Tn?new i.Collection(i):i,i._ctx.error=new(d||TypeError)(a),i}function tr(i){return new i.Collection(i,function(){return Pn("")}).limit(0)}function kr(i,a,d,m){var y,w,b,S,T,R,I,C=d.length;if(!d.every(function(L){return typeof L=="string"}))return Wt(i,ia);function M(L){y=L==="next"?function(D){return D.toUpperCase()}:function(D){return D.toLowerCase()},w=L==="next"?function(D){return D.toLowerCase()}:function(D){return D.toUpperCase()},b=L==="next"?ca:da;var $=d.map(function(D){return{lower:w(D),upper:y(D)}}).sort(function(D,B){return b(D.lower,B.lower)});S=$.map(function(D){return D.upper}),T=$.map(function(D){return D.lower}),I=(R=L)==="next"?"":m}M("next"),i=new i.Collection(i,function(){return Bt(S[0],T[C-1]+m)}),i._ondirectionchange=function(L){M(L)};var O=0;return i._addAlgorithm(function(L,$,D){var B=L.key;if(typeof B!="string")return!1;var V=w(B);if(a(V,T,O))return!0;for(var H=null,Q=O;Q<C;++Q){var Y=(function(oe,ne,re,le,ue,me){for(var Re=Math.min(oe.length,le.length),qe=-1,Ae=0;Ae<Re;++Ae){var ot=ne[Ae];if(ot!==le[Ae])return ue(oe[Ae],re[Ae])<0?oe.substr(0,Ae)+re[Ae]+re.substr(Ae+1):ue(oe[Ae],le[Ae])<0?oe.substr(0,Ae)+le[Ae]+re.substr(Ae+1):0<=qe?oe.substr(0,qe)+ne[qe]+re.substr(qe+1):null;ue(oe[Ae],ot)<0&&(qe=Ae)}return Re<le.length&&me==="next"?oe+re.substr(oe.length):Re<oe.length&&me==="prev"?oe.substr(0,re.length):qe<0?null:oe.substr(0,qe)+le[qe]+re.substr(qe+1)})(B,V,S[Q],T[Q],b,R);Y===null&&H===null?O=Q+1:(H===null||0<b(H,Y))&&(H=Y)}return $(H!==null?function(){L.continue(H+I)}:D),!1}),i}function Bt(i,a,d,m){return{type:2,lower:i,upper:a,lowerOpen:d,upperOpen:m}}function Pn(i){return{type:1,lower:i,upper:i}}var Tn=(Object.defineProperty(dt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dt.prototype.between=function(i,a,d,m){d=d!==!1,m=m===!0;try{return 0<this._cmp(i,a)||this._cmp(i,a)===0&&(d||m)&&(!d||!m)?tr(this):new this.Collection(this,function(){return Bt(i,a,!d,!m)})}catch{return Wt(this,Ze)}},dt.prototype.equals=function(i){return i==null?Wt(this,Ze):new this.Collection(this,function(){return Pn(i)})},dt.prototype.above=function(i){return i==null?Wt(this,Ze):new this.Collection(this,function(){return Bt(i,void 0,!0)})},dt.prototype.aboveOrEqual=function(i){return i==null?Wt(this,Ze):new this.Collection(this,function(){return Bt(i,void 0,!1)})},dt.prototype.below=function(i){return i==null?Wt(this,Ze):new this.Collection(this,function(){return Bt(void 0,i,!1,!0)})},dt.prototype.belowOrEqual=function(i){return i==null?Wt(this,Ze):new this.Collection(this,function(){return Bt(void 0,i)})},dt.prototype.startsWith=function(i){return typeof i!="string"?Wt(this,ia):this.between(i,i+wr,!0,!0)},dt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):kr(this,function(a,d){return a.indexOf(d[0])===0},[i],wr)},dt.prototype.equalsIgnoreCase=function(i){return kr(this,function(a,d){return a===d[0]},[i],"")},dt.prototype.anyOfIgnoreCase=function(){var i=pe.apply(Ce,arguments);return i.length===0?tr(this):kr(this,function(a,d){return d.indexOf(a)!==-1},i,"")},dt.prototype.startsWithAnyOfIgnoreCase=function(){var i=pe.apply(Ce,arguments);return i.length===0?tr(this):kr(this,function(a,d){return d.some(function(m){return a.indexOf(m)===0})},i,wr)},dt.prototype.anyOf=function(){var i=this,a=pe.apply(Ce,arguments),d=this._cmp;try{a.sort(d)}catch{return Wt(this,Ze)}if(a.length===0)return tr(this);var m=new this.Collection(this,function(){return Bt(a[0],a[a.length-1])});m._ondirectionchange=function(w){d=w==="next"?i._ascending:i._descending,a.sort(d)};var y=0;return m._addAlgorithm(function(w,b,S){for(var T=w.key;0<d(T,a[y]);)if(++y===a.length)return b(S),!1;return d(T,a[y])===0||(b(function(){w.continue(a[y])}),!1)}),m},dt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dt.prototype.noneOf=function(){var i=pe.apply(Ce,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Wt(this,Ze)}var a=i.reduce(function(d,m){return d?d.concat([[d[d.length-1][1],m]]):[[-1/0,m]]},null);return a.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},dt.prototype.inAnyRange=function(B,a){var d=this,m=this._cmp,y=this._ascending,w=this._descending,b=this._min,S=this._max;if(B.length===0)return tr(this);if(!B.every(function(V){return V[0]!==void 0&&V[1]!==void 0&&y(V[0],V[1])<=0}))return Wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fe.InvalidArgument);var T=!a||a.includeLowers!==!1,R=a&&a.includeUppers===!0,I,C=y;function M(V,H){return C(V[0],H[0])}try{(I=B.reduce(function(V,H){for(var Q=0,Y=V.length;Q<Y;++Q){var oe=V[Q];if(m(H[0],oe[1])<0&&0<m(H[1],oe[0])){oe[0]=b(oe[0],H[0]),oe[1]=S(oe[1],H[1]);break}}return Q===Y&&V.push(H),V},[])).sort(M)}catch{return Wt(this,Ze)}var O=0,L=R?function(V){return 0<y(V,I[O][1])}:function(V){return 0<=y(V,I[O][1])},$=T?function(V){return 0<w(V,I[O][0])}:function(V){return 0<=w(V,I[O][0])},D=L,B=new this.Collection(this,function(){return Bt(I[0][0],I[I.length-1][1],!T,!R)});return B._ondirectionchange=function(V){C=V==="next"?(D=L,y):(D=$,w),I.sort(M)},B._addAlgorithm(function(V,H,Q){for(var Y,oe=V.key;D(oe);)if(++O===I.length)return H(Q),!1;return!L(Y=oe)&&!$(Y)||(d._cmp(oe,I[O][1])===0||d._cmp(oe,I[O][0])===0||H(function(){C===y?V.continue(I[O][0]):V.continue(I[O][1])}),!1)}),B},dt.prototype.startsWithAnyOf=function(){var i=pe.apply(Ce,arguments);return i.every(function(a){return typeof a=="string"})?i.length===0?tr(this):this.inAnyRange(i.map(function(a){return[a,a+wr]})):Wt(this,"startsWithAnyOf() only works with strings")},dt);function dt(){}function Vt(i){return nt(function(a){return rn(a),i(a.target.error),!1})}function rn(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Ti="storagemutated",ds="x-storagemutated-1",sn=jn(null,Ti),Pl=(hn.prototype._lock=function(){return be(!_e.global),++this._reculock,this._reculock!==1||_e.global||(_e.lockOwnerFor=this),this},hn.prototype._unlock=function(){if(be(!_e.global),--this._reculock==0)for(_e.global||(_e.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Jn(i[1],i[0])}catch{}}return this},hn.prototype._locked=function(){return this._reculock&&_e.lockOwnerFor!==this},hn.prototype.create=function(i){var a=this;if(!this.mode)return this;var d=this.db.idbdb,m=this.db._state.dbOpenError;if(be(!this.idbtrans),!i&&!d)switch(m&&m.name){case"DatabaseClosedError":throw new fe.DatabaseClosed(m);case"MissingAPIError":throw new fe.MissingAPI(m.message,m);default:throw new fe.OpenFailed(m)}if(!this.active)throw new fe.TransactionInactive;return be(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=nt(function(y){rn(y),a._reject(i.error)}),i.onabort=nt(function(y){rn(y),a.active&&a._reject(new fe.Abort(i.error)),a.active=!1,a.on("abort").fire(y)}),i.oncomplete=nt(function(){a.active=!1,a._resolve(),"mutatedParts"in i&&sn.storagemutated.fire(i.mutatedParts)}),this},hn.prototype._promise=function(i,a,d){var m=this;if(i==="readwrite"&&this.mode!=="readwrite")return ht(new fe.ReadOnly("Transaction is readonly"));if(!this.active)return ht(new fe.TransactionInactive);if(this._locked())return new he(function(w,b){m._blockedFuncs.push([function(){m._promise(i,a,d).then(w,b)},_e])});if(d)return Qn(function(){var w=new he(function(b,S){m._lock();var T=a(b,S,m);T&&T.then&&T.then(b,S)});return w.finally(function(){return m._unlock()}),w._lib=!0,w});var y=new he(function(w,b){var S=a(w,b,m);S&&S.then&&S.then(w,b)});return y._lib=!0,y},hn.prototype._root=function(){return this.parent?this.parent._root():this},hn.prototype.waitFor=function(i){var a,d=this._root(),m=he.resolve(i);d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return m}):(d._waitingFor=m,d._waitingQueue=[],a=d.idbtrans.objectStore(d.storeNames[0]),(function w(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(a.get(-1/0).onsuccess=w)})());var y=d._waitingFor;return new he(function(w,b){m.then(function(S){return d._waitingQueue.push(nt(w.bind(null,S)))},function(S){return d._waitingQueue.push(nt(b.bind(null,S)))}).finally(function(){d._waitingFor===y&&(d._waitingFor=null)})})},hn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fe.Abort))},hn.prototype.table=function(i){var a=this._memoizedTables||(this._memoizedTables={});if(N(a,i))return a[i];var d=this.schema[i];if(!d)throw new fe.NotFound("Table "+i+" not part of transaction");return d=new this.db.Table(i,d,this),d.core=this.db.core.table(i),a[i]=d},hn);function hn(){}function Gr(i,a,d,m,y,w,b,S){return{name:i,keyPath:a,unique:d,multi:m,auto:y,compound:w,src:(d&&!b?"&":"")+(m?"*":"")+(y?"++":"")+fo(a),type:S}}function fo(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function ho(i,a,d){return{name:i,primKey:a,indexes:d,mappedClass:null,idxByName:(m=function(y){return[y.name,y]},d.reduce(function(y,w,b){return b=m(w,b),b&&(y[b[0]]=b[1]),y},{}))};var m}var On=function(i){try{return i.only([[]]),On=function(){return[[]]},[[]]}catch{return On=function(){return wr},wr}};function br(i){return i==null?function(){}:typeof i=="string"?(a=i).split(".").length===1?function(d){return d[a]}:function(d){return ce(d,a)}:function(d){return ce(d,i)};var a}function xr(i){return[].slice.call(i)}var fs=0;function Oi(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Tl(i,a,T){function m(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=D.lower,L=D.upper,$=D.lowerOpen,D=D.upperOpen;return O===void 0?L===void 0?null:a.upperBound(L,!!D):L===void 0?a.lowerBound(O,!!$):a.bound(O,L,!!$,!!D)}function y(M){var O,L=M.name;return{name:L,schema:M,mutate:function($){var D=$.trans,B=$.type,V=$.keys,H=$.values,Q=$.range;return new Promise(function(Y,oe){Y=nt(Y);var ne=D.objectStore(L),re=ne.keyPath==null,le=B==="put"||B==="add";if(!le&&B!=="delete"&&B!=="deleteRange")throw new Error("Invalid operation type: "+B);var ue,me=(V||H||{length:1}).length;if(V&&H&&V.length!==H.length)throw new Error("Given keys array must have same length as given values array.");if(me===0)return Y({numFailures:0,failures:{},results:[],lastResult:void 0});function Re(jt){++ot,rn(jt)}var qe=[],Ae=[],ot=0;if(B==="deleteRange"){if(Q.type===4)return Y({numFailures:ot,failures:Ae,results:[],lastResult:void 0});Q.type===3?qe.push(ue=ne.clear()):qe.push(ue=ne.delete(m(Q)))}else{var re=le?re?[H,V]:[H,null]:[V,null],Oe=re[0],Et=re[1];if(le)for(var Ct=0;Ct<me;++Ct)qe.push(ue=Et&&Et[Ct]!==void 0?ne[B](Oe[Ct],Et[Ct]):ne[B](Oe[Ct])),ue.onerror=Re;else for(Ct=0;Ct<me;++Ct)qe.push(ue=ne[B](Oe[Ct])),ue.onerror=Re}function mn(jt){jt=jt.target.result,qe.forEach(function(An,Eo){return An.error!=null&&(Ae[Eo]=An.error)}),Y({numFailures:ot,failures:Ae,results:B==="delete"?V:qe.map(function(An){return An.result}),lastResult:jt})}ue.onerror=function(jt){Re(jt),mn(jt)},ue.onsuccess=mn})},getMany:function($){var D=$.trans,B=$.keys;return new Promise(function(V,H){V=nt(V);for(var Q,Y=D.objectStore(L),oe=B.length,ne=new Array(oe),re=0,le=0,ue=function(qe){qe=qe.target,ne[qe._pos]=qe.result,++le===re&&V(ne)},me=Vt(H),Re=0;Re<oe;++Re)B[Re]!=null&&((Q=Y.get(B[Re]))._pos=Re,Q.onsuccess=ue,Q.onerror=me,++re);re===0&&V(ne)})},get:function($){var D=$.trans,B=$.key;return new Promise(function(V,H){V=nt(V);var Q=D.objectStore(L).get(B);Q.onsuccess=function(Y){return V(Y.target.result)},Q.onerror=Vt(H)})},query:(O=R,function($){return new Promise(function(D,B){D=nt(D);var V,H,Q,re=$.trans,Y=$.values,oe=$.limit,ue=$.query,ne=oe===1/0?void 0:oe,le=ue.index,ue=ue.range,re=re.objectStore(L),le=le.isPrimaryKey?re:re.index(le.name),ue=m(ue);if(oe===0)return D({result:[]});O?((ne=Y?le.getAll(ue,ne):le.getAllKeys(ue,ne)).onsuccess=function(me){return D({result:me.target.result})},ne.onerror=Vt(B)):(V=0,H=!Y&&"openKeyCursor"in le?le.openKeyCursor(ue):le.openCursor(ue),Q=[],H.onsuccess=function(me){var Re=H.result;return Re?(Q.push(Y?Re.value:Re.primaryKey),++V===oe?D({result:Q}):void Re.continue()):D({result:Q})},H.onerror=Vt(B))})}),openCursor:function($){var D=$.trans,B=$.values,V=$.query,H=$.reverse,Q=$.unique;return new Promise(function(Y,oe){Y=nt(Y);var le=V.index,ne=V.range,re=D.objectStore(L),re=le.isPrimaryKey?re:re.index(le.name),le=H?Q?"prevunique":"prev":Q?"nextunique":"next",ue=!B&&"openKeyCursor"in re?re.openKeyCursor(m(ne),le):re.openCursor(m(ne),le);ue.onerror=Vt(oe),ue.onsuccess=nt(function(me){var Re,qe,Ae,ot,Oe=ue.result;Oe?(Oe.___id=++fs,Oe.done=!1,Re=Oe.continue.bind(Oe),qe=(qe=Oe.continuePrimaryKey)&&qe.bind(Oe),Ae=Oe.advance.bind(Oe),ot=function(){throw new Error("Cursor not stopped")},Oe.trans=D,Oe.stop=Oe.continue=Oe.continuePrimaryKey=Oe.advance=function(){throw new Error("Cursor not started")},Oe.fail=nt(oe),Oe.next=function(){var Et=this,Ct=1;return this.start(function(){return Ct--?Et.continue():Et.stop()}).then(function(){return Et})},Oe.start=function(Et){function Ct(){if(ue.result)try{Et()}catch(jt){Oe.fail(jt)}else Oe.done=!0,Oe.start=function(){throw new Error("Cursor behind last entry")},Oe.stop()}var mn=new Promise(function(jt,An){jt=nt(jt),ue.onerror=Vt(An),Oe.fail=An,Oe.stop=function(Eo){Oe.stop=Oe.continue=Oe.continuePrimaryKey=Oe.advance=ot,jt(Eo)}});return ue.onsuccess=nt(function(jt){ue.onsuccess=Ct,Ct()}),Oe.continue=Re,Oe.continuePrimaryKey=qe,Oe.advance=Ae,Ct(),mn},Y(Oe)):Y(null)},oe)})},count:function($){var D=$.query,B=$.trans,V=D.index,H=D.range;return new Promise(function(Q,Y){var oe=B.objectStore(L),ne=V.isPrimaryKey?oe:oe.index(V.name),oe=m(H),ne=oe?ne.count(oe):ne.count();ne.onsuccess=nt(function(re){return Q(re.target.result)}),ne.onerror=Vt(Y)})}}}var w,b,S,I=(b=T,S=xr((w=i).objectStoreNames),{schema:{name:w.name,tables:S.map(function(M){return b.objectStore(M)}).map(function(M){var O=M.keyPath,D=M.autoIncrement,L=_(O),$={},D={name:M.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:L,keyPath:O,autoIncrement:D,unique:!0,extractKey:br(O)},indexes:xr(M.indexNames).map(function(B){return M.index(B)}).map(function(Q){var V=Q.name,H=Q.unique,Y=Q.multiEntry,Q=Q.keyPath,Y={name:V,compound:_(Q),keyPath:Q,unique:H,multiEntry:Y,extractKey:br(Q)};return $[Oi(Q)]=Y}),getIndexByKeyPath:function(B){return $[Oi(B)]}};return $[":id"]=D.primaryKey,O!=null&&($[Oi(O)]=D.primaryKey),D})},hasGetAll:0<S.length&&"getAll"in b.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),T=I.schema,R=I.hasGetAll,I=T.tables.map(y),C={};return I.forEach(function(M){return C[M.name]=M}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(M){if(!C[M])throw new Error("Table '".concat(M,"' not found"));return C[M]},MIN_KEY:-1/0,MAX_KEY:On(a),schema:T}}function po(i,a,d,m){var y=d.IDBKeyRange;return d.indexedDB,{dbcore:(m=Tl(a,y,m),i.dbcore.reduce(function(w,b){return b=b.create,l(l({},w),b(w))},m))}}function Sr(i,m){var d=m.db,m=po(i._middlewares,d,i._deps,m);i.core=m.dbcore,i.tables.forEach(function(y){var w=y.name;i.core.schema.tables.some(function(b){return b.name===w})&&(y.core=i.core.table(w),i[w]instanceof i.Table&&(i[w].core=y.core))})}function Jr(i,a,d,m){d.forEach(function(y){var w=m[y];a.forEach(function(b){var S=(function T(R,I){return te(R,I)||(R=E(R))&&T(R,I)})(b,y);(!S||"value"in S&&S.value===void 0)&&(b===i.Transaction.prototype||b instanceof i.Transaction?ie(b,y,{get:function(){return this.table(y)},set:function(T){Z(this,y,{value:T,writable:!0,configurable:!0,enumerable:!0})}}):b[y]=new i.Table(y,w))})})}function hs(i,a){a.forEach(function(d){for(var m in d)d[m]instanceof i.Table&&delete d[m]})}function nr(i,a){return i._cfg.version-a._cfg.version}function mo(i,a,d,m){var y=i._dbSchema;d.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=ho("$meta",vs("")[0],[]),i._storeNames.push("$meta"));var w=i._createTransaction("readwrite",i._storeNames,y);w.create(d),w._completion.catch(m);var b=w._reject.bind(w),S=_e.transless||_e;Qn(function(){return _e.trans=w,_e.transless=S,a!==0?(Sr(i,d),R=a,((T=w).storeNames.includes("$meta")?T.table("$meta").get("version").then(function(I){return I??R}):he.resolve(R)).then(function(I){return M=I,O=w,L=d,$=[],I=(C=i)._versions,D=C._dbSchema=It(0,C.idbdb,L),(I=I.filter(function(B){return B._cfg.version>=M})).length!==0?(I.forEach(function(B){$.push(function(){var V=D,H=B._cfg.dbschema;Nn(C,V,L),Nn(C,H,L),D=C._dbSchema=H;var Q=ms(V,H);Q.add.forEach(function(le){Yr(L,le[0],le[1].primKey,le[1].indexes)}),Q.change.forEach(function(le){if(le.recreate)throw new fe.Upgrade("Not yet support for changing primary key");var ue=L.objectStore(le.name);le.add.forEach(function(me){return Ri(ue,me)}),le.change.forEach(function(me){ue.deleteIndex(me.name),Ri(ue,me)}),le.del.forEach(function(me){return ue.deleteIndex(me)})});var Y=B._cfg.contentUpgrade;if(Y&&B._cfg.version>M){Sr(C,L),O._memoizedTables={};var oe=wt(H);Q.del.forEach(function(le){oe[le]=V[le]}),hs(C,[C.Transaction.prototype]),Jr(C,[C.Transaction.prototype],v(oe),oe),O.schema=oe;var ne,re=U(Y);return re&&Vr(),Q=he.follow(function(){var le;(ne=Y(O))&&re&&(le=qt.bind(null,null),ne.then(le,le))}),ne&&typeof ne.then=="function"?he.resolve(ne):Q.then(function(){return ne})}}),$.push(function(V){var H,Q,Y=B._cfg.dbschema;H=Y,Q=V,[].slice.call(Q.db.objectStoreNames).forEach(function(oe){return H[oe]==null&&Q.db.deleteObjectStore(oe)}),hs(C,[C.Transaction.prototype]),Jr(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),O.schema=C._dbSchema}),$.push(function(V){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===B._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(H){return H!=="$meta"})):V.objectStore("$meta").put(B._cfg.version,"version"))})}),(function B(){return $.length?he.resolve($.shift()(O.idbtrans)).then(B):he.resolve()})().then(function(){Ni(D,L)})):he.resolve();var C,M,O,L,$,D}).catch(b)):(v(y).forEach(function(I){Yr(d,I,y[I].primKey,y[I].indexes)}),Sr(i,d),void he.follow(function(){return i.on.populate.fire(w)}).catch(b));var T,R})}function ps(i,a){Ni(i._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var d=It(0,i.idbdb,a);Nn(i,i._dbSchema,a);for(var m=0,y=ms(d,i._dbSchema).change;m<y.length;m++){var w=(function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var S=a.objectStore(b.name);b.add.forEach(function(T){Ut&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(T.src)),Ri(S,T)})})(y[m]);if(typeof w=="object")return w.value}}function ms(i,a){var d,m={del:[],add:[],change:[]};for(d in i)a[d]||m.del.push(d);for(d in a){var y=i[d],w=a[d];if(y){var b={name:d,def:w,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(w.primKey.keyPath||"")||y.primKey.auto!==w.primKey.auto)b.recreate=!0,m.change.push(b);else{var S=y.idxByName,T=w.idxByName,R=void 0;for(R in S)T[R]||b.del.push(R);for(R in T){var I=S[R],C=T[R];I?I.src!==C.src&&b.change.push(C):b.add.push(C)}(0<b.del.length||0<b.add.length||0<b.change.length)&&m.change.push(b)}}else m.add.push([d,w])}return m}function Yr(i,a,d,m){var y=i.db.createObjectStore(a,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});return m.forEach(function(w){return Ri(y,w)}),y}function Ni(i,a){v(i).forEach(function(d){a.db.objectStoreNames.contains(d)||(Ut&&console.debug("Dexie: Creating missing table",d),Yr(a,d,i[d].primKey,i[d].indexes))})}function Ri(i,a){i.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function It(i,a,d){var m={};return Me(a.objectStoreNames,0).forEach(function(y){for(var w=d.objectStore(y),b=Gr(fo(R=w.keyPath),R||"",!0,!1,!!w.autoIncrement,R&&typeof R!="string",!0),S=[],T=0;T<w.indexNames.length;++T){var I=w.index(w.indexNames[T]),R=I.keyPath,I=Gr(I.name,R,!!I.unique,!!I.multiEntry,!1,R&&typeof R!="string",!1);S.push(I)}m[y]=ho(y,b,S)}),m}function Nn(i,a,d){for(var m=d.db.objectStoreNames,y=0;y<m.length;++y){var w=m[y],b=d.objectStore(w);i._hasGetAll="getAll"in b;for(var S=0;S<b.indexNames.length;++S){var T=b.indexNames[S],R=b.index(T).keyPath,I=typeof R=="string"?R:"["+Me(R).join("+")+"]";!a[w]||(R=a[w].idxByName[I])&&(R.name=T,delete a[w].idxByName[I],a[w].idxByName[T]=R)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&p.WorkerGlobalScope&&p instanceof p.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function vs(i){return i.split(",").map(function(a,d){var w=a.split(":"),m=(y=w[1])===null||y===void 0?void 0:y.trim(),y=(a=w[0].trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Gr(y,w||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),_(w),d===0,m)})}var Ai=(Xr.prototype._createTableSchema=ho,Xr.prototype._parseIndexSyntax=vs,Xr.prototype._parseStoresSpec=function(i,a){var d=this;v(i).forEach(function(m){if(i[m]!==null){var y=d._parseIndexSyntax(i[m]),w=y.shift();if(!w)throw new fe.Schema("Invalid schema for table "+m+": "+i[m]);if(w.unique=!0,w.multi)throw new fe.Schema("Primary key cannot be multiEntry*");y.forEach(function(b){if(b.auto)throw new fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new fe.Schema("Index must have a name and cannot be an empty string")}),y=d._createTableSchema(m,w,y),a[m]=y}})},Xr.prototype.stores=function(d){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?k(this._cfg.storesSource,d):d;var d=a._versions,m={},y={};return d.forEach(function(w){k(m,w._cfg.storesSource),y=w._cfg.dbschema={},w._parseStoresSpec(m,y)}),a._dbSchema=y,hs(a,[a._allTables,a,a.Transaction.prototype]),Jr(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],v(y),y),a._storeNames=v(y),this},Xr.prototype.upgrade=function(i){return this._cfg.contentUpgrade=cr(this._cfg.contentUpgrade||Xe,i),this},Xr);function Xr(){}function Ii(i,a){var d=i._dbNamesDB;return d||(d=i._dbNamesDB=new Ht(Si,{addons:[],indexedDB:i,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function Li(i){return i&&typeof i.databases=="function"}function Er(i){return Qn(function(){return _e.letThrough=!0,i()})}function Zr(i){return!("from"in i)}var St=function(i,a){if(!this){var d=new St;return i&&"d"in i&&k(d,i),d}k(this,arguments.length?{d:1,from:i,to:1<arguments.length?a:i}:{d:0})};function Di(i,a,d){var m=Ne(a,d);if(!isNaN(m)){if(0<m)throw RangeError();if(Zr(i))return k(i,{from:a,to:d,d:1});var y=i.l,m=i.r;if(Ne(d,i.from)<0)return y?Di(y,a,d):i.l={from:a,to:d,d:1,l:null,r:null},ha(i);if(0<Ne(a,i.to))return m?Di(m,a,d):i.r={from:a,to:d,d:1,l:null,r:null},ha(i);Ne(a,i.from)<0&&(i.from=a,i.l=null,i.d=m?m.d+1:1),0<Ne(d,i.to)&&(i.to=d,i.r=null,i.d=i.l?i.l.d+1:1),d=!i.r,y&&!i.l&&$i(i,y),m&&d&&$i(i,m)}}function $i(i,a){Zr(a)||(function d(m,T){var w=T.from,b=T.to,S=T.l,T=T.r;Di(m,w,b),S&&d(m,S),T&&d(m,T)})(i,a)}function fa(i,a){var d=ei(a),m=d.next();if(m.done)return!1;for(var y=m.value,w=ei(i),b=w.next(y.from),S=b.value;!m.done&&!b.done;){if(Ne(S.from,y.to)<=0&&0<=Ne(S.to,y.from))return!0;Ne(y.from,S.from)<0?y=(m=d.next(S.from)).value:S=(b=w.next(y.from)).value}return!1}function ei(i){var a=Zr(i)?null:{s:0,n:i};return{next:function(d){for(var m=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,m)for(;a.n.l&&Ne(d,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!m||Ne(d,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function ha(i){var a,d,m=(((a=i.r)===null||a===void 0?void 0:a.d)||0)-(((d=i.l)===null||d===void 0?void 0:d.d)||0),y=1<m?"r":m<-1?"l":"";y&&(a=y=="r"?"l":"r",d=l({},i),m=i[y],i.from=m.from,i.to=m.to,i[y]=m[y],d[y]=m[a],(i[a]=d).d=pa(d)),i.d=pa(i)}function pa(d){var a=d.r,d=d.l;return(a?d?Math.max(a.d,d.d):a.d:d?d.d:0)+1}function ys(i,a){return v(a).forEach(function(d){i[d]?$i(i[d],a[d]):i[d]=(function m(y){var w,b,S={};for(w in y)N(y,w)&&(b=y[w],S[w]=!b||typeof b!="object"||nn.has(b.constructor)?b:m(b));return S})(a[d])}),i}function vo(i,a){return i.all||a.all||Object.keys(i).some(function(d){return a[d]&&fa(a[d],i[d])})}q(St.prototype,((on={add:function(i){return $i(this,i),this},addKey:function(i){return Di(this,i,i),this},addKeys:function(i){var a=this;return i.forEach(function(d){return Di(a,d,d)}),this},hasKey:function(i){var a=ei(this).next(i).value;return a&&Ne(a.from,i)<=0&&0<=Ne(a.to,i)}})[At]=function(){return ei(this)},on));var Cr={},gs={},yo=!1;function ws(i){ys(gs,i),yo||(yo=!0,setTimeout(function(){yo=!1,go(gs,!(gs={}))},0))}function go(i,a){a===void 0&&(a=!1);var d=new Set;if(i.all)for(var m=0,y=Object.values(Cr);m<y.length;m++)ma(b=y[m],i,d,a);else for(var w in i){var b,S=/^idb\:\/\/(.*)\/(.*)\//.exec(w);S&&(w=S[1],S=S[2],(b=Cr["idb://".concat(w,"/").concat(S)])&&ma(b,i,d,a))}d.forEach(function(T){return T()})}function ma(i,a,d,m){for(var y=[],w=0,b=Object.entries(i.queries.query);w<b.length;w++){for(var S=b[w],T=S[0],R=[],I=0,C=S[1];I<C.length;I++){var M=C[I];vo(a,M.obsSet)?M.subscribers.forEach(function(D){return d.add(D)}):m&&R.push(M)}m&&y.push([T,R])}if(m)for(var O=0,L=y;O<L.length;O++){var $=L[O],T=$[0],R=$[1];i.queries.query[T]=R}}function wo(i){var a=i._state,d=i._deps.indexedDB;if(a.isBeingOpened||i.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?ht(a.dbOpenError):i});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var m=a.openCanceller,y=Math.round(10*i.verno),w=!1;function b(){if(a.openCanceller!==m)throw new fe.DatabaseClosed("db.open() was cancelled")}function S(){return new he(function(M,O){if(b(),!d)throw new fe.MissingAPI;var L=i.name,$=a.autoSchema||!y?d.open(L):d.open(L,y);if(!$)throw new fe.MissingAPI;$.onerror=Vt(O),$.onblocked=nt(i._fireOnBlocked),$.onupgradeneeded=nt(function(D){var B;I=$.transaction,a.autoSchema&&!i._options.allowEmptyDB?($.onerror=rn,I.abort(),$.result.close(),(B=d.deleteDatabase(L)).onsuccess=B.onerror=nt(function(){O(new fe.NoSuchDatabase("Database ".concat(L," doesnt exist")))})):(I.onerror=Vt(O),D=D.oldVersion>Math.pow(2,62)?0:D.oldVersion,C=D<1,i.idbdb=$.result,w&&ps(i,I),mo(i,D/10,I,O))},O),$.onsuccess=nt(function(){I=null;var D,B,V,H,Q,Y=i.idbdb=$.result,oe=Me(Y.objectStoreNames);if(0<oe.length)try{var ne=Y.transaction((H=oe).length===1?H[0]:H,"readonly");if(a.autoSchema)B=Y,V=ne,(D=i).verno=B.version/10,V=D._dbSchema=It(0,B,V),D._storeNames=Me(B.objectStoreNames,0),Jr(D,[D._allTables],v(V),V);else if(Nn(i,i._dbSchema,ne),((Q=ms(It(0,(Q=i).idbdb,ne),Q._dbSchema)).add.length||Q.change.some(function(re){return re.add.length||re.change.length}))&&!w)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Y.close(),y=Y.version+1,w=!0,M(S());Sr(i,ne)}catch{}Yn.push(i),Y.onversionchange=nt(function(re){a.vcFired=!0,i.on("versionchange").fire(re)}),Y.onclose=nt(function(re){i.on("close").fire(re)}),C&&(Q=i._deps,ne=L,Y=Q.indexedDB,Q=Q.IDBKeyRange,Li(Y)||ne===Si||Ii(Y,Q).put({name:ne}).catch(Xe)),M()},O)}).catch(function(M){switch(M?.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),S();break;case"VersionError":if(0<y)return y=0,S()}return he.reject(M)})}var T,R=a.dbReadyResolve,I=null,C=!1;return he.race([m,(typeof navigator>"u"?he.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(M){function O(){return indexedDB.databases().finally(M)}T=setInterval(O,100),O()}).finally(function(){return clearInterval(T)}):Promise.resolve()).then(S)]).then(function(){return b(),a.onReadyBeingFired=[],he.resolve(Er(function(){return i.on.ready.fire(i.vip)})).then(function M(){if(0<a.onReadyBeingFired.length){var O=a.onReadyBeingFired.reduce(cr,Xe);return a.onReadyBeingFired=[],he.resolve(Er(function(){return O(i.vip)})).then(M)}})}).finally(function(){a.openCanceller===m&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(M){a.dbOpenError=M;try{I&&I.abort()}catch{}return m===a.openCanceller&&i._close(),ht(M)}).finally(function(){a.openComplete=!0,R()}).then(function(){var M;return C&&(M={},i.tables.forEach(function(O){O.schema.indexes.forEach(function(L){L.name&&(M["idb://".concat(i.name,"/").concat(O.name,"/").concat(L.name)]=new St(-1/0,[[[]]]))}),M["idb://".concat(i.name,"/").concat(O.name,"/")]=M["idb://".concat(i.name,"/").concat(O.name,"/:dels")]=new St(-1/0,[[[]]])}),sn(Ti).fire(M),go(M,!0)),i})}function _o(i){function a(w){return i.next(w)}var d=y(a),m=y(function(w){return i.throw(w)});function y(w){return function(T){var S=w(T),T=S.value;return S.done?T:T&&typeof T.then=="function"?T.then(d,m):_(T)?Promise.all(T).then(d,m):d(T)}}return y(a)()}function _s(i,a,d){for(var m=_(i)?i.slice():[i],y=0;y<d;++y)m.push(a);return m}var Ol={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return l(l({},i),{table:function(a){var d=i.table(a),m=d.schema,y={},w=[];function b(C,M,O){var L=Oi(C),$=y[L]=y[L]||[],D=C==null?0:typeof C=="string"?1:C.length,B=0<M,B=l(l({},O),{name:B?"".concat(L,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:B,keyTail:M,keyLength:D,extractKey:br(C),unique:!B&&O.unique});return $.push(B),B.isPrimaryKey||w.push(B),1<D&&b(D===2?C[0]:C.slice(0,D-1),M+1,O),$.sort(function(V,H){return V.keyTail-H.keyTail}),B}a=b(m.primaryKey.keyPath,0,m.primaryKey),y[":id"]=[a];for(var S=0,T=m.indexes;S<T.length;S++){var R=T[S];b(R.keyPath,0,R)}function I(C){var M,O=C.query.index;return O.isVirtual?l(l({},C),{query:{index:O.lowLevelIndex,range:(M=C.query.range,O=O.keyTail,{type:M.type===1?2:M.type,lower:_s(M.lower,M.lowerOpen?i.MAX_KEY:i.MIN_KEY,O),lowerOpen:!0,upper:_s(M.upper,M.upperOpen?i.MIN_KEY:i.MAX_KEY,O),upperOpen:!0})}}):C}return l(l({},d),{schema:l(l({},m),{primaryKey:a,indexes:w,getIndexByKeyPath:function(C){return(C=y[Oi(C)])&&C[0]}}),count:function(C){return d.count(I(C))},query:function(C){return d.query(I(C))},openCursor:function(C){var M=C.query.index,O=M.keyTail,L=M.isVirtual,$=M.keyLength;return L?d.openCursor(I(C)).then(function(B){return B&&D(B)}):d.openCursor(C);function D(B){return Object.create(B,{continue:{value:function(V){V!=null?B.continue(_s(V,C.reverse?i.MAX_KEY:i.MIN_KEY,O)):C.unique?B.continue(B.key.slice(0,$).concat(C.reverse?i.MIN_KEY:i.MAX_KEY,O)):B.continue()}},continuePrimaryKey:{value:function(V,H){B.continuePrimaryKey(_s(V,i.MAX_KEY,O),H)}},primaryKey:{get:function(){return B.primaryKey}},key:{get:function(){var V=B.key;return $===1?V[0]:V.slice(0,$)}},value:{get:function(){return B.value}}})}}})}})}};function ks(i,a,d,m){return d=d||{},m=m||"",v(i).forEach(function(y){var w,b,S;N(a,y)?(w=i[y],b=a[y],typeof w=="object"&&typeof b=="object"&&w&&b?(S=xt(w))!==xt(b)?d[m+y]=a[y]:S==="Object"?ks(w,b,d,m+y+"."):w!==b&&(d[m+y]=a[y]):w!==b&&(d[m+y]=a[y])):d[m+y]=void 0}),v(a).forEach(function(y){N(i,y)||(d[m+y]=a[y])}),d}function ko(i,a){return a.type==="delete"?a.keys:a.keys||a.values.map(i.extractKey)}var Nl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return l(l({},i),{table:function(a){var d=i.table(a),m=d.schema.primaryKey;return l(l({},d),{mutate:function(y){var w=_e.trans,b=w.table(a).hook,S=b.deleting,T=b.creating,R=b.updating;switch(y.type){case"add":if(T.fire===Xe)break;return w._promise("readwrite",function(){return I(y)},!0);case"put":if(T.fire===Xe&&R.fire===Xe)break;return w._promise("readwrite",function(){return I(y)},!0);case"delete":if(S.fire===Xe)break;return w._promise("readwrite",function(){return I(y)},!0);case"deleteRange":if(S.fire===Xe)break;return w._promise("readwrite",function(){return(function C(M,O,L){return d.query({trans:M,values:!1,query:{index:m,range:O},limit:L}).then(function($){var D=$.result;return I({type:"delete",keys:D,trans:M}).then(function(B){return 0<B.numFailures?Promise.reject(B.failures[0]):D.length<L?{failures:[],numFailures:0,lastResult:void 0}:C(M,l(l({},O),{lower:D[D.length-1],lowerOpen:!0}),L)})})})(y.trans,y.range,1e4)},!0)}return d.mutate(y);function I(C){var M,O,L,$=_e.trans,D=C.keys||ko(m,C);if(!D)throw new Error("Keys missing");return(C=C.type==="add"||C.type==="put"?l(l({},C),{keys:D}):l({},C)).type!=="delete"&&(C.values=c([],C.values)),C.keys&&(C.keys=c([],C.keys)),M=d,L=D,((O=C).type==="add"?Promise.resolve([]):M.getMany({trans:O.trans,keys:L,cache:"immutable"})).then(function(B){var V=D.map(function(H,Q){var Y,oe,ne,re=B[Q],le={onerror:null,onsuccess:null};return C.type==="delete"?S.fire.call(le,H,re,$):C.type==="add"||re===void 0?(Y=T.fire.call(le,H,C.values[Q],$),H==null&&Y!=null&&(C.keys[Q]=H=Y,m.outbound||Ee(C.values[Q],m.keyPath,H))):(Y=ks(re,C.values[Q]),(oe=R.fire.call(le,Y,H,re,$))&&(ne=C.values[Q],Object.keys(oe).forEach(function(ue){N(ne,ue)?ne[ue]=oe[ue]:Ee(ne,ue,oe[ue])}))),le});return d.mutate(C).then(function(H){for(var Q=H.failures,Y=H.results,oe=H.numFailures,H=H.lastResult,ne=0;ne<D.length;++ne){var re=(Y||D)[ne],le=V[ne];re==null?le.onerror&&le.onerror(Q[ne]):le.onsuccess&&le.onsuccess(C.type==="put"&&B[ne]?C.values[ne]:re)}return{failures:Q,results:Y,numFailures:oe,lastResult:H}}).catch(function(H){return V.forEach(function(Q){return Q.onerror&&Q.onerror(H)}),Promise.reject(H)})})}}})}})}};function va(i,a,d){try{if(!a||a.keys.length<i.length)return null;for(var m=[],y=0,w=0;y<a.keys.length&&w<i.length;++y)Ne(a.keys[y],i[w])===0&&(m.push(d?Te(a.values[y]):a.values[y]),++w);return m.length===i.length?m:null}catch{return null}}var Rl={stack:"dbcore",level:-1,create:function(i){return{table:function(a){var d=i.table(a);return l(l({},d),{getMany:function(m){if(!m.cache)return d.getMany(m);var y=va(m.keys,m.trans._cache,m.cache==="clone");return y?he.resolve(y):d.getMany(m).then(function(w){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?Te(w):w},w})},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),d.mutate(m)}})}}}};function ya(i,a){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function ga(i,a){switch(i){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Al={stack:"dbcore",level:0,name:"Observability",create:function(i){var a=i.schema.name,d=new St(i.MIN_KEY,i.MAX_KEY);return l(l({},i),{transaction:function(m,y,w){if(_e.subscr&&y!=="readonly")throw new fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_e.querier));return i.transaction(m,y,w)},table:function(m){var y=i.table(m),w=y.schema,b=w.primaryKey,C=w.indexes,S=b.extractKey,T=b.outbound,R=b.autoIncrement&&C.filter(function(O){return O.compound&&O.keyPath.includes(b.keyPath)}),I=l(l({},y),{mutate:function(O){function L(ue){return ue="idb://".concat(a,"/").concat(m,"/").concat(ue),H[ue]||(H[ue]=new St)}var $,D,B,V=O.trans,H=O.mutatedParts||(O.mutatedParts={}),Q=L(""),Y=L(":dels"),oe=O.type,le=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[ko(b,O).filter(function(ue){return ue}),O.values]:[],ne=le[0],re=le[1],le=O.trans._cache;return _(ne)?(Q.addKeys(ne),(le=oe==="delete"||ne.length===re.length?va(ne,le):null)||Y.addKeys(ne),(le||re)&&($=L,D=le,B=re,w.indexes.forEach(function(ue){var me=$(ue.name||"");function Re(Ae){return Ae!=null?ue.extractKey(Ae):null}function qe(Ae){return ue.multiEntry&&_(Ae)?Ae.forEach(function(ot){return me.addKey(ot)}):me.addKey(Ae)}(D||B).forEach(function(Ae,Et){var Oe=D&&Re(D[Et]),Et=B&&Re(B[Et]);Ne(Oe,Et)!==0&&(Oe!=null&&qe(Oe),Et!=null&&qe(Et))})}))):ne?(re={from:(re=ne.lower)!==null&&re!==void 0?re:i.MIN_KEY,to:(re=ne.upper)!==null&&re!==void 0?re:i.MAX_KEY},Y.add(re),Q.add(re)):(Q.add(d),Y.add(d),w.indexes.forEach(function(ue){return L(ue.name).add(d)})),y.mutate(O).then(function(ue){return!ne||O.type!=="add"&&O.type!=="put"||(Q.addKeys(ue.results),R&&R.forEach(function(me){for(var Re=O.values.map(function(Oe){return me.extractKey(Oe)}),qe=me.keyPath.findIndex(function(Oe){return Oe===b.keyPath}),Ae=0,ot=ue.results.length;Ae<ot;++Ae)Re[Ae][qe]=ue.results[Ae];L(me.name).addKeys(Re)})),V.mutatedParts=ys(V.mutatedParts||{},H),ue})}}),C=function(L){var $=L.query,L=$.index,$=$.range;return[L,new St((L=$.lower)!==null&&L!==void 0?L:i.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:i.MAX_KEY)]},M={get:function(O){return[b,new St(O.key)]},getMany:function(O){return[b,new St().addKeys(O.keys)]},count:C,query:C,openCursor:C};return v(M).forEach(function(O){I[O]=function(L){var $=_e.subscr,D=!!$,B=ya(_e,y)&&ga(O,L)?L.obsSet={}:$;if(D){var V=function(re){return re="idb://".concat(a,"/").concat(m,"/").concat(re),B[re]||(B[re]=new St)},H=V(""),Q=V(":dels"),$=M[O](L),D=$[0],$=$[1];if((O==="query"&&D.isPrimaryKey&&!L.values?Q:V(D.name||"")).add($),!D.isPrimaryKey){if(O!=="count"){var Y=O==="query"&&T&&L.values&&y.query(l(l({},L),{values:!1}));return y[O].apply(this,arguments).then(function(re){if(O==="query"){if(T&&L.values)return Y.then(function(Re){return Re=Re.result,H.addKeys(Re),re});var le=L.values?re.result.map(S):re.result;(L.values?H:Q).addKeys(le)}else if(O==="openCursor"){var ue=re,me=L.values;return ue&&Object.create(ue,{key:{get:function(){return Q.addKey(ue.primaryKey),ue.key}},primaryKey:{get:function(){var Re=ue.primaryKey;return Q.addKey(Re),Re}},value:{get:function(){return me&&H.addKey(ue.primaryKey),ue.value}}})}return re})}Q.add(d)}}return y[O].apply(this,arguments)}}),I}})}};function bs(i,a,d){if(d.numFailures===0)return a;if(a.type==="deleteRange")return null;var m=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return d.numFailures===m?null:(a=l({},a),_(a.keys)&&(a.keys=a.keys.filter(function(y,w){return!(w in d.failures)})),"values"in a&&_(a.values)&&(a.values=a.values.filter(function(y,w){return!(w in d.failures)})),a)}function jr(i,a){return d=i,((m=a).lower===void 0||(m.lowerOpen?0<Ne(d,m.lower):0<=Ne(d,m.lower)))&&(i=i,(a=a).upper===void 0||(a.upperOpen?Ne(i,a.upper)<0:Ne(i,a.upper)<=0));var d,m}function wa(i,a,M,m,y,w){if(!M||M.length===0)return i;var b=a.query.index,S=b.multiEntry,T=a.query.range,R=m.schema.primaryKey.extractKey,I=b.extractKey,C=(b.lowLevelIndex||b).extractKey,M=M.reduce(function(O,L){var $=O,D=[];if(L.type==="add"||L.type==="put")for(var B=new St,V=L.values.length-1;0<=V;--V){var H,Q=L.values[V],Y=R(Q);B.hasKey(Y)||(H=I(Q),(S&&_(H)?H.some(function(ue){return jr(ue,T)}):jr(H,T))&&(B.addKey(Y),D.push(Q)))}switch(L.type){case"add":var oe=new St().addKeys(a.values?O.map(function(me){return R(me)}):O),$=O.concat(a.values?D.filter(function(me){return me=R(me),!oe.hasKey(me)&&(oe.addKey(me),!0)}):D.map(function(me){return R(me)}).filter(function(me){return!oe.hasKey(me)&&(oe.addKey(me),!0)}));break;case"put":var ne=new St().addKeys(L.values.map(function(me){return R(me)}));$=O.filter(function(me){return!ne.hasKey(a.values?R(me):me)}).concat(a.values?D:D.map(function(me){return R(me)}));break;case"delete":var re=new St().addKeys(L.keys);$=O.filter(function(me){return!re.hasKey(a.values?R(me):me)});break;case"deleteRange":var le=L.range;$=O.filter(function(me){return!jr(R(me),le)})}return $},i);return M===i?i:(M.sort(function(O,L){return Ne(C(O),C(L))||Ne(R(O),R(L))}),a.limit&&a.limit<1/0&&(M.length>a.limit?M.length=a.limit:i.length===a.limit&&M.length<a.limit&&(y.dirty=!0)),w?Object.freeze(M):M)}function bo(i,a){return Ne(i.lower,a.lower)===0&&Ne(i.upper,a.upper)===0&&!!i.lowerOpen==!!a.lowerOpen&&!!i.upperOpen==!!a.upperOpen}function _a(i,a){return(function(d,m,y,w){if(d===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((m=Ne(d,m))===0){if(y&&w)return 0;if(y)return 1;if(w)return-1}return m})(i.lower,a.lower,i.lowerOpen,a.lowerOpen)<=0&&0<=(function(d,m,y,w){if(d===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((m=Ne(d,m))===0){if(y&&w)return 0;if(y)return-1;if(w)return 1}return m})(i.upper,a.upper,i.upperOpen,a.upperOpen)}function ka(i,a,d,m){i.subscribers.add(d),m.addEventListener("abort",function(){var y,w;i.subscribers.delete(d),i.subscribers.size===0&&(y=i,w=a,setTimeout(function(){y.subscribers.size===0&&de(w,y)},3e3))})}var ba={stack:"dbcore",level:0,name:"Cache",create:function(i){var a=i.schema.name;return l(l({},i),{transaction:function(d,m,y){var w,b,S=i.transaction(d,m,y);return m==="readwrite"&&(b=(w=new AbortController).signal,y=function(T){return function(){if(w.abort(),m==="readwrite"){for(var R=new Set,I=0,C=d;I<C.length;I++){var M=C[I],O=Cr["idb://".concat(a,"/").concat(M)];if(O){var L=i.table(M),$=O.optimisticOps.filter(function(me){return me.trans===S});if(S._explicit&&T&&S.mutatedParts)for(var D=0,B=Object.values(O.queries.query);D<B.length;D++)for(var V=0,H=(oe=B[D]).slice();V<H.length;V++)vo((ne=H[V]).obsSet,S.mutatedParts)&&(de(oe,ne),ne.subscribers.forEach(function(me){return R.add(me)}));else if(0<$.length){O.optimisticOps=O.optimisticOps.filter(function(me){return me.trans!==S});for(var Q=0,Y=Object.values(O.queries.query);Q<Y.length;Q++)for(var oe,ne,re,le=0,ue=(oe=Y[Q]).slice();le<ue.length;le++)(ne=ue[le]).res!=null&&S.mutatedParts&&(T&&!ne.dirty?(re=Object.isFrozen(ne.res),re=wa(ne.res,ne.req,$,L,ne,re),ne.dirty?(de(oe,ne),ne.subscribers.forEach(function(me){return R.add(me)})):re!==ne.res&&(ne.res=re,ne.promise=he.resolve({result:re}))):(ne.dirty&&de(oe,ne),ne.subscribers.forEach(function(me){return R.add(me)})))}}}R.forEach(function(me){return me()})}}},S.addEventListener("abort",y(!1),{signal:b}),S.addEventListener("error",y(!1),{signal:b}),S.addEventListener("complete",y(!0),{signal:b})),S},table:function(d){var m=i.table(d),y=m.schema.primaryKey;return l(l({},m),{mutate:function(w){var b=_e.trans;if(y.outbound||b.db._options.cache==="disabled"||b.explicit||b.idbtrans.mode!=="readwrite")return m.mutate(w);var S=Cr["idb://".concat(a,"/").concat(d)];return S?(b=m.mutate(w),w.type!=="add"&&w.type!=="put"||!(50<=w.values.length||ko(y,w).some(function(T){return T==null}))?(S.optimisticOps.push(w),w.mutatedParts&&ws(w.mutatedParts),b.then(function(T){0<T.numFailures&&(de(S.optimisticOps,w),(T=bs(0,w,T))&&S.optimisticOps.push(T),w.mutatedParts&&ws(w.mutatedParts))}),b.catch(function(){de(S.optimisticOps,w),w.mutatedParts&&ws(w.mutatedParts)})):b.then(function(T){var R=bs(0,l(l({},w),{values:w.values.map(function(I,C){var M;return T.failures[C]?I:(I=(M=y.keyPath)!==null&&M!==void 0&&M.includes(".")?Te(I):l({},I),Ee(I,y.keyPath,T.results[C]),I)})}),T);S.optimisticOps.push(R),queueMicrotask(function(){return w.mutatedParts&&ws(w.mutatedParts)})}),b):m.mutate(w)},query:function(w){if(!ya(_e,m)||!ga("query",w))return m.query(w);var b=((R=_e.trans)===null||R===void 0?void 0:R.db._options.cache)==="immutable",C=_e,S=C.requery,T=C.signal,R=(function(L,$,D,B){var V=Cr["idb://".concat(L,"/").concat($)];if(!V)return[];if(!($=V.queries[D]))return[null,!1,V,null];var H=$[(B.query?B.query.index.name:null)||""];if(!H)return[null,!1,V,null];switch(D){case"query":var Q=H.find(function(Y){return Y.req.limit===B.limit&&Y.req.values===B.values&&bo(Y.req.query.range,B.query.range)});return Q?[Q,!0,V,H]:[H.find(function(Y){return("limit"in Y.req?Y.req.limit:1/0)>=B.limit&&(!B.values||Y.req.values)&&_a(Y.req.query.range,B.query.range)}),!1,V,H];case"count":return Q=H.find(function(Y){return bo(Y.req.query.range,B.query.range)}),[Q,!!Q,V,H]}})(a,d,"query",w),I=R[0],C=R[1],M=R[2],O=R[3];return I&&C?I.obsSet=w.obsSet:(C=m.query(w).then(function(L){var $=L.result;if(I&&(I.res=$),b){for(var D=0,B=$.length;D<B;++D)Object.freeze($[D]);Object.freeze($)}else L.result=Te($);return L}).catch(function(L){return O&&I&&de(O,I),Promise.reject(L)}),I={obsSet:w.obsSet,promise:C,subscribers:new Set,type:"query",req:w,dirty:!1},O?O.push(I):(O=[I],(M=M||(Cr["idb://".concat(a,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[w.query.index.name||""]=O)),ka(I,O,S,T),I.promise.then(function(L){return{result:wa(L.result,w,M?.optimisticOps,m,I,b)}})}})}})}};function Mi(i,a){return new Proxy(i,{get:function(d,m,y){return m==="db"?a:Reflect.get(d,m,y)}})}var Ht=(pt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new fe.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var a=this._versions,d=a.filter(function(m){return m._cfg.version===i})[0];return d||(d=new this.Version(i),a.push(d),a.sort(nr),d.stores({}),this._state.autoSchema=!1,d)},pt.prototype._whenReady=function(i){var a=this;return this.idbdb&&(this._state.openComplete||_e.letThrough||this._vip)?i():new he(function(d,m){if(a._state.openComplete)return m(new fe.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void m(new fe.DatabaseClosed);a.open().catch(Xe)}a._state.dbReadyPromise.then(d,m)}).then(i)},pt.prototype.use=function(i){var a=i.stack,d=i.create,m=i.level,y=i.name;return y&&this.unuse({stack:a,name:y}),i=this._middlewares[a]||(this._middlewares[a]=[]),i.push({stack:a,create:d,level:m??10,name:y}),i.sort(function(w,b){return w.level-b.level}),this},pt.prototype.unuse=function(i){var a=i.stack,d=i.name,m=i.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(y){return m?y.create!==m:!!d&&y.name!==d})),this},pt.prototype.open=function(){var i=this;return Jn(Wn,function(){return wo(i)})},pt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,a=Yn.indexOf(this);if(0<=a&&Yn.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new he(function(d){i.dbReadyResolve=d}),i.openCanceller=new he(function(d,m){i.cancelOpen=m}))},pt.prototype.close=function(d){var a=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;a?(d.isBeingOpened&&d.cancelOpen(new fe.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new fe.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},pt.prototype.delete=function(i){var a=this;i===void 0&&(i={disableAutoOpen:!0});var d=0<arguments.length&&typeof arguments[0]!="object",m=this._state;return new he(function(y,w){function b(){a.close(i);var S=a._deps.indexedDB.deleteDatabase(a.name);S.onsuccess=nt(function(){var T,R,I;T=a._deps,R=a.name,I=T.indexedDB,T=T.IDBKeyRange,Li(I)||R===Si||Ii(I,T).delete(R).catch(Xe),y()}),S.onerror=Vt(w),S.onblocked=a._fireOnBlocked}if(d)throw new fe.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(b):b()})},pt.prototype.backendDB=function(){return this.idbdb},pt.prototype.isOpen=function(){return this.idbdb!==null},pt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(pt.prototype,"tables",{get:function(){var i=this;return v(this._allTables).map(function(a){return i._allTables[a]})},enumerable:!1,configurable:!0}),pt.prototype.transaction=function(){var i=(function(a,d,m){var y=arguments.length;if(y<2)throw new fe.InvalidArgument("Too few arguments");for(var w=new Array(y-1);--y;)w[y-1]=arguments[y];return m=w.pop(),[a,ut(w),m]}).apply(this,arguments);return this._transaction.apply(this,i)},pt.prototype._transaction=function(i,a,d){var m=this,y=_e.trans;y&&y.db===this&&i.indexOf("!")===-1||(y=null);var w,b,S=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(b=a.map(function(R){if(R=R instanceof m.Table?R.name:R,typeof R!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return R}),i=="r"||i===Hr)w=Hr;else{if(i!="rw"&&i!=uo)throw new fe.InvalidArgument("Invalid transaction mode: "+i);w=uo}if(y){if(y.mode===Hr&&w===uo){if(!S)throw new fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&b.forEach(function(R){if(y&&y.storeNames.indexOf(R)===-1){if(!S)throw new fe.SubTransaction("Table "+R+" not included in parent transaction.");y=null}}),S&&y&&!y.active&&(y=null)}}catch(R){return y?y._promise(null,function(I,C){C(R)}):ht(R)}var T=(function R(I,C,M,O,L){return he.resolve().then(function(){var $=_e.transless||_e,D=I._createTransaction(C,M,I._dbSchema,O);if(D.explicit=!0,$={trans:D,transless:$},O)D.idbtrans=O.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,I._state.PR1398_maxLoop=3}catch(H){return H.name===tt.InvalidState&&I.isOpen()&&0<--I._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),I.close({disableAutoOpen:!1}),I.open().then(function(){return R(I,C,M,null,L)})):ht(H)}var B,V=U(L);return V&&Vr(),$=he.follow(function(){var H;(B=L.call(D,D))&&(V?(H=qt.bind(null,null),B.then(H,H)):typeof B.next=="function"&&typeof B.throw=="function"&&(B=_o(B)))},$),(B&&typeof B.then=="function"?he.resolve(B).then(function(H){return D.active?H:ht(new fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return B})).then(function(H){return O&&D._resolve(),D._completion.then(function(){return H})}).catch(function(H){return D._reject(H),ht(H)})})}).bind(null,this,w,b,y,d);return y?y._promise(w,T,"lock"):_e.trans?Jn(_e.transless,function(){return m._whenReady(T)}):this._whenReady(T)},pt.prototype.table=function(i){if(!N(this._allTables,i))throw new fe.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},pt);function pt(i,a){var d=this;this._middlewares={},this.verno=0;var m=pt.dependencies;this._options=a=l({addons:pt.addons,autoOpen:!0,indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},m=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,w,b,S,T,R={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Xe,dbReadyPromise:null,cancelOpen:Xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};R.dbReadyPromise=new he(function(C){R.dbReadyResolve=C}),R.openCanceller=new he(function(C,M){R.cancelOpen=M}),this._state=R,this.name=i,this.on=jn(this,"populate","blocked","versionchange","close",{ready:[cr,Xe]}),this.once=function(C,M){var O=function(){for(var L=[],$=0;$<arguments.length;$++)L[$]=arguments[$];d.on(C).unsubscribe(O),M.apply(d,L)};return d.on(C,O)},this.on.ready.subscribe=ye(this.on.ready.subscribe,function(C){return function(M,O){pt.vip(function(){var L,$=d._state;$.openComplete?($.dbOpenError||he.resolve().then(M),O&&C(M)):$.onReadyBeingFired?($.onReadyBeingFired.push(M),O&&C(M)):(C(M),L=d,O||C(function D(){L.on.ready.unsubscribe(M),L.on.ready.unsubscribe(D)}))})}}),this.Collection=(y=this,Zn(ua.prototype,function(B,D){this.db=y;var O=Ei,L=null;if(D)try{O=D()}catch(V){L=V}var $=B._ctx,D=$.table,B=D.hook.reading.fire;this._ctx={table:D,index:$.index,isPrimKey:!$.index||D.schema.primKey.keyPath&&$.index===D.schema.primKey.name,range:O,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:L,or:$.or,valueMapper:B!==Fn?B:null}})),this.Table=(w=this,Zn(Ci.prototype,function(C,M,O){this.db=w,this._tx=O,this.name=C,this.schema=M,this.hook=w._allTables[C]?w._allTables[C].hook:jn(null,{creating:[Zo,Xe],reading:[no,Fn],updating:[ea,Xe],deleting:[ro,Xe]})})),this.Transaction=(b=this,Zn(Pl.prototype,function(C,M,O,L,$){var D=this;C!=="readonly"&&M.forEach(function(B){B=(B=O[B])===null||B===void 0?void 0:B.yProps,B&&(M=M.concat(B.map(function(V){return V.updatesTable})))}),this.db=b,this.mode=C,this.storeNames=M,this.schema=O,this.chromeTransactionDurability=L,this.idbtrans=null,this.on=jn(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new he(function(B,V){D._resolve=B,D._reject=V}),this._completion.then(function(){D.active=!1,D.on.complete.fire()},function(B){var V=D.active;return D.active=!1,D.on.error.fire(B),D.parent?D.parent._reject(B):V&&D.idbtrans&&D.idbtrans.abort(),ht(B)})})),this.Version=(S=this,Zn(Ai.prototype,function(C){this.db=S,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(T=this,Zn(Tn.prototype,function(C,M,O){if(this.db=T,this._ctx={table:C,index:M===":id"?null:M,or:O},this._cmp=this._ascending=Ne,this._descending=function(L,$){return Ne($,L)},this._max=function(L,$){return 0<Ne(L,$)?L:$},this._min=function(L,$){return Ne(L,$)<0?L:$},this._IDBKeyRange=T._deps.IDBKeyRange,!this._IDBKeyRange)throw new fe.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=On(a.IDBKeyRange),this._createTransaction=function(C,M,O,L){return new d.Transaction(C,M,O,d._options.chromeTransactionDurability,L)},this._fireOnBlocked=function(C){d.on("blocked").fire(C),Yn.filter(function(M){return M.name===d.name&&M!==d&&!M._state.vcFired}).map(function(M){return M.on("versionchange").fire(C)})},this.use(Rl),this.use(ba),this.use(Al),this.use(Ol),this.use(Nl);var I=new Proxy(this,{get:function(C,M,O){if(M==="_vip")return!0;if(M==="table")return function($){return Mi(d.table($),I)};var L=Reflect.get(C,M,O);return L instanceof Ci?Mi(L,I):M==="tables"?L.map(function($){return Mi($,I)}):M==="_createTransaction"?function(){return Mi(L.apply(this,arguments),I)}:L}});this.vip=I,m.forEach(function(C){return C(d)})}var xs,on=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xa=(Ss.prototype.subscribe=function(i,a,d){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:a,complete:d})},Ss.prototype[on]=function(){return this},Ss);function Ss(i){this._subscribe=i}try{xs={indexedDB:p.indexedDB||p.mozIndexedDB||p.webkitIndexedDB||p.msIndexedDB,IDBKeyRange:p.IDBKeyRange||p.webkitIDBKeyRange}}catch{xs={indexedDB:null,IDBKeyRange:null}}function ti(i){var a,d=!1,m=new xa(function(y){var w=U(i),b,S=!1,T={},R={},I={get closed(){return S},unsubscribe:function(){S||(S=!0,b&&b.abort(),C&&sn.storagemutated.unsubscribe(O))}};y.start&&y.start(I);var C=!1,M=function(){return as(L)},O=function($){ys(T,$),vo(R,T)&&M()},L=function(){var $,D,B;!S&&xs.indexedDB&&(T={},$={},b&&b.abort(),b=new AbortController,B=(function(V){var H=Hn();try{w&&Vr();var Q=Qn(i,V);return Q=w?Q.finally(qt):Q}finally{H&&mr()}})(D={subscr:$,signal:b.signal,requery:M,querier:i,trans:null}),Promise.resolve(B).then(function(V){d=!0,a=V,S||D.signal.aborted||(T={},(function(H){for(var Q in H)if(N(H,Q))return;return 1})(R=$)||C||(sn(Ti,O),C=!0),as(function(){return!S&&y.next&&y.next(V)}))},function(V){d=!1,["DatabaseClosedError","AbortError"].includes(V?.name)||S||as(function(){S||y.error&&y.error(V)})}))};return setTimeout(M,0),I});return m.hasValue=function(){return d},m.getValue=function(){return a},m}var pn=Ht;function xo(i){var a=rr;try{rr=!0,sn.storagemutated.fire(i),go(i,!0)}finally{rr=a}}q(pn,l(l({},ur),{delete:function(i){return new pn(i,{addons:[]}).delete()},exists:function(i){return new pn(i,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return a=pn.dependencies,d=a.indexedDB,a=a.IDBKeyRange,(Li(d)?Promise.resolve(d.databases()).then(function(m){return m.map(function(y){return y.name}).filter(function(y){return y!==Si})}):Ii(d,a).toCollection().primaryKeys()).then(i)}catch{return ht(new fe.MissingAPI)}var a,d},defineClass:function(){return function(i){k(this,i)}},ignoreTransaction:function(i){return _e.trans?Jn(_e.transless,i):i()},vip:Er,async:function(i){return function(){try{var a=_o(i.apply(this,arguments));return a&&typeof a.then=="function"?a:he.resolve(a)}catch(d){return ht(d)}}},spawn:function(i,a,d){try{var m=_o(i.apply(d,a||[]));return m&&typeof m.then=="function"?m:he.resolve(m)}catch(y){return ht(y)}},currentTransaction:{get:function(){return _e.trans||null}},waitFor:function(i,a){return a=he.resolve(typeof i=="function"?pn.ignoreTransaction(i):i).timeout(a||6e4),_e.trans?_e.trans.waitFor(a):a},Promise:he,debug:{get:function(){return Ut},set:function(i){rs(i)}},derive:ae,extend:k,props:q,override:ye,Events:jn,on:sn,liveQuery:ti,extendObservabilitySet:ys,getByKeyPath:ce,setByKeyPath:Ee,delByKeyPath:function(i,a){typeof a=="string"?Ee(i,a,void 0):"length"in a&&[].map.call(a,function(d){Ee(i,d,void 0)})},shallowClone:wt,deepClone:Te,getObjectDiff:ks,cmp:Ne,asap:ze,minKey:-1/0,addons:[],connections:Yn,errnames:tt,dependencies:xs,cache:Cr,semVer:"4.2.0",version:"4.2.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,a,d){return i+a/Math.pow(10,2*d)})})),pn.maxKey=On(pn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(sn(Ti,function(i){rr||(i=new CustomEvent(ds,{detail:i}),rr=!0,dispatchEvent(i),rr=!1)}),addEventListener(ds,function(i){i=i.detail,rr||xo(i)}));var Rn,rr=!1,So=function(){};return typeof BroadcastChannel<"u"&&((So=function(){(Rn=new BroadcastChannel(ds)).onmessage=function(i){return i.data&&xo(i.data)}})(),typeof Rn.unref=="function"&&Rn.unref(),sn(Ti,function(i){rr||Rn.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!Ht.disableBfCache&&i.persisted){Ut&&console.debug("Dexie: handling persisted pagehide"),Rn?.close();for(var a=0,d=Yn;a<d.length;a++)d[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!Ht.disableBfCache&&i.persisted&&(Ut&&console.debug("Dexie: handling persisted pageshow"),So(),xo({all:new St(-1/0,[[]])}))})),he.rejectionMapper=function(i,a){return!i||i instanceof Le||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Kt[i.name]?i:(a=new Kt[i.name](a||i.message,i),"stack"in i&&ie(a,"stack",{get:function(){return this.inner.stack}}),a)},rs(Ut),l(Ht,Object.freeze({__proto__:null,Dexie:Ht,liveQuery:ti,Entity:sa,cmp:Ne,PropModification:_r,replacePrefix:function(i,a){return new _r({replacePrefix:[i,a]})},add:function(i){return new _r({add:i})},remove:function(i){return new _r({remove:i})},default:Ht,RangeSet:St,mergeRanges:$i,rangesOverlap:fa}),{default:Ht}),Ht})})(wl)),wl.exports}var Sv=xv();const mc=El(Sv),qf=Symbol.for("Dexie"),xl=globalThis[qf]||(globalThis[qf]=mc);if(mc.semVer!==xl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${mc.semVer} and ${xl.semVer}`);const{liveQuery:Qv,mergeRanges:Gv,rangesOverlap:Jv,RangeSet:Yv,cmp:Xv,Entity:Zv,PropModification:ey,replacePrefix:ty,add:ny,remove:ry,DexieYProvider:iy}=xl,Zi=new Map,Ev=300*1e3;class Cv extends xl{notes;mutations;constructor(){super("prompt_manager_db"),this.version(1).stores({notes:"id, remote_id, updated_at, user_id, dirty, deleted",mutations:"++id, type, noteId, ts"}),this.version(2).stores({notes:"id, remote_id, updated_at, user_id, dirty, deleted, *title, *body",mutations:"++id, type, noteId, ts"})}async getNote(r){const o=Zi.get(r);if(o)return o;const l=await this.notes.get(r);return l&&(Zi.set(r,l),setTimeout(()=>Zi.delete(r),Ev)),l}async updateNote(r){await this.notes.put(r),Zi.delete(r.id)}async batchUpdateNotes(r){await this.notes.bulkPut(r),r.forEach(o=>Zi.delete(o.id))}async getNotesPaginated(r=1,o=20){const l=(r-1)*o;return await this.notes.where("deleted").equals(!1).reverse().sortBy("updated_at").then(c=>c.slice(l,l+o))}async searchNotes(r){const o=r.toLowerCase();return await this.notes.where("deleted").equals(!1).filter(l=>l.title.toLowerCase().includes(o)||l.body.toLowerCase().includes(o)).toArray()}async getDirtyNotes(){return await this.notes.where("dirty").equals(!0).toArray()}async cleanupOldMutations(r=7){const o=Date.now()-r*24*60*60*1e3;await this.mutations.where("ts").below(o).delete()}async getStats(){const r=await this.notes.count(),o=await this.mutations.count();return{notes:r,mutations:o,cacheSize:Zi.size}}clearCache(){Zi.clear()}}const Rt=new Cv,jv=async()=>{try{await Rt.open(),await Rt.cleanupOldMutations(),console.log("Database initialized successfully")}catch(f){throw console.error("Database initialization failed:",f),f}};let rc=null,Wf=0;const Pv=300*1e3;let gi=!1,Sl=[],vc=0;const Vf=30*1e3;async function hh(){const f=Date.now();if(rc&&f-Wf<Pv)return rc;try{const{data:r}=await Mr.auth.getUser();return console.log("getUserId called, user data:",r.user?"User found":"No user"),r.user&&(console.log("User ID:",r.user.id),rc=r.user.id,Wf=f),r.user?.id??null}catch(r){return console.error("Error getting user ID:",r),null}}async function Tv(f){await Rt.updateNote(f)}async function Hf(f){await Rt.mutations.add(f),gi||Ov()}function Ov(){const f=Date.now();f-vc<Vf?setTimeout(()=>{gi||wi()},Vf-(f-vc)):wi()}async function wi(){if(!gi){gi=!0;try{await _l(),await Nv(),vc=Date.now()}catch(f){console.error("Sync failed:",f)}finally{if(gi=!1,Sl.length>0){const f=Sl.shift();f&&setTimeout(f,1e3)}}}}async function _l(){const f=await hh();if(!f)return;const r=await Rt.mutations.orderBy("ts").toArray();if(r.length===0)return;console.log(`Flushing ${r.length} mutations`);const o=10;for(let l=0;l<r.length;l+=o){const c=r.slice(l,l+o);for(const p of c)try{if(p.type==="upsert"){const v=await Rt.getNote(p.noteId);if(!v){await Rt.mutations.delete(p.id);continue}if(v.deleted){const _=v.remote_id;if(_){const{error:k}=await Mr.from("notes").delete().eq("id",_);k||await Rt.notes.delete(v.id)}}else{const{data:_,error:k}=await Mr.from("notes").upsert({id:v.remote_id,title:v.title,body:v.body,user_id:f,updated_at:v.updated_at,created_at:v.created_at}).select().single();if(k)throw k;await Rt.updateNote({...v,remote_id:_.id,user_id:f,dirty:!1})}}else if(p.type==="delete"){const v=await Rt.getNote(p.noteId);if(v?.remote_id){const{error:_}=await Mr.from("notes").delete().eq("id",v.remote_id);if(_)throw _}await Rt.notes.delete(p.noteId)}await Rt.mutations.delete(p.id)}catch(v){console.error("Flush error",v);break}}}async function Nv(){const f=await hh();if(!f){console.log("No user_id found, skipping pullRemote");return}console.log("Pulling remote notes for user:",f);try{const{data:r,error:o}=await Mr.from("notes").select("*").order("updated_at",{ascending:!1}).limit(100);if(o)throw console.error("Error pulling remote notes:",o),o;console.log("Remote notes found:",r.length);const l=20;for(let c=0;c<r.length;c+=l){const p=r.slice(c,c+l),v=[];for(const _ of p){const k=await Rt.notes.where("remote_id").equals(_.id).first();k&&k.updated_at>_.updated_at||v.push({id:k?.id??crypto.randomUUID(),remote_id:_.id,title:_.title??"",body:_.body??"",created_at:_.created_at??new Date().toISOString(),updated_at:_.updated_at??new Date().toISOString(),user_id:_.user_id,dirty:!1,deleted:!1})}v.length>0&&(await Rt.batchUpdateNotes(v),console.log(`Synced ${v.length} remote notes`))}}catch(r){throw console.error("Pull remote failed:",r),r}}async function Qf(){await jv(),await wi()}window.addEventListener("app-sync-pending",()=>{gi?Sl.push(wi):wi()});window.addEventListener("online",()=>{console.log("App is back online, triggering sync"),gi?Sl.push(wi):wi(),"serviceWorker"in navigator&&"SyncManager"in window&&navigator.serviceWorker.ready.then(f=>f.sync.register("sync-notes")).catch(()=>{})});window.addEventListener("online-status-change",f=>{const{online:r}=f.detail;console.log("Online status changed:",r),r&&!gi&&wi()});async function Rv(){if("serviceWorker"in navigator&&"SyncManager"in window){const f=await navigator.serviceWorker.ready;try{await f.sync.register("sync-notes")}catch{}}}function Av(){const f=new Date().toISOString();return{id:crypto.randomUUID(),title:"",body:"",created_at:f,updated_at:f,dirty:!0,deleted:!1}}const Iv=Ve.memo(function({note:r,onCopy:o,onEdit:l,onDelete:c,isOnline:p}){const[v,_]=Ve.useState(!1),[k,E]=Ve.useState({x:0,y:0}),j=Ve.useRef(null),N=Ve.useRef(null),q=Ve.useRef(!1),Z=ce=>{const Ee=new Date(ce),bt=new Date().getTime()-Ee.getTime(),ut=Math.floor(bt/(1e3*60*60*24));return ut===0?"Today":ut===1?"Yesterday":ut<7?`${ut} days ago`:ut<30?`${Math.floor(ut/7)} weeks ago`:ut<365?`${Math.floor(ut/30)} months ago`:`${Math.floor(ut/365)} years ago`},ie=ce=>{q.current=!1,N.current=setTimeout(()=>{q.current=!0,E({x:ce.clientX,y:ce.clientY}),_(!0)},500)},ae=()=>{N.current&&(clearTimeout(N.current),N.current=null)},te=()=>{N.current&&(clearTimeout(N.current),N.current=null)},De=ce=>{q.current=!1,N.current=setTimeout(()=>{q.current=!0;const Ee=ce.touches[0];E({x:Ee.clientX,y:Ee.clientY}),_(!0)},500)},Me=()=>{N.current&&(clearTimeout(N.current),N.current=null)},ye=ce=>{q.current||(ce.preventDefault(),o(r))},be=ce=>{ce.preventDefault(),E({x:ce.clientX,y:ce.clientY}),_(!0)},ze=()=>{_(!1),q.current=!1};return Ve.useEffect(()=>{const ce=Ee=>{const wt=Ee.target,bt=document.querySelector("[data-context-menu]");bt&&!bt.contains(wt)&&ze()};return v&&(document.addEventListener("mousedown",ce),document.addEventListener("touchstart",ce)),()=>{document.removeEventListener("mousedown",ce),document.removeEventListener("touchstart",ce)}},[v]),z.jsxs(z.Fragment,{children:[z.jsx("div",{ref:j,className:"group cursor-pointer select-none bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-6 shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-300 hover:border-blue-300/50 dark:hover:border-blue-600/50",onClick:ye,onMouseDown:ie,onMouseUp:ae,onMouseLeave:te,onTouchStart:De,onTouchEnd:Me,onContextMenu:be,children:z.jsxs("div",{className:"flex flex-col h-full",children:[z.jsxs("div",{className:"flex justify-between items-start mb-4",children:[z.jsx("h3",{className:"text-lg font-bold line-clamp-1 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-mono",children:r.title||"Untitled"}),z.jsx("div",{className:`w-3 h-3 rounded-full ${p?"bg-gradient-to-r from-green-400 to-emerald-500 animate-pulse":"bg-gradient-to-r from-orange-400 to-red-500"}`})]}),z.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4 flex-grow overflow-hidden leading-relaxed",children:z.jsx("span",{className:"line-clamp-4",children:r.body||"No content yet..."})}),z.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-auto pt-3 border-t border-slate-200/50 dark:border-slate-700/50 font-medium",children:Z(r.updated_at)})]})}),v&&z.jsxs("div",{"data-context-menu":!0,className:"fixed z-50 bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl shadow-2xl py-2 min-w-[140px]",style:{left:`${k.x}px`,top:`${k.y}px`,transform:"translate(-50%, -100%)"},onClick:ce=>ce.stopPropagation(),children:[z.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm text-slate-700 dark:text-slate-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 flex items-center gap-3 transition-colors duration-200",onClick:ce=>{ce.stopPropagation(),l(r),ze()},children:[z.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),z.jsxs("button",{className:"w-full px-4 py-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-3 transition-colors duration-200",onClick:ce=>{ce.stopPropagation(),c(r),ze()},children:[z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})});function Lv({initial:f,onSave:r,onCancel:o}){const[l,c]=Ve.useState(f?.title??""),[p,v]=Ve.useState(f?.body??""),[_,k]=Ve.useState(!1),E=Ve.useRef(null);Ve.useEffect(()=>{c(f?.title??""),v(f?.body??""),setTimeout(()=>E.current?.focus(),100)},[f]);const j=async()=>{f&&(k(!0),await new Promise(q=>setTimeout(q,300)),r({...f,title:l.trim()||"Untitled",body:p.trim(),updated_at:new Date().toISOString(),dirty:!0}),k(!1))},N=q=>{q.key==="Escape"&&!_&&o(),(q.ctrlKey||q.metaKey)&&q.key==="s"&&(q.preventDefault(),j())};return z.jsx("div",{className:"modal-backdrop animate-fadeIn",onClick:o,children:z.jsxs("div",{className:"modal-content animate-slideUp",onClick:q=>q.stopPropagation(),onKeyDown:N,children:[z.jsxs("div",{className:"flex items-center justify-between mb-6",children:[z.jsx("h2",{className:"text-2xl font-bold text-gradient",children:f?.id?"Edit Note":"New Note"}),z.jsx("button",{onClick:o,className:"btn-icon","aria-label":"Close modal",disabled:_,children:z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"note-title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title"}),z.jsx("input",{ref:E,id:"note-title",value:l,onChange:q=>c(q.target.value),placeholder:"Enter a title for your note...",className:"input-field",disabled:_})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"note-body",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Content"}),z.jsx("textarea",{id:"note-body",value:p,onChange:q=>v(q.target.value),placeholder:"Write your prompt or note content here...",rows:10,className:"input-field resize-none",disabled:_}),z.jsxs("div",{className:"flex justify-between items-center mt-2",children:[z.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p.length," characters"]}),z.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Press ",z.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-slate-100 dark:bg-slate-700 rounded",children:"Ctrl"}),"+",z.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-slate-100 dark:bg-slate-700 rounded",children:"S"})," to save"]})]})]})]}),z.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[z.jsx("button",{className:"btn min-w-[100px]",onClick:o,disabled:_,children:"Cancel"}),z.jsx("button",{className:"btn-primary min-w-[100px] flex items-center justify-center gap-2",onClick:j,disabled:_,children:_?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"spinner"}),z.jsx("span",{children:"Saving..."})]}):z.jsxs(z.Fragment,{children:[z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),z.jsx("span",{children:"Save"})]})})]})]})})}function Dv({onAuthSuccess:f}){const[r,o]=Ve.useState(!1),[l,c]=Ve.useState(""),[p,v]=Ve.useState(""),[_,k]=Ve.useState(!1),[E,j]=Ve.useState(""),N=async q=>{q.preventDefault(),k(!0),j("");try{if(r){const{error:Z}=await Mr.auth.signUp({email:l,password:p});if(Z)throw Z;j("Check your email for confirmation link!")}else{const{error:Z}=await Mr.auth.signInWithPassword({email:l,password:p});if(Z)throw Z;f()}}catch(Z){j(Z.message)}finally{k(!1)}};return z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 px-4",children:z.jsxs("div",{className:"max-w-md w-full space-y-8",children:[z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg mx-auto mb-4",children:z.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),z.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:r?"Create Account":"Sign In"}),z.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:r?"Sign up to start organizing your prompts":"Welcome back to your prompt manager"})]}),z.jsxs("form",{className:"mt-8 space-y-6",onSubmit:N,children:[z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),z.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:q=>c(q.target.value),className:"mt-1 block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm placeholder-slate-400 dark:placeholder-slate-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email"})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),z.jsx("input",{id:"password",name:"password",type:"password",autoComplete:r?"new-password":"current-password",required:!0,value:p,onChange:q=>v(q.target.value),className:"mt-1 block w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm placeholder-slate-400 dark:placeholder-slate-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password"})]})]}),E&&z.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:z.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:E})}),z.jsx("div",{children:z.jsx("button",{type:"submit",disabled:_,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:_?z.jsx("div",{className:"spinner"}):r?"Create Account":"Sign In"})}),z.jsx("div",{className:"text-center",children:z.jsx("button",{type:"button",onClick:()=>o(!r),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:r?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})}const $v=window.requestIdleCallback||(f=>setTimeout(f,1));function Mv(){const[f,r]=Ve.useState(!1);return Ve.useEffect(()=>{const o=localStorage.getItem("theme"),l=window.matchMedia("(prefers-color-scheme: dark)").matches;r(o?o==="dark":l)},[]),Ve.useEffect(()=>{if(typeof window<"u"){const o=document.documentElement;f?(o.classList.add("dark"),localStorage.setItem("theme","dark")):(o.classList.remove("dark"),localStorage.setItem("theme","light"))}},[f]),{dark:f,setDark:r}}function Uv(){const{dark:f,setDark:r}=Mv(),[o,l]=Ve.useState([]),[c,p]=Ve.useState(null),[v,_]=Ve.useState(null),[k,E]=Ve.useState(navigator.onLine),[j,N]=Ve.useState("idle"),[q,Z]=Ve.useState(null),[ie,ae]=Ve.useState(!0),[te,De]=Ve.useState("");Ve.useEffect(()=>{const xe=async()=>{try{const et=await Rt.notes.orderBy("updated_at").reverse().toArray();l(et.filter(xt=>!xt.deleted))}catch(et){console.error("Error loading notes:",et)}};xe();const Te=Rt.notes.hook("creating",xe);return Rt.notes.hook("updating",xe),Rt.notes.hook("deleting",xe),()=>{Te()}},[]),Ve.useEffect(()=>{const xe=async()=>{try{const{data:{user:et},error:xt}=await Mr.auth.getUser();xt&&console.error("Error checking user:",xt),Z(et),et&&$v(()=>{Qf().catch(console.error),Rv()})}catch(et){console.error("Error in checkUser:",et)}finally{ae(!1)}},Te=setTimeout(()=>{ae(!1)},1500);return xe(),()=>clearTimeout(Te)},[]),Ve.useEffect(()=>{const xe=async()=>{E(!0),N("syncing"),await _l(),N("synced"),setTimeout(()=>N("idle"),2e3)},Te=()=>{E(!1),N("idle")};return window.addEventListener("online",xe),window.addEventListener("offline",Te),navigator.onLine&&xe(),()=>{window.removeEventListener("online",xe),window.removeEventListener("offline",Te)}},[]),Ve.useEffect(()=>{const xe=Te=>{Te.preventDefault(),_(Te)};return window.addEventListener("beforeinstallprompt",xe),()=>window.removeEventListener("beforeinstallprompt",xe)},[]);const Me=async()=>{v&&(v.prompt(),await v.userChoice,_(null))};async function ye(){const xe=Av();p(xe)}async function be(xe){(xe.title.trim()||xe.body.trim())&&(await Tv(xe),await Hf({type:"upsert",noteId:xe.id,ts:Date.now(),payload:{title:xe.title,body:xe.body}}),await _l()),p(null)}async function ze(xe){await Rt.notes.put({...xe,deleted:!0,dirty:!0,updated_at:new Date().toISOString()}),await Hf({type:"delete",noteId:xe.id,ts:Date.now()}),await _l()}async function ce(xe){try{await navigator.clipboard.writeText(xe.body||"");const Te=document.createElement("div");Te.className="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-slideUp",Te.textContent="Copied to clipboard!",document.body.appendChild(Te),setTimeout(()=>Te.remove(),2e3)}catch{const Te=document.createElement("textarea");Te.value=xe.body||"",document.body.appendChild(Te),Te.select(),document.execCommand("copy"),document.body.removeChild(Te);const et=document.createElement("div");et.className="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-slideUp",et.textContent="Copied to clipboard!",document.body.appendChild(et),setTimeout(()=>et.remove(),2e3)}}async function Ee(){if(!q){console.log("No user authenticated, cannot sync");return}N("syncing");try{console.log("Force syncing..."),await Qf(),N("synced"),setTimeout(()=>N("idle"),2e3)}catch(xe){console.error("Force sync error:",xe),N("idle")}}const wt=()=>{console.log("Authentication successful")};Ve.useEffect(()=>{const xe=Te=>{if((Te.ctrlKey||Te.metaKey)&&Te.key==="k"){Te.preventDefault();const et=document.querySelector('input[placeholder="Search notes..."]');et&&et.focus()}Te.key==="Escape"&&te&&De("")};return document.addEventListener("keydown",xe),()=>document.removeEventListener("keydown",xe)},[te]);const[bt,ut]=Ve.useState("");Ve.useEffect(()=>{const xe=setTimeout(()=>{ut(te)},150);return()=>clearTimeout(xe)},[te]);const nn=Ve.useMemo(()=>{if(!bt.trim())return o;const xe=bt.toLowerCase().trim();return o.filter(Te=>Te.title?.toLowerCase().includes(xe)||Te.body?.toLowerCase().includes(xe))},[o,bt]);return ie?z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:z.jsxs("div",{className:"text-center",children:[z.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg mx-auto mb-4",children:z.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),z.jsx("div",{className:"spinner mb-4"}),z.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Loading App"}),z.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Getting your notes ready..."})]})}):q?z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[z.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-slate-900/80 border-b border-slate-200/50 dark:border-slate-700/50 shadow-sm",children:z.jsx("div",{className:"max-w-7xl mx-auto px-4",children:z.jsxs("div",{className:"flex items-center justify-between py-4",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform duration-200",children:z.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),z.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full animate-pulse"})]}),z.jsxs("div",{className:"flex flex-col",children:[z.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Prompt Man"}),z.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Your AI companion"})]})]}),z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:"flex items-center gap-2",children:k?z.jsxs("div",{className:"flex items-center gap-2",children:[j==="syncing"&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"spinner"}),z.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Syncing..."})]}),j==="synced"&&z.jsxs(z.Fragment,{children:[z.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),z.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Synced"})]}),j==="idle"&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),z.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Online"})]})]}):z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"}),z.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Offline"})]})}),z.jsx("button",{className:"btn-icon",onClick:Ee,"aria-label":"Force sync",title:"Force sync",children:z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),z.jsx("button",{className:"btn-icon",onClick:()=>r(!f),"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),z.jsx("button",{className:"btn-icon",onClick:async()=>{await Mr.auth.signOut()},"aria-label":"Sign out",title:"Sign out",children:z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),v&&z.jsxs("button",{className:"btn-primary flex items-center gap-2",onClick:Me,children:[z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),z.jsx("span",{children:"Install"})]})]})]})})}),z.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[z.jsx("section",{className:"mb-8",children:z.jsxs("div",{className:"relative max-w-lg mx-auto",children:[te&&z.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 mb-3 text-center font-medium",children:["Found ",nn.length," of ",o.length," notes"]}),z.jsxs("div",{className:"relative group",children:[z.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:z.jsx("svg",{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),z.jsx("input",{type:"text",placeholder:"Search your prompts... (Ctrl+K)",value:te,onChange:xe=>De(xe.target.value),className:"block w-full pl-12 pr-12 py-4 border-2 border-slate-200 dark:border-slate-600 rounded-2xl shadow-sm placeholder-slate-400 dark:placeholder-slate-500 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-center transition-all duration-300 hover:shadow-lg focus:shadow-xl hover:scale-[1.02]"}),te&&z.jsx("button",{onClick:()=>De(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-slate-100 dark:hover:bg-slate-700 rounded-r-2xl transition-colors duration-200",children:z.jsx("svg",{className:"h-5 w-5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),nn.length===0?z.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[z.jsxs("div",{className:"relative mb-8",children:[z.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 flex items-center justify-center shadow-lg",children:z.jsx("svg",{className:"w-16 h-16 text-blue-500 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),z.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full animate-bounce"})]}),z.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-3",children:te?"No prompts found":"Ready to create magic?"}),z.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center max-w-md mb-8 leading-relaxed",children:te?`No prompts found matching "${te}". Try a different search term or create something new!`:"Start organizing your AI prompts and ideas. Your first prompt is just a click away! ✨"}),z.jsxs("button",{className:"group relative px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center gap-3",onClick:ye,children:[z.jsx("svg",{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),z.jsx("span",{children:"Create Your First Prompt"})]})]}):z.jsx("section",{className:"note-grid",children:nn.map(xe=>z.jsx(Iv,{note:xe,onCopy:ce,onEdit:p,onDelete:ze,isOnline:k},xe.id))})]}),c&&z.jsx(Lv,{initial:c,onSave:be,onCancel:()=>p(null)}),z.jsx("button",{className:"group fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-2xl hover:shadow-3xl transform hover:scale-110 transition-all duration-300 flex items-center justify-center z-50",onClick:ye,"aria-label":"Create new prompt",children:z.jsx("svg",{className:"w-7 h-7 group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}):z.jsx(Dv,{onAuthSuccess:wt})}const ph=performance.now(),Bv=()=>{["/src/App.tsx","/src/styles.css","/manifest.webmanifest"].forEach(r=>{const o=document.createElement("link");o.rel="preload",o.as=r.endsWith(".css")?"style":"script",o.href=r,document.head.appendChild(o)})},Fv=async()=>{if("serviceWorker"in navigator)try{const f=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});return console.log("Service Worker registered successfully:",f),f.addEventListener("updatefound",()=>{const r=f.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&console.log("New service worker available")})}),navigator.serviceWorker.addEventListener("message",r=>{r.data?.type==="SYNC_PENDING"&&window.dispatchEvent(new Event("app-sync-pending")),r.data?.type==="ONLINE_STATUS"&&window.dispatchEvent(new CustomEvent("online-status-change",{detail:{online:r.data.online}}))}),f.addEventListener("error",r=>{console.error("Service Worker registration failed:",r)}),f}catch(f){console.error("Service Worker registration failed:",f)}},zv=async()=>{Bv(),await Fv();const f=performance.now()-ph;console.log(`App initialized in ${f.toFixed(2)}ms`),yp.createRoot(document.getElementById("root")).render(z.jsx(cp.StrictMode,{children:z.jsx(Uv,{})}))};zv().catch(console.error);window.addEventListener("load",()=>{const f=performance.now()-ph;console.log(`App fully loaded in ${f.toFixed(2)}ms`),"gtag"in window&&window.gtag("event","timing_complete",{name:"app_load",value:Math.round(f)})});
